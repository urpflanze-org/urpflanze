<h1>Creating a scene</h1>

<h2>Hello Rect!</h2>
After <a href="#/it/Installazione">installing</a> the library, all you need to create a scene are this three classes:<br />
<ul class="details">
	<li><mark>Scene</mark> <i>The reference to the created scene</i></li>
	<li><mark>Rect</mark> <i>A primitive shape to be added to the scene</i></li>
	<li><mark>DrawerCanvas</mark> <i>The class allowing to "draw" the scene onto the canvas</i></li>
</ul>

<!-- prettier-ignore -->
<script id="c-e_1" class="runnable-script">/**
 * Creating a scene with a rectangle in the center
 */
const scene = new Urpflanze.Scene()

const rect = new Urpflanze.Rect()
scene.add(rect) // Add the rectangle to the scene

const drawer = new Urpflanze.DrawerCanvas(scene, document.body)
drawer.draw() // Draw the scene on canvas
</script>

<h2>Repetitions</h2>
<p>
	By using Urpflanze you can manage two types of repetitions: the ring or the matrix type.

	<div class="repetition-grid">
		<div>
			<img src="assets/images/repetition-type-ring.svg" class="repetition-type" />
		</div>
		<div>
			<h3>Ring</h3>
			<p>
				To define a <a target="_blank" href="https://docs.urpflanze.org/core/#/ref/ERepetitionType">Ring</a> repetition just set a numeric value to the <mark>repetitions</mark> property.
				The shapes will be distributed over the circumference whose radius is defined by the <mark>distance</mark> property and will rotate towards its center.
			</p>
		</div>
	</div>
	<div class="repetition-grid">
		<div>
			<img src="assets/images/repetition-type-matrix.svg" class="repetition-type" />
		</div>
		<div>
			<h3>Matrix</h3>
			<p>
				To define a <a target="_blank" href="https://docs.urpflanze.org/core/#/ref/ERepetitionType">Matrix</a> repetition, provide an array of one or two numbers to the <mark>repetitions</mark> property.
				If the provided array is defined by a single number (for example: [3]), the matrix will be defined by 3 rows and 3 columns. If, on the other hand, the provided array is defined by two numbers (for example [3, 5]) the matrix will have 3 rows and 5 columns.
			</p>
			<p>
				For matrix repetitions it's also possible to define a <mark>distance</mark> property as the distance between the rows and columns starting from the scene center.
			</p>
		</div>
	</div>
</p>

<!-- prettier-ignore -->
<script id="c-e_2" class="runnable-script">/**
 * Creating a scene with a rectangle in the center
 */
const scene = new Urpflanze.Scene()

const rect = new Urpflanze.Rect({
	repetitions: 8, // With a number we will have a ring repetitions
	distance: 100,
	sideLength: 25 // Size of the radius of the rectangle
})

// Adds the rectangle to the scene
scene.add(rect)

const drawer = new Urpflanze.DrawerCanvas(scene, document.body)
drawer.draw() // Draw the scene on canvas
</script>

<h2>Managing the scene</h2>

Before continuing it's important to account the hierarchy of the classes that can be added to a scene.<br />

<img src="assets/images/hierarchy.svg" class="hierarchy" />

<ul class="details">
	<li>
		<mark>Group</mark>
		<i>
			is a logical class, a SceneChild container, its purpose is to propagate its properties down to its children
		</i>
	</li>
	<li><mark>Shape</mark> <i>is a SceneChild encapsulator properties can be applied to</i></li>
	<li><mark>ShapeBuffer</mark> <i>is a ShapePrimitive generated by a static buffer</i></li>
	<li><mark>ShapeLoop</mark> <i>is a ShapePrimitive generated by a loop</i></li>
	<li>
		<mark>ShapeRecursive</mark>
		<i>is SceneChild repeating shape that repeats on each vertex. It is also possible to apply properties to it</i>
	</li>
	<li>
		<mark>ShapeFollow</mark>
		<i>is SceneChild repeating shape that repeats on each vertex of another SceneChild. It is also possible to apply properties to it</i>
	</li>
</ul>

You can basically use some ShapeBuffer and ShapeLoop

<ul class="details">
	<li><mark>ShapeBuffer</mark> <i>Line, Triangle, Rect</i></li>
	<li><mark>ShapeLoop</mark> <i>Polygon, Circle, Spiral, Rose, Lissajous</i></li>
</ul>

<h2>Containers: Group and Shape</h2>

<p>With Groups, you can apply the same properties to multiple SceneChilds.</p>

<!-- prettier-ignore -->
<script id="c-e_3" class="runnable-script">/**
 * Creating a scene with a rhombus and a line in the center
 */
const scene = new Urpflanze.Scene()

const rect = new Urpflanze.Rect()
const line = new Urpflanze.Line({
	// When a property is present the Group will not modify it
	rotateZ: Urpflanze.toRadians(90)
})

const group = new Urpflanze.Group({
	repetitions: 8,
	sideLength: 30,
	distance: 120,
	rotateZ: Urpflanze.toRadians(45)
})

// Propagate the proprieties to `rect` and `line`
group.add(rect, line)

// Add the group to the scene
scene.add(group)

// Draw the scene
const drawer = new Urpflanze.DrawerCanvas(scene, document.body)
drawer.draw()
</script>

<p>With the Shape instead it is possible to repeat and transform the whole SceneChild.</p>

<!-- prettier-ignore -->
<script id="c-e_4" class="runnable-script">/**
 * Creation of a scene with the encapsulation and repetition of a rhombus and a line in the center
 */
const scene = new Urpflanze.Scene()

// Create the group shown in the previous example
const rect = new Urpflanze.Rect()
const line = new Urpflanze.Line({
	rotateZ: Urpflanze.toRadians(90)
})

const group = new Urpflanze.Group({
	repetitions: 8,
	sideLength: 30,
	distance: 120,
	rotateZ: Urpflanze.toRadians(45)
})

group.add(rect, line)

const container = new Urpflanze.Shape({
	// SceneChild to apply properties and transformations to
	shape: group,

	repetitions: 8,
	distance: 120,

	// I scale the past shape so that it fits into the scene
	scale: .28
})

// I add the Shape to the scene
scene.add(container)

// Draw the scene
const drawer = new Urpflanze.DrawerCanvas(scene, document.body)
drawer.draw()
</script>

<h2>Styling</h2>

For the <a target="_blank" href="https://docs.urpflanze.org/core/#/ref/ShapePrimitive">ShapePrimitive</a> - which are the instances of the drawn shapes - it is possible
set apply border or fill color through the <mark>drawer</mark> property.

<!-- prettier-ignore -->
<script id="c-e_5" class="runnable-script">/**
 * ShapePrimitive style
 */
const scene = new Urpflanze.Scene({
	color: '#f70',
	background: '#fff'
})

const group = new Urpflanze.Group({ repetitions: 4 })

const rects = new Urpflanze.Shape({
	distance: 110,

	shape: new Urpflanze.Circle({
		repetitions: [3, 1],
		sideLength: 7.5,
		drawer: { fill: '#f70' }
	})
})

const triangles = new Urpflanze.Triangle({
	sideLength: 10,
	distance: 150,
	drawer: { fill: '#fff' }
})

const lines = new Urpflanze.Line({
	sideLength: 65,
	distance: 75
})

group.add(triangles, lines, rects)

const center = new Urpflanze.Circle({
	distance: 0,
	sideLength: 10,
	drawer: { lineWidth: 2 }
})

const circles = new Urpflanze.Circle({
	repetitions: 8,
	distance: 90,
	sideLength: 80,
	drawer: { fill: 'hsla(200, 100%, 60%, .2)' }
})

scene.add(circles, group, center)

const drawer = new Urpflanze.DrawerCanvas(scene, document.body)
drawer.draw()
</script>

<div class="next-page">
	<a href="#/en/Manage-repetitions">Manage repetitions -></a>
</div>
