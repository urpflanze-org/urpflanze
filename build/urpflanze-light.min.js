!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Urpflanze=t():e.Urpflanze=t()}(window,(function(){return(()=>{var __webpack_modules__={9277:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zO:()=>now,Ux:()=>toDegrees,Yr:()=>toRadians,qo:()=>toArray,uZ:()=>clamp,Sr:()=>relativeClamp});const parseFunction={suffix:"$fn:",parse:e=>"function"==typeof e&&"SimpleAnimation"!==e.name?parseFunction.suffix+e.toString():e,unparse:data=>"string"==typeof data&&0===data.indexOf(parseFunction.suffix)?eval(data.substr(parseFunction.suffix.length)):data};function cancelablePromise(e){let t=!1,i=!1;return{promise:new Promise(((s,n)=>{e.then((e=>{t=!0,i?n("canceled"):s(e)})).catch((e=>{t=!0,n(i?"canceled":e)}))})),resolved:()=>t,canceled:()=>i,cancel:()=>{i=!0}}}function now(){return performance.now()}function toDegrees(e){return 180*e/Math.PI}function toRadians(e){return e*Math.PI/180}function toArray(e){return Array.isArray(e)?e:[e,e]}function clamp(e,t,i){return i<=e?e:i>=t?t:i}function relativeClamp(e,t,i,s,n){return clamp(s,n,(i-e)/(t-e)*(n-s)+s)}},2024:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(21),n=i.n(s),r=i(9835),a=i(1437);const o={random:new(n())(Math.random)},h={noise:(e="random",t=0,i=0,s=0)=>(o[e]||(o[e]=new(n())(e)),o[e].noise3D(t,i,s)),angle:(e,t=[0,0])=>{if(e.type==r.i.Matrix){const i=a.al((e.col.count-1)/2,(e.row.count-1)/2);i[0]+=i[0]*t[0],i[1]+=i[1]*t[1];const s=e.col.index-1-i[0],n=e.row.index-1-i[1];return 0===s?0:Math.atan(n/s)}return e.angle},angle2:(e,t=[0,0])=>{if(e.type==r.i.Matrix){const i=a.al((e.col.count-1)/2,(e.row.count-1)/2);i[0]+=i[0]*t[0],i[1]+=i[1]*t[1];const s=e.col.index-1-i[0],n=e.col.index-1-i[1];return 0===s?0:Math.atan2(n,s)}return e.angle},distance:(e,t=[0,0])=>{if(e.type==r.i.Matrix){const i=a.al(.5,.5);i[0]+=i[0]*t[0],i[1]+=i[1]*t[1];const s=a.al(e.col.offset-.5/e.col.count,e.row.offset-.5/e.row.count);return a.TE(s,i)}return 1},percW:(e,t)=>t&&t.scene?t.scene.width*e/100:e,percH:(e,t)=>t&&t.scene?t.scene.height*e/100:e}},5631:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(817),n=i(9213),r=i(5282),a=i(6591);class o extends n.Z{constructor(e={}){e.type="Group",super(e),this.children=[],["id","name","data","order","type"].forEach((t=>{t in e&&delete e[t]})),this.props=e}isStatic(){const e=this.children;for(let t=0,i=e.length;t<i;t++)if(!e[t].isStatic())return!1;return!0}isStaticIndexed(){const e=this.children;for(let t=0,i=e.length;t<i;t++)if(!e[t].isStaticIndexed())return!1;return!0}add(e){const t=e.getProps();Object.keys(this.props).forEach((i=>{void 0===t[i]&&e.setProp(i,this.props[i])})),e.order=void 0!==e.order?e.order:this.children.length>0?Math.max.apply(this,this.children.map((e=>e.order||0)))+1:0,this.scene&&s.Z.propagateToChilden(e,this.scene),this.children.push(e),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.order-t.order)),this.children=this.children.map(((e,t)=>(e.order=t,e))),this.clearBuffer(!0)}getChildren(){return this.children}find(e){if(this.id===e||this.name===e)return this;const t=this.getChildren();for(let i=0,s=t.length;i<s;i++){const s=t[i].find(e);if(null!==s)return s}return null}get(e){return e>=0&&e<this.children.length?this.children[e]:null}remove(e){if(e>=0&&e<this.children.length){const t=this.children.splice(e,1);return this.clearBuffer(!0),t}return!1}removeFromId(e){for(let t=0,i=this.children.length;t<i;t++)if(this.children[t].id==e)return this.children.splice(t,1),this.clearBuffer(!0)}generate(e,t=!1,i){this.children.forEach((s=>s.generate(e,t,i)))}getBounding(e){const t=[],i=Object.assign({},a.Z.EMPTY_BOUNDING);if(this.children.length>0){this.children.forEach((i=>t.push(i.getBounding(e))));for(let e=0,s=this.children.length;e<s;e++)i.x=i.x>t[e].x?t[e].x:i.x,i.y=i.y>t[e].y?t[e].y:i.y,i.width=i.width<t[e].width?t[e].width:i.width,i.height=i.height<t[e].height?t[e].height:i.height;i.cx=i.x+i.width/2,i.cy=i.y+i.height/2}return i}clearBuffer(e=!1,t=!0){if(this.children.forEach((t=>t.clearBuffer(e,!1))),this.scene&&t){const i=this.scene.getParentsOfSceneChild(this);i.length>0&&i[i.length-1].clearBuffer(e,t)}}setProp(e,t){"object"==typeof e?Object.keys(e).forEach((t=>this.props[t]=e[t])):this.props[e]=t,this.children.forEach((i=>i.setProp(e,t)))}setPropUnsafe(e,t){super.setPropUnsafe(e,t),this.children.forEach((i=>i.setPropUnsafe(e,t)))}getBufferLength(e){return this.children.map((t=>t.getBufferLength(e))).reduce(((e,t)=>e+t),0)}getBuffer(){const e=this.children.map((e=>e.getBuffer())).filter((e=>void 0!==e)),t=e.reduce(((e,t)=>e+t.length),0);if(t>0){const i=new Float32Array(t);i.set(e[0],0);for(let t=1,s=0,n=e.length;t<n;t++)s+=e[t-1].length,i.set(e[t],s);return i}return r.Z.EMPTY_BUFFER}getIndexedBuffer(){const e=this.children.map((e=>e.getIndexedBuffer())).filter((e=>void 0!==e));return[].concat.apply([],e)}stream(e){this.children.forEach((t=>t.stream(e)))}}const h=o},817:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(9213),n=i(5631),r=i(8227);class a{constructor(e={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.mainColor="hsla(0, 0%, 100%, 1)",this.current_time=0,void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height),void 0!==e.background&&(this.background=e.background),void 0!==e.mainColor&&(this.mainColor=e.mainColor),this.children=[],this.center=[this.width/2,this.height/2]}resize(e,t=e){this.width=e,this.height=t,this.center=[this.width/2,this.height/2],this.children.forEach((e=>e.clearBuffer(!0,!1)))}update(e){this.current_time=e,this.children.forEach((e=>e.generate(this.current_time,!0)))}stream(e){this.children.forEach((t=>t.stream(e)))}getChildren(){return this.children}add(e,t){e.order=void 0!==t?t:void 0!==e.order?e.order:this.children.length>0?Math.max.apply(this,this.children.map((e=>e.order)))+1:0,a.propagateToChilden(e,this),this.children.push(e),e.clearBuffer(!0,!1),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.order-t.order)),this.children=this.children.map(((e,t)=>(e.order=t,e)))}find(e){const t=this.getChildren();for(let i=0,s=t.length;i<s;i++){const s=t[i].find(e);if(null!==s)return s}return null}get(e){return e>=0&&e<this.children.length?this.children[e]:null}remove(e){e>=0&&e<this.children.length&&this.children.splice(e,1)}removeChildren(){this.children=[]}removeFromId(e){for(let t=0,i=this.children.length;t<i;t++)if(this.children[t].id===e||this.children[t].name===e)return void this.children.splice(t,1)}isFirstLevelChild(e){for(let t=0,i=this.children.length;t<i;t++)if(this.children[t].id==e.id)return!0;const t=this.getParentsOfSceneChild(e);return 1==t.length&&t[0]instanceof n.Z}getParentsOfSceneChild(e){const t=a.getParentsOfSceneChild(this,e);return t?(t.splice(0,1),t):[]}static getParentsOfSceneChild(e,t,i=[]){let o;if(e instanceof s.Z){if(e.id==t.id)return i;if(e instanceof r.Z&&e.shape){const s=i.slice();if(s.push(e),o=a.getParentsOfSceneChild(e.shape,t,s))return o}}if(e instanceof a||e instanceof n.Z){const s=e.getChildren();i.push(e);for(let e=0,n=s.length;e<n;e++){const n=s[e];if(o=a.getParentsOfSceneChild(n,t,i))return o}i.pop()}return null}static walk(e,t){if(t instanceof s.Z){if(!1===e(t))return!1;if(t instanceof r.Z&&t.shape&&!1===a.walk(e,t.shape))return!1}if(t instanceof a||t instanceof n.Z){const i=t.getChildren();for(let t=0,s=i.length;t<s;t++){const s=i[t];if(!1===a.walk(e,s))return!1}}}static propagateToChilden(e,t){e.scene=t,e instanceof n.Z?e.getChildren().forEach((e=>{a.propagateToChilden(e,t)})):e instanceof r.Z&&e.shape&&(e.shape.scene=t,a.propagateToChilden(e.shape,t))}}const o=a},9213:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let s=0;const n=class{constructor(e){var t;this.id=null!==(t=e.id)&&void 0!==t?t:++s,this.type=e.type||"SceneChild",this.name=e.name||this.type+"_"+this.id,this.data=e.data||{},this.props={}}find(e){return this.id===e||this.name===e?this:null}getProps(){return this.props}getProp(e,t,i){var s;return null!==(s=this.props[e])&&void 0!==s?s:i}setPropUnsafe(e,t){"string"==typeof e?this.props[e]=t:Object.keys(e).forEach((t=>this.props[t]=e[t]))}}},212:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(9277);const n=new Array(4),r=(e,t)=>e[0]*t[0]+e[1]*t[1],a=e=>Math.hypot(e[0],e[1]),o=(e,t,i)=>{const s=e[0]-i[0],n=e[1]-i[1];e[0]=s*t[0]+n*t[1]+i[0],e[1]=s*t[2]+n*t[3]+i[1]},h=Array.from([0,0]),l=Array.from([1,1]),c={create:(e=0,t)=>{const i=new Array(2);return"number"==typeof e?(i[0]=e,i[1]=null!=t?t:e):(i[0]=e[0],i[1]=e[1]),i},distance:(e,t)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:r,length:a,angle:(e,t)=>{const i=a(e)*a(t);return Math.acos((0,s.uZ)(-1,1,i&&r(e,t)/i))},squeezeX:(e,t)=>{e[1]+=e[1]*(e[0]*-t)},squeezeY:(e,t)=>{e[0]+=e[0]*(e[1]*t)},skewX:(e,t)=>{e[0]+=Math.tan(t)*e[1]},skewY:(e,t)=>{e[1]+=Math.tan(t)*e[0]},rotateX:(e,t,i)=>{n[0]=1,n[1]=0,n[2]=0,n[3]=Math.cos(i),o(e,n,t)},rotateY:(e,t,i)=>{n[0]=Math.cos(i),n[1]=0,n[2]=0,n[3]=1,o(e,n,t)},rotateZ:(e,t,i)=>{n[0]=Math.cos(i),n[1]=-Math.sin(i),n[2]=Math.sin(i),n[3]=Math.cos(i),o(e,n,t)},translate:(e,t)=>{e[0]+=t[0],e[1]+=t[1]},scale:(e,t)=>{e[0]*=t[0],e[1]*=t[1]},divide:(e,t)=>{e[0]/=t[0],e[1]/=t[1]},toString:e=>`x: ${e[0]}, y: ${e[1]}`,ZERO:h,ONE:l}},2727:(e,t,i)=>{"use strict";i.d(t,{Gt:()=>s,hp:()=>n,uP:()=>r,s8:()=>a,pn:()=>o,$2:()=>h});const s=[0,0,0],n=[0,0],r=[1,1];function a(e,t){return e[0]=1,e[1]=Math.tan(t[1]),e[2]=0,e[3]=0,e[4]=Math.tan(t[0]),e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e){return Array.isArray(e)?[e[0],e[1]]:[e,e]}function h(e,t=0){return Array.isArray(e)?[e[0],e[1],t]:[e,e,t]}},8227:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(5282),n=i(9213),r=i(817);class a extends s.Z{constructor(e={}){e.type=e.type||"Shape",super(e),e.shape instanceof n.Z?this.shape=e.shape:console.warn("[Urpflanze:Shape] requires the shape property to be instance of SceneChild,\nYou passed:",e.shape),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(e){return this.id===e||this.name===e?this:this.shape?this.shape.find(e):null}getBufferLength(e){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(e):0)*this.getRepetitionCount()}generateBuffer(e,t){return this.shape?(this.shape.generate(e,!1,t),this.shape.getBuffer()||a.EMPTY_BUFFER):a.EMPTY_BUFFER}addIndex(e,t){if(this.shape){const i=this.indexed_buffer,s=this.shape.getIndexedBuffer()||[],n={shape:this,frame_length:e,repetition:{type:t.type,angle:t.angle,index:t.index,count:t.count,offset:t.offset,row:{index:t.row.index,count:t.row.count,offset:t.row.offset},col:{index:t.col.index,count:t.col.count,offset:t.col.offset}}};for(let e=0,t=s.length;e<t;e++){const t=s[e];t.parent=n,i.push(t)}}}setShape(e){void 0===e?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&r.Z.propagateToChilden(e,this.scene),this.shape=e,this.shape.clearBuffer(!0,!0))}getBounding(e){return this.shape?this.shape.getBounding(!1):this.bounding}}const o=a},5282:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Z});var s=i(9685);function n(){var e=new s.WT(16);return s.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function a(e,t,i){var s=t[0],n=t[1],r=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],f=t[11],g=t[12],m=t[13],_=t[14],b=t[15],v=i[0],y=i[1],x=i[2],w=i[3];return e[0]=v*s+y*o+x*u+w*g,e[1]=v*n+y*h+x*p+w*m,e[2]=v*r+y*l+x*d+w*_,e[3]=v*a+y*c+x*f+w*b,v=i[4],y=i[5],x=i[6],w=i[7],e[4]=v*s+y*o+x*u+w*g,e[5]=v*n+y*h+x*p+w*m,e[6]=v*r+y*l+x*d+w*_,e[7]=v*a+y*c+x*f+w*b,v=i[8],y=i[9],x=i[10],w=i[11],e[8]=v*s+y*o+x*u+w*g,e[9]=v*n+y*h+x*p+w*m,e[10]=v*r+y*l+x*d+w*_,e[11]=v*a+y*c+x*f+w*b,v=i[12],y=i[13],x=i[14],w=i[15],e[12]=v*s+y*o+x*u+w*g,e[13]=v*n+y*h+x*p+w*m,e[14]=v*r+y*l+x*d+w*_,e[15]=v*a+y*c+x*f+w*b,e}function o(e,t,i){var s,n,r,a,o,h,l,c,u,p,d,f,g=i[0],m=i[1],_=i[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*_+t[12],e[13]=t[1]*g+t[5]*m+t[9]*_+t[13],e[14]=t[2]*g+t[6]*m+t[10]*_+t[14],e[15]=t[3]*g+t[7]*m+t[11]*_+t[15]):(s=t[0],n=t[1],r=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],f=t[11],e[0]=s,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=h,e[6]=l,e[7]=c,e[8]=u,e[9]=p,e[10]=d,e[11]=f,e[12]=s*g+o*m+u*_+t[12],e[13]=n*g+h*m+p*_+t[13],e[14]=r*g+l*m+d*_+t[14],e[15]=a*g+c*m+f*_+t[15]),e}function h(e,t,i){var s=i[0],n=i[1],r=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,i){var s=Math.sin(i),n=Math.cos(i),r=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=t[9],u=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=r*n+l*s,e[5]=a*n+c*s,e[6]=o*n+u*s,e[7]=h*n+p*s,e[8]=l*n-r*s,e[9]=c*n-a*s,e[10]=u*n-o*s,e[11]=p*n-h*s,e}function c(e,t,i){var s=Math.sin(i),n=Math.cos(i),r=t[0],a=t[1],o=t[2],h=t[3],l=t[8],c=t[9],u=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*n-l*s,e[1]=a*n-c*s,e[2]=o*n-u*s,e[3]=h*n-p*s,e[8]=r*s+l*n,e[9]=a*s+c*n,e[10]=o*s+u*n,e[11]=h*s+p*n,e}function u(e,t,i){var s=Math.sin(i),n=Math.cos(i),r=t[0],a=t[1],o=t[2],h=t[3],l=t[4],c=t[5],u=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*n+l*s,e[1]=a*n+c*s,e[2]=o*n+u*s,e[3]=h*n+p*s,e[4]=l*n-r*s,e[5]=c*n-a*s,e[6]=u*n-o*s,e[7]=p*n-h*s,e}function p(e,t,i,s,n){var r,a=1/Math.tan(t/2);return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(r=1/(s-n),e[10]=(n+s)*r,e[14]=2*n*s*r):(e[10]=-1,e[14]=-2*s),e}function d(e,t,i){var n=new s.WT(3);return n[0]=e,n[1]=t,n[2]=i,n}function f(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function g(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function m(e,t,i){var s=t[0],n=t[1],r=t[2],a=i[3]*s+i[7]*n+i[11]*r+i[15];return a=a||1,e[0]=(i[0]*s+i[4]*n+i[8]*r+i[12])/a,e[1]=(i[1]*s+i[5]*n+i[9]*r+i[13])/a,e[2]=(i[2]*s+i[6]*n+i[10]*r+i[14])/a,e}function _(e,t,i,s){var n=[],r=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],r[0]=n[0]*Math.cos(s)-n[1]*Math.sin(s),r[1]=n[0]*Math.sin(s)+n[1]*Math.cos(s),r[2]=n[2],e[0]=r[0]+i[0],e[1]=r[1]+i[1],e[2]=r[2]+i[2],e}b=new s.WT(3),s.WT!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0);var b,v=i(1437),y=i(9835),x=i(9213),w=i(2024),S=i(2727),M=i(9277),P=i(212);s.ZR(Array);const C=n(),A=n(),E=n(),k=n();class T extends x.Z{constructor(e={}){super(e),this.generate_id=-1,this.bIndexed=!1,this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:e.distance,repetitions:e.repetitions,rotateX:e.rotateX,rotateY:e.rotateY,rotateZ:e.rotateZ,skewX:e.skewX,skewY:e.skewY,squeezeX:e.squeezeX,squeezeY:e.squeezeY,displace:e.displace,translate:e.translate,scale:e.scale,transformOrigin:e.transformOrigin,perspective:e.perspective,perspectiveOrigin:e.perspectiveOrigin},this.bUseParent=!!e.bUseParent,this.vertexCallback=e.vertexCallback}isStatic(){const e=this.props;return"function"!=typeof e.distance&&"function"!=typeof e.repetitions&&"function"!=typeof e.rotateX&&"function"!=typeof e.rotateY&&"function"!=typeof e.rotateZ&&"function"!=typeof e.displace&&"function"!=typeof e.skewX&&"function"!=typeof e.skewY&&"function"!=typeof e.squeezeX&&"function"!=typeof e.squeezeY&&"function"!=typeof e.translate&&"function"!=typeof e.scale&&"function"!=typeof e.transformOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(e,t,i){var s;let n=this.props[e];return"function"==typeof n&&(void 0===(t=t||T.EMPTY_PROP_ARGUMENTS).shape&&(t.shape=this),t.time=(null===(s=this.scene)||void 0===s?void 0:s.current_time)||0,n=n(t)),void 0===n||Number.isNaN(n)?i:n}setProp(e,t,i=!1){"string"==typeof e?(i=i||"repetitions"==e,this.props[e]=t):(i=i||"repetitions"in e,Object.keys(e).forEach((t=>this.props[t]=e[t]))),this.clearBuffer(i)}clearBuffer(e=!1,t=!0){if(this.buffer=void 0,e&&(this.bIndexed=!1),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),t&&this.scene&&!this.scene.isFirstLevelChild(this)){const i=this.scene.getParentsOfSceneChild(this);i.length>0&&i[i.length-1].clearBuffer(e,t)}}generate(e,t=!1,i){var s,n,b;if(!this.scene||this.buffer&&(this.bStatic||e===this.generate_id&&!this.bUseParent))return;this.generate_id=e,this.bStaticIndexed&&this.bIndexed||(this.indexed_buffer=[]);let x=Number.MAX_VALUE,Z=Number.MAX_VALUE,O=Number.MIN_VALUE,I=Number.MIN_VALUE;const L=T.getEmptyRepetition(),R=this.getProp("repetitions",{parent:i,repetition:L,time:1,context:w.Z},1),q=Array.isArray(R)?y.i.Matrix:y.i.Ring,F=Array.isArray(R)?R[0]*(null!==(s=R[1])&&void 0!==s?s:R[0]):R,B=Array.isArray(R)?R[0]:F,U=Array.isArray(R)?null!==(n=R[1])&&void 0!==n?n:R[0]:1,N=L.col;N.count=B;const D=L.row;D.count=U,L.count=F,L.col.count=B,L.row.count=U,L.type=q;const V={repetition:L,context:w.Z,time:(null===(b=this.scene)||void 0===b?void 0:b.current_time)||0,shape:this,data:this.data,parent:i};let H=0;const j=[];let $=0;const Y=v.al((B-1)/2,(U-1)/2),z=[this.scene.center[0],this.scene.center[1],0];for(let i=0;i<U;i++)for(let s=0;s<B;s++,$++){L.index=$+1,L.offset=L.index/L.count,L.angle=q===y.i.Ring?2*Math.PI/F*$:0,N.index=s+1,N.offset=N.index/N.count,D.index=i+1,D.offset=D.index/D.count;const n=this.generateBuffer(e,V),b=n.length,v=this.getBounding(t);j[$]=new Float32Array(b),H+=b;{const e=S.pn(this.getProp("distance",V,S.uP)),w=this.getProp("displace",V,0),T=S.$2(this.getProp("scale",V,S.uP),1),R=S.$2(this.getProp("translate",V,S.hp),0),F=this.getProp("skewX",V,0),B=this.getProp("skewY",V,0),U=this.getProp("squeezeX",V,0),N=this.getProp("squeezeY",V,0),D=this.getProp("rotateX",V,0),H=this.getProp("rotateY",V,0),X=this.getProp("rotateZ",V,0),W=(0,M.uZ)(0,1,this.getProp("perspective",V,0)),G=S.$2(this.getProp("perspectiveOrigin",V,S.hp),0),K=S.$2(this.getProp("transformOrigin",V,S.hp),0);let J;switch(q){case y.i.Ring:J=d(e[0],0,0),_(J,J,S.Gt,L.angle+w);break;case y.i.Matrix:J=d(e[0]*(s-Y[0]),e[1]*(i-Y[1]),0)}const Q=W>0?Math.max(v.width,v.height)/2:1,ee=W>0?Q+10*Q*(1-W):0,te=0!==ee||0!==K[0]||0!==K[1],ie=0!==G[0]||0!==G[1];te&&(K[0]*=v.width/2,K[1]*=v.height/2,K[2]=ee),r(A),te&&o(A,A,K),1===T[0]&&1===T[1]||h(A,A,T),0===F&&0===B||(S.s8(C,[F,B]),a(A,A,C)),0!==D&&l(A,A,D),0!==H&&c(A,A,H),0!==X&&u(A,A,X),te&&o(A,A,g(K,K,-1)),0===R[0]&&0===R[1]||o(A,A,R),r(k),o(k,k,J),t&&o(k,k,z),q===y.i.Ring&&u(k,k,L.angle+w),ee>0&&(ie&&(G[0]*=v.width/2,G[1]*=v.height/2,G[2]=0),p(E,-Math.PI/2,1,0,1/0));for(let e=0;e<b;e+=2){const t=[n[e],n[e+1],ee];if(m(t,t,A),0!==U&&P.Z.squeezeX(t,U),0!==N&&P.Z.squeezeY(t,N),ee>0&&(ie&&f(t,t,G),m(t,t,E),g(t,t,ee),ie&&f(t,t,G)),m(t,t,k),this.vertexCallback){const i=e/2+1,s=b/2;this.vertexCallback(t,V,{index:i,count:s,offset:i/s})}j[$][e]=t[0],j[$][e+1]=t[1],t[0]>=O?O=t[0]:t[0]<=x&&(x=t[0]),t[1]>=I?I=t[1]:t[1]<=Z&&(Z=t[1])}}this.bStaticIndexed&&this.bIndexed||this.addIndex(b,L)}this.bounding.x=x,this.bounding.y=Z,this.bounding.width=O-x,this.bounding.height=I-Z,this.bounding.cx=this.bounding.x-this.bounding.width/2,this.bounding.cy=this.bounding.y-this.bounding.height/2,this.buffer=new Float32Array(H);for(let e=0,t=0,i=j.length;e<i;t+=j[e].length,e++)this.buffer.set(j[e],t);this.bIndexed=!0}getRepetitionCount(){var e;let t=this.getProp("repetitions",void 0,1);return Array.isArray(t)?t[0]*(null!==(e=t[1])&&void 0!==e?e:t[0]):t}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexed_buffer}stream(e){if(this.scene&&this.buffer&&this.indexed_buffer)for(let t=0,i=0,s=this.indexed_buffer.length;t<s;t++){const n=this.indexed_buffer[t],r={shape:n.shape,repetition:n.repetition,context:w.Z,time:0,parent:n.parent,data:n.shape.data},a=n.shape.getProp("fillColor",r),o=n.shape.getProp("strokeColor",r,void 0!==a?void 0:this.scene.mainColor),h=n.shape.getProp("lineWidth",r,void 0!==a&&void 0===o?void 0:1);e({buffer:this.buffer,frame_length:n.frame_length,frame_buffer_index:i,shape:n.shape,repetition:n.repetition,current_shape_index:t,total_shapes:s,lineWidth:h,strokeColor:o,fillColor:a}),i+=n.frame_length}}}T.EMPTY_BUFFER=new Float32Array(0),T.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),T.getEmptyRepetition=()=>Object.assign(Object.assign({type:y.i.Ring,angle:0},T.getEmptySimpleRepetition()),{row:T.getEmptySimpleRepetition(),col:T.getEmptySimpleRepetition()}),T.EMPTY_PROP_ARGUMENTS={time:0,context:w.Z,repetition:T.getEmptyRepetition()};const Z=T},3969:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(6591),n=i(6669);class r extends s.Z{constructor(e={}){var t;e.type=e.type||"ShapeBuffer",e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.Scale,super(e),void 0===e.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=r.EMPTY_BUFFER):this.shape=Float32Array.from(e.shape),this.bindBuffer(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}clearBuffer(e=!1,t=!0){super.clearBuffer(e,t),this.bindBuffer()}bindBuffer(){const e=this.adaptMode!==n._.None?s.Z.adaptBuffer(this.shape,this.adaptMode):Float32Array.from(this.shape);let t=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE;for(let s=0,n=e.length;s<n;s+=2)e[s]*=this.sideLength[0],e[s+1]*=this.sideLength[1],e[s]>=r?r=e[s]:e[s]<=t&&(t=e[s]),e[s+1]>=a?a=e[s+1]:e[s+1]<=i&&(i=e[s+1]);this.single_bounding.x=t,this.single_bounding.y=i,this.single_bounding.width=r-t,this.single_bounding.height=a-i,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,this.shape_buffer=e}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape_buffer.length*this.getRepetitionCount()}generateBuffer(e,t){return this.bindSideLength(t)&&this.bindBuffer(),this.shape_buffer}setShape(e){this.shape=e,this.clearBuffer(!0)}subdivide(e=1){let t=this.shape;if(t&&t.length>0){for(let i=0;i<e;i++)t=r.subdivide(t,this.bCloseShape);this.setShape(t)}}static subdivide(e,t=!0){const i=e.length,s=new Float32Array(2*i-(t?0:2));for(let t=0;t<i;t+=2)if(0===t)s[0]=e[0],s[1]=e[1];else{const i=e[t-2],n=e[t-1],r=e[t],a=e[t+1],o=(r+i)/2,h=(a+n)/2;s[2*(t-1)]=o,s[2*(t-1)+1]=h,s[2*t]=r,s[2*t+1]=a}return t&&(s[2*(i-1)]=(e[0]+e[i-2])/2,s[2*(i-1)+1]=(e[1]+e[i-1])/2),s}}const a=r},1315:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(6591),n=i(5282),r=i(6669);class a extends s.Z{constructor(e={},t=!1){e.type=e.type||"ShapeLoop",super(e),this.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat("bAdaptBuffer"),this.props.loop=e.loop,t||(this.loop={start:0,end:a.PI2,inc:a.PI2/10,vertex:()=>[0,0]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed())}isStaticLoop(){if(this.shapeLoopPropsDependencies.includes("vertexCallback")&&"function"==typeof this.vertexCallback)return!1;if(this.shapeLoopPropsDependencies.includes("prop_arguments"))return!1;for(let e=0,t=this.shapeLoopPropsDependencies.length;e<t;e++)if("function"==typeof this.props[this.shapeLoopPropsDependencies[e]])return!1;return!0}isStatic(){return this.bStaticLoop&&super.isStatic()}isStaticIndexed(){return this.bStaticLoop&&super.isStaticIndexed()}clearBuffer(e=!1,t=!0){super.clearBuffer(e,t),this.bStaticLoop=this.isStaticLoop(),e&&(this.loop_buffer=void 0)}setProp(e,t){let i=!1;e="string"==typeof e?{[e]:t}:e;for(let t=this.shapeLoopPropsDependencies.length-1;t>=0;t--)if(this.shapeLoopPropsDependencies[t]in e){i=!0;break}"loop"in e&&(e.loop=Object.assign(Object.assign({},this.props.loop),e.loop),i=!0),super.setProp(e,t,i)}getProp(e,t,i){return super.getProp(e,t,i)}getBufferLength(e){if(this.bStatic&&this.buffer&&this.buffer.length>0)return this.buffer.length;if(this.bStaticLoop&&this.loop_buffer&&this.loop_buffer.length>0)return this.loop_buffer.length*this.getRepetitionCount();const{repetition:t}=this.getLoop(e);return this.getRepetitionCount()*t*2}generateBuffer(e,t){return this.bindSideLength(t),this.bStaticLoop?(void 0===this.loop_buffer&&(this.loop_buffer=this.generateLoopBuffer(t)),this.loop_buffer):this.generateLoopBuffer(t)}generateLoopBuffer(e){const{start:t,end:i,inc:n,repetition:a}=this.getLoop(e),o=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,h={index:0,offset:0,angle:0,count:a},l=h.count,c=2*l,u=new Float32Array(c),p=this.adaptMode===r._.None;let d=Number.MAX_VALUE,f=Number.MAX_VALUE,g=Number.MIN_VALUE,m=Number.MIN_VALUE;for(let s=0,r=0;s<l;s++,r+=2){const a=t+n*s;h.angle=a>=i?i:a,h.index=s+1,h.offset=h.index/h.count;const l=Float32Array.from(o(h,e));u[r]=l[0],u[r+1]=l[1],p&&(u[r]*=this.sideLength[0],u[r+1]*=this.sideLength[1]),u[r]>=g?g=u[r]:u[r]<=d&&(d=u[r]),u[r+1]>=m?m=u[r+1]:u[r+1]<=f&&(f=u[r+1])}if(this.single_bounding.x=d,this.single_bounding.y=f,this.single_bounding.width=g-d,this.single_bounding.height=m-f,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,!p){const e=s.Z.adaptBuffer(u,this.adaptMode);d=f=Number.MAX_VALUE,g=m=Number.MIN_VALUE;for(let t=0;t<c;t+=2)e[t]=e[t]*this.sideLength[0],e[t+1]=e[t+1]*this.sideLength[1],e[t]>=g?g=e[t]:e[t]<=d&&(d=e[t]),e[t+1]>=m?m=e[t+1]:e[t+1]<=f&&(f=e[t+1]);return this.single_bounding.x=d,this.single_bounding.y=f,this.single_bounding.width=g-d,this.single_bounding.height=m-f,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,e}return u}getLoop(e=n.Z.EMPTY_PROP_ARGUMENTS){var t,i,s,r,a,o,h;e.time=(null===(t=this.scene)||void 0===t?void 0:t.current_time)||0;let l=null!==(s=null===(i=this.props.loop)||void 0===i?void 0:i.start)&&void 0!==s?s:this.loop.start,c=null!==(a=null===(r=this.props.loop)||void 0===r?void 0:r.end)&&void 0!==a?a:this.loop.end,u=null!==(h=null===(o=this.props.loop)||void 0===o?void 0:o.inc)&&void 0!==h?h:this.loop.inc;l="function"==typeof l?l(e):l,c="function"==typeof c?c(e):c,u="function"==typeof u?u(e):u;const p=Math.ceil((c-l)/u);return{start:l,end:c,inc:u,repetition:p<0?0:p}}setShape(e){this.setProp("loop",e)}}a.PI2=2*Math.PI,a.PId2=Math.PI/2;const o=a},6591:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(5282),n=i(6669),r=i(2727);class a extends s.Z{constructor(e={}){var t,i;super(e),this.single_bounding=Object.assign({},a.EMPTY_BOUNDING);const s="number"==typeof e.sideLength?[e.sideLength,e.sideLength]:Array.isArray(e.sideLength)?e.sideLength:[50,50];this.sideLength=s,this.props.sideLength=e.sideLength,this.props.fillColor=e.fillColor,this.props.lineWidth=e.lineWidth,this.props.strokeColor=e.strokeColor,this.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,this.bCloseShape=null===(i=e.bCloseShape)||void 0===i||i}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getProp(e,t,i){return super.getProp(e,t,i)}bindSideLength(e){const t=(0,r.pn)(this.getProp("sideLength",e,[50,50]));return this.sideLength[0]!==t[0]&&this.sideLength[1]!==t[1]&&(this.sideLength=t,!0)}getBounding(e){return e?this.single_bounding:this.bounding}addIndex(e,t){this.indexed_buffer.push({shape:this,frame_length:e,repetition:{type:t.type,angle:t.angle,index:t.index,count:t.count,offset:t.offset,row:{index:t.row.index,count:t.row.count,offset:t.row.offset},col:{index:t.col.index,count:t.col.count,offset:t.col.offset}}})}isClosed(){return this.bCloseShape}setClosed(e){this.bCloseShape=e}getAdaptMode(){return this.adaptMode}adapt(e){this.adaptMode=e,this.clearBuffer(!0)}static getBounding(e,t){void 0===t&&(t=Object.assign({},a.EMPTY_BOUNDING));let i=Number.MAX_VALUE,s=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE;for(let t=0,a=e.length;t<a;t+=2){const a=e[t],o=e[t+1];a>n?n=a:a<i&&(i=a),o>r?r=o:o<s&&(s=o)}return t.x=i,t.y=s,t.width=n-i,t.height=r-s,t.cx=t.x-t.width/2,t.cy=t.y-t.height/2,t}static adaptBuffer(e,t,i){if(t===n._.None)return Float32Array.from(e);const s=new Float32Array(e.length);i||(i=a.getBounding(e));let r=i.width>=2||i.height>=2||t>=n._.Fill&&(i.width<2||i.height<2)?2/Math.max(i.width,i.height):1,o=t>=n._.Center?i.cx:0,h=t>=n._.Center?i.cy:0;for(let t=0,i=e.length;t<i;t+=2)s[t]=(e[t]-o)*r,s[t+1]=(e[t+1]-h)*r;return s}}a.EMPTY_BOUNDING={cx:0,cy:0,x:-1,y:-1,width:2,height:2};const o=a},9668:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(1315),n=i(6669);class r extends s.Z{constructor(e={}){e.type="Circle",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["sideLength"]),e.adaptMode=n._.None,super(e),this.loop={start:0,end:s.Z.PI2,inc:()=>1/Math.pow(this.sideLength[0]*this.sideLength[1],.25)*s.Z.PId2,vertex:e=>[Math.cos(e.angle),Math.sin(e.angle)]}}}const a=r},1010:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(6669),n=i(3969);class r extends n.Z{constructor(e={}){e.type="Line",e.shape=[-1,0,1,0],e.adaptMode=s._.None,e.bCloseShape=!1,super(e)}}const a=r},6863:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(1315),n=i(6669);class r extends s.Z{constructor(e={}){e.type="Lissajous",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["wx","wy","wz","sideLength"]),e.adaptMode=n._.None,super(e,!0),this.props.wx=e.wx||1,this.props.wy=e.wy||2,this.props.wz=e.wz||0,this.loop={start:0,end:s.Z.PI2,inc:e=>{const t=this.getProp("wx",e),i=this.getProp("wy",e),n=t==i?s.Z.PId2:.5-.01*Math.min(49,t+i);return 1/Math.pow(this.sideLength[0]*this.sideLength[1],.25)*n},vertex:(e,t)=>{const i=this.getProp("wx",t),s=this.getProp("wy",t),n=this.getProp("wz",t,0);return i==s?[Math.cos(e.angle+n),Math.sin(e.angle)]:[Math.cos(i*e.angle+n),Math.sin(s*e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,i){return super.getProp(e,t,i)}setProp(e,t){super.setProp(e,t)}}const a=r},178:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(6669),n=i(3969);class r extends n.Z{constructor(e={}){e.type="Rect",e.shape=[-1,-1,1,-1,1,1,-1,1],e.adaptMode=s._.None,super(e)}}const a=r},7490:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(1315),n=i(6669);class r extends s.Z{constructor(e={}){var t;e.type=e.type||"RegularPolygon",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["sideNumber"]),e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,super(e,!0),this.props.sideNumber=e.sideNumber,this.loop={start:0,end:s.Z.PI2,inc:e=>s.Z.PI2/this.getProp("sideNumber",e,5),vertex:e=>[Math.cos(e.angle),Math.sin(e.angle)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,i){return super.getProp(e,t,i)}setProp(e,t){super.setProp(e,t)}}const a=r},5589:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(1315),n=i(6669);class r extends s.Z{constructor(e={}){var t,i,a;e.type="Rose",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["n","d","sideLength"]),e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.Scale,super(e,!0),this.props.n=null!==(i=e.n)&&void 0!==i?i:1,this.props.d=null!==(a=e.d)&&void 0!==a?a:2,this.loop={start:0,end:e=>r.getFinalAngleFromK(this.getProp("n",e),this.getProp("d",e)),inc:e=>{const t=this.getProp("n",e),i=this.getProp("d",e),n=Math.pow(this.sideLength[0]*this.sideLength[1],.45),r=i<t?t/i:1.5;return s.Z.PI2/(n*r)},vertex:(e,t)=>{const i=this.getProp("n",t)/this.getProp("d",t),s=Math.cos(i*e.angle);return[s*Math.cos(e.angle),s*Math.sin(e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,i){return super.getProp(e,t,i)}setProp(e,t){super.setProp(e,t)}static getFinalAngleFromK(e,t){if(e==t)return s.Z.PI2;const i=e/t,n=e*t;return Number.isInteger(i)||i%.5!=0?Math.PI*t*(n%2==0?2:1):4*Math.PI}}const a=r},1590:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(1315),n=i(6669);class r extends s.Z{constructor(e={}){var t,i,a,o;e.type="Spiral",e.bCloseShape=!1,e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["twists","twists_start","spiral","sideLength"]),super(e,!0),this.props.spiral=null!==(i=e.spiral)&&void 0!==i?i:r.types.ARCHIMEDE,this.props.twists=null!==(a=e.twists)&&void 0!==a?a:2,this.props.twists_start=null!==(o=e.twists_start)&&void 0!==o?o:0,this.loop={start:e=>s.Z.PI2*this.getProp("twists_start",e),end:e=>s.Z.PI2*(this.getProp("twists_start",e)+this.getProp("twists",e)),inc:e=>{const t=this.getProp("twists",e);return s.Z.PI2*t/((4+Math.sqrt(this.sideLength[0]*this.sideLength[1]))*t)},vertex:(e,t)=>{const i=r.getRFromTSpiralType(this.getProp("spiral",t),e.angle);return[i*Math.cos(e.angle),i*Math.sin(e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,i){return super.getProp(e,t,i)}setProp(e,t){("twists"in(e="string"==typeof e?{[e]:t}:e)||"twists_start"in e)&&this.props.loop&&(this.props.loop.start=void 0,this.props.loop.end=void 0),super.setProp(e,t)}static getRFromTSpiralType(e,t){switch(e){case r.types.ARCHIMEDE:return t/10;case r.types.HYPERBOLIC:return 1/t*3;case r.types.FERMAT:return Math.pow(t,.5)/3;case r.types.LITUUS:return Math.pow(t,-.5);case r.types.LOGARITHMIC:return Math.pow(Math.E,.2*t)/10}return 1}}r.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"};const a=r},4068:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(6669),n=i(3969);class r extends n.Z{constructor(e={}){e.type="Triangle",e.shape=[-1,-1,1,0,-1,1],e.adaptMode=s._.None,super(e)}}const a=r},9835:(e,t,i)=>{"use strict";var s;i.d(t,{i:()=>s}),function(e){e[e.Ring=1]="Ring",e[e.Matrix=2]="Matrix"}(s||(s={}))},6669:(e,t,i)=>{"use strict";var s;i.d(t,{_:()=>s}),function(e){e[e.None=0]="None",e[e.Scale=2]="Scale",e[e.Center=4]="Center",e[e.Fill=8]="Fill"}(s||(s={}))},522:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Scene:()=>s.Z,SceneChild:()=>n.Z,Group:()=>r.Z,Line:()=>a.Z,Triangle:()=>o.Z,Rect:()=>h.Z,RegularPolygon:()=>l.Z,Circle:()=>c.Z,Rose:()=>u.Z,Spiral:()=>p.Z,Lissajous:()=>d.Z,Shape:()=>f.Z,ShapePrimitive:()=>g.Z,ShapeLoop:()=>m.Z,ShapeBuffer:()=>_.Z,clamp:()=>b.uZ,relativeClamp:()=>b.Sr,toDegrees:()=>b.Ux,toRadians:()=>b.Yr,Vec2:()=>S,Context:()=>y.Z,DrawerCanvas:()=>x.Z,Animation:()=>w.Z});var s=i(817),n=i(9213),r=i(5631),a=i(1010),o=i(4068),h=i(178),l=i(7490),c=i(9668),u=i(5589),p=i(1590),d=i(6863),f=i(8227),g=i(6591),m=i(1315),_=i(3969),b=i(9277),v=i(212),y=i(2024),x=i(1710),w=i(4471);const S=v.Z},6958:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1485),_Simple__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4471);const Animation={composeAnimation:(drawer,prop_name,animation)=>{switch(animation.type){case"simple":{const e=Object.assign({},animation.value);return e.from=_scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__.Z.getTransformedValue(drawer,prop_name,e.from),e.to=_scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__.Z.getTransformedValue(drawer,prop_name,e.to),_Simple__WEBPACK_IMPORTED_MODULE_1__.Z.compose(e)}case"raw":{const rawValue=animation.value;return eval(rawValue.raw)}}}},__WEBPACK_DEFAULT_EXPORT__=Animation},4471:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(4598);const n={linear:(e,t,i,s)=>i*e/s+t,quadraticIn:(e,t,i,s)=>i*(e/=s)*e+t,quadraticOut:(e,t,i,s)=>-i*(e/=s)*(e-2)+t,quadraticInOut:(e,t,i,s)=>(e/=s/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t,cubicIn:(e,t,i,s)=>i*(e/=s)*e*e+t,cubicOut:(e,t,i,s)=>(e/=s,i*(--e*e*e+1)+t),cubicInOut:(e,t,i,s)=>(e/=s/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t,quarticIn:(e,t,i,s)=>i*(e/=s)*e*e*e+t,quarticOut:(e,t,i,s)=>(e/=s,-i*(--e*e*e*e-1)+t),quarticInOut:(e,t,i,s)=>(e/=s/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t,quinticIn:(e,t,i,s)=>i*(e/=s)*e*e*e*e+t,quinticOut:(e,t,i,s)=>(e/=s,i*(--e*e*e*e*e+1)+t),quinticInOut:(e,t,i,s)=>(e/=s/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t,sinusoidalIn:(e,t,i,s)=>-i*Math.cos(e/s*(Math.PI/2))+i+t,sinusoidalOut:(e,t,i,s)=>i*Math.sin(e/s*(Math.PI/2))+t,sinusoidalInOut:(e,t,i,s)=>-i/2*(Math.cos(Math.PI*e/s)-1)+t,exponentialIn:(e,t,i,s)=>i*Math.pow(2,10*(e/s-1))+t,exponentialOut:(e,t,i,s)=>i*(1-Math.pow(2,-10*e/s))+t,exponentialInOut:(e,t,i,s)=>(e/=s/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t),circularIn:(e,t,i,s)=>(e/=s,-i*(Math.sqrt(1-e*e)-1)+t),circularOut:(e,t,i,s)=>(e/=s,e--,i*Math.sqrt(1-e*e)+t),circularInOut:(e,t,i,s)=>(e/=s/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,i/2*(Math.sqrt(1-e*e)+1)+t),elasticIn:function(e,t,i,s,n,r){if(0==e)return t;if(1==(e/=s))return t+i;if(r||(r=.3*s),!n||n<Math.abs(i)){n=i;var a=r/4}else a=r/(2*Math.PI)*Math.asin(i/n);return-n*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/r)+t},elasticOut:function(e,t,i,s,n,r){if(0==e)return t;if(1==(e/=s))return t+i;if(r||(r=.3*s),!n||n<Math.abs(i)){n=i;var a=r/4}else a=r/(2*Math.PI)*Math.asin(i/n);return n*Math.pow(2,-10*e)*Math.sin((e*s-a)*(2*Math.PI)/r)+i+t},elasticBoth:function(e,t,i,s,n,r){if(0==e)return t;if(2==(e/=s/2))return t+i;if(r||(r=s*(.3*1.5)),!n||n<Math.abs(i)){n=i;var a=r/4}else a=r/(2*Math.PI)*Math.asin(i/n);return e<1?n*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/r)*-.5+t:n*Math.pow(2,-10*(e-=1))*Math.sin((e*s-a)*(2*Math.PI)/r)*.5+i+t},backIn:function(e,t,i,s,n){return void 0===n&&(n=1.70158),i*(e/=s)*e*((n+1)*e-n)+t},backOut:function(e,t,i,s,n){return void 0===n&&(n=1.70158),i*((e=e/s-1)*e*((n+1)*e+n)+1)+t},backBoth:function(e,t,i,s,n){return void 0===n&&(n=1.70158),(e/=s/2)<1?i/2*(e*e*((1+(n*=1.525))*e-n))+t:i/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t},bounceIn:function(e,t,i,s){return i-n.bounceOut(s-e,0,i,s)+t},bounceOut:function(e,t,i,s){return(e/=s)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(e,t,i,s){return e<s/2?.5*n.bounceIn(2*e,0,i,s)+t:.5*n.bounceOut(2*e-s,0,i,s)+.5*i+t}},r=n;var a=i(9277);const o={loop:e=>o.compose(Object.assign(Object.assign({mode:"sinusoidal",mode_function:"cos"},e),{type:"loop",delay:void 0})),uncontrolledLoop:e=>o.compose(Object.assign(Object.assign({mode:"easing",mode_function:"linear"},e),{type:"uncontrolled-loop"})),static:e=>o.compose(Object.assign(Object.assign({mode:"easing",mode_function:"linear"},e),{type:"static"})),compose:e=>{if("string"!=typeof e.from&&"string"!=typeof e.to){const t=Array.isArray(e.from)||Array.isArray(e.to),i=t?(0,a.qo)(e.from):e.from,s=t?(0,a.qo)(e.to):e.to,n=t?(t,n)=>{const r=e.invertOdd&&t%2==1?s:i,a=e.invertOdd&&t%2==1?i:s;return"int"===e.type_value?[Math.round(r[0]+n*(a[0]-r[0])),Math.round(r[1]+n*(a[1]-r[1]))]:[r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1])]}:(t,n)=>{const r=e.invertOdd&&t%2==1?s:i,a=e.invertOdd&&t%2==1?i:s;return"int"===e.type_value?Math.round(r+n*(a-r)):r+n*(a-r)};return h(e,((e,t)=>n(e.repetition.index,t)))}{const t=new s.Z(e.from),i=new s.Z(e.to),n="hue"==e.colorTransitionMode?c:l;return h(e,((s,r)=>{const a=e.invertOdd&&s.repetition.index%2==1?i:t,o=e.invertOdd&&s.repetition.index%2==1?t:i;return n(a,o,r)}))}}};function h(e,t){let{durate:i,type:s,mode:n,mode_function:a,delay:o}=e;return"static"===s?o&&o>0?function(e){return t(e,e.time<=o?0:e.time-o>=i?1:r[a](e.time-o,0,1,i))}:function(e){return t(e,e.time<=i?r[a](e.time,0,1,i):1)}:"loop"===s?"sinusoidal"==n?function(e){const s=2*(e.time||0)*Math.PI/i;return t(e,.5+.5*Math[a](s))}:function(e){const s=i/2,n=e.time%i;return t(e,n<=s?r[a](n,0,1,s):r[a](s-(n-s),0,1,s))}:"sinusoidal"==n?function(e){let s=e.time%(i+o);s=s<=o?0:s-o;const n=2*(s||0)*Math.PI/i;return t(e,.5+.5*Math[a](n))}:o&&o>0?function(e){const s=e.time%(i+o);return t(e,s<=o?0:s-o>=i?1:r[a](s-o,0,1,i))}:function(e){const s=e.time%i;return t(e,s<=i?r[a](s,0,1,i):1)}}function l(e,t,i){const s=e.getAlpha(),n=t.getAlpha(),r=e.getRgb(),a=t.getRgb(),o=r.r+i*(a.r-r.r),h=r.g+i*(a.g-r.g),l=r.b+i*(a.b-r.b),c=s+i*(n-s);return`rgba(${Math.floor(o)},${Math.floor(h)},${Math.floor(l)},${c<=0?0:c>=1?1:c})`}function c(e,t,i){const s=e.getAlpha(),n=t.getAlpha(),r=e.getHsl(),a=t.getHsl(),o=r.h+i*(a.h-r.h),h=r.s+i*(a.s-r.s),l=r.l+i*(a.l-r.l),c=s+i*(n-s);return`hsla(${Math.floor(360*o)},${Math.floor(100*h)}%,${Math.floor(100*l)}%,${c<=0?0:c>=1?1:c})`}const u=o},1710:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(817),n=i(7131);class r extends n.Z{constructor(){super(),this.sequence={start:0,end:6e4,durate:6e4,framerate:60,frames:360},this.fps=this.sequence.framerate,this.fps_samples_size=30,this.fps_samples=[],this.fps_samples_index=0,this.b_sequence_started=!1,this.current_frame=-1,this.last_tick=0,this.accumulator=0,this.calculateTickAndSequence()}getSequence(){return Object.assign({},this.sequence)}setSequence(e,t,i){this.sequence.start=e,this.sequence.end=t,this.sequence.framerate=i,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getFramerate(){return this.sequence.framerate}setFramerate(e){this.sequence.framerate=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}calculateTickAndSequence(){this.tick_time=1e3/this.sequence.framerate,this.sequence.frames=Math.floor((this.sequence.end-this.sequence.start)/1e3*this.sequence.framerate),this.sequence.durate=this.sequence.end-this.sequence.start}getSequenceStartTime(){return this.sequence.start}setSequenceStartTime(e){this.sequence.start=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getSequenceEndTime(){return this.sequence.end}setSequenceEndTime(e){this.sequence.end=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getSequenceDuration(){return this.sequence.end-this.sequence.start}getFramesCount(){return this.sequence.frames}start(){this.b_sequence_started||(this.b_sequence_started=!0,this.last_tick=0,this.accumulator=0,this.dispatch("timeline:change_status",r.START))}pause(){this.b_sequence_started&&(this.b_sequence_started=!1,this.dispatch("timeline:change_status",r.PAUSE))}stop(){(1!=this.current_frame||this.b_sequence_started)&&(this.b_sequence_started=!1,this.current_frame=-1,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:0,fps:this.fps}),this.dispatch("timeline:change_status",r.STOP))}tick(e){if(this.b_sequence_started){const t=e,i=t-this.last_tick;if(this.accumulator+=i,this.accumulator>=this.tick_time){const e=(t-this.last_tick)/1e3;return this.calculateFPS(1/e),this.last_tick=t,this.current_frame=this.getFrameAtTime(this.last_tick),this.accumulator-=this.tick_time,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:this.last_tick,fps:this.fps}),!0}}return!1}calculateFPS(e){const t=this.fps_samples.length;if(t>0){let e=0;for(let i=0;i<t;i++)e+=this.fps_samples[i];this.fps=Math.round(e/t)}this.fps_samples[this.fps_samples_index]=Math.round(e),this.fps_samples_index=(this.fps_samples_index+1)%this.fps_samples_size}bSequenceStarted(){return this.b_sequence_started}getCurrentFrame(){return this.current_frame}getFrameTime(e){return e=e<0?this.sequence.frames-e%this.sequence.frames:e%this.sequence.frames,(this.sequence.start+e*this.tick_time)%this.sequence.end}getFrameAtTime(e){return Math.round((this.sequence.start+e)%this.sequence.end/this.tick_time)}setFrame(e){this.current_frame=e-1}getTickTime(){return this.tick_time}getTime(){return(this.sequence.start+(this.current_frame<=0?0:this.current_frame)*this.tick_time)%this.sequence.end}setTime(e){e=e<=this.sequence.start?this.sequence.start:e>=this.sequence.end?this.sequence.end:e,this.current_frame=Math.floor(e/this.tick_time)-1,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:e,fps:this.fps})}}r.START="start",r.PAUSE="pause",r.STOP="stop";const a=r;var o=i(4559);var h=i(9277),l=i(1437);class c extends n.Z{constructor(e,t,i={},s,n=0,r=!1){var o,h,l,c,u,p,d;if(super(),this.bBuffering=!1,this.timeline=new a,this.resolution=n||(e&&e.width?e.width:0),this.ratio=s||(e&&e.width&&e.height?e.width/e.height:1),this.bBuffering=r,this.buffer=new class{constructor(){this.frames={}}exist(e){return e in this.frames}get(e){return this.exist(e)?this.frames[e]:null}count(){return Object.keys(this.frames).length}push(e,t){this.frames[e]=t.getImageData(0,0,t.canvas.width,t.canvas.height)}flush(){this.frames={}}getRenderedFrames(){return Object.keys(this.frames).map((e=>+e))}},e){const t=this.ratio>=1?e.width:e.width*this.ratio,i=this.ratio>=1?e.height/this.ratio:e.height;e.resize(t,i),this.setScene(e)}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas){const e=t;this.setCanvas(e)}else if(t){const e=document.createElement("canvas");t.appendChild(e),this.setCanvas(e)}this.drawOptions={scale:null!==(o=i.scale)&&void 0!==o?o:1,translate:null!==(h=i.translate)&&void 0!==h?h:[0,0],time:null!==(l=i.time)&&void 0!==l?l:0,simmetricLine:null!==(c=i.simmetricLine)&&void 0!==c?c:0,clearCanvas:null===(u=i.clearCanvas)||void 0===u||u,fixedLineWidth:null!==(p=i.fixedLineWidth)&&void 0!==p&&p,noBackground:null!==(d=i.noBackground)&&void 0!==d&&d,ghosts:i.ghosts||0,ghost_skip_time:i.ghost_skip_time||0,ghost_skip_function:i.ghost_skip_function,backgroundImage:i.backgroundImage},this.draw_id=null,this.redraw_id=null,this.animation_id=null,this.draw=this.draw.bind(this),this.animate=this.animate.bind(this),this.startAnimation=this.startAnimation.bind(this)}setBuffering(e){this.bBuffering=e,this.flushBuffer()}getBBuffering(){return this.bBuffering}setScene(e){this.scene=e,!this.resolution&&this.scene.width&&(this.resolution=this.scene.width),this.canvas&&this.setCanvas(this.canvas)}getScene(){return this.scene}getTimeline(){return this.timeline}setCanvas(e){let t;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)t=e;else{for(t=this.canvas||document.createElement("canvas");e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else t=e;this.canvas=t,this.context=this.canvas.getContext("2d",{alpha:!0,desynchronized:!1}),this.scene&&this.resize(this.scene.width,this.scene.height)}getCanvas(){return this.canvas}getContext(){return this.context}resize(e,t,i,n){i=i||this.ratio||e/t;const r=Math.max(e,t);e=i>=1?r:r*i,t=i>=1?r/i:r,this.ratio=i,this.scene&&this.scene.resize(e,t),this.canvas&&(this.canvas.width=1*e,this.canvas.height=1*t,"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement&&(this.canvas.style.width=e+"px",this.canvas.style.height=t+"px")),n&&n!=this.resolution&&this.scene&&(this.resolution=n,s.Z.walk((e=>{const t=e.data.props;Object.keys(t).forEach((i=>{o.Z.setProp(e,i,t[i],this)}))}),this.scene)),this.flushBuffer(),this.dispatch("drawer-canvas:resize")}flushBuffer(){this.bBuffering&&(this.buffer.flush(),this.dispatch("drawer-canvas:buffer_flush"))}getRenderedFrames(){return this.bBuffering?this.buffer.getRenderedFrames():[]}setRatio(e){this.resize(this.scene.width,this.scene.height,e)}getRatio(){return this.ratio}getResolution(){return this.resolution}setResolution(e){this.resize(this.scene.width,this.scene.height,this.ratio,e)}getValueFromResolution(e){return e*this.resolution/200}getValueFromResolutionScaled(e){return 200*e/this.resolution}setOption(e,t){if("object"==typeof e){const t=Object.keys(e);for(let i=0,s=t.length;i<s;i++)this.drawOptions[t[i]]=e[t[i]]}else this.drawOptions[e]=t;this.flushBuffer()}getOption(e,t){var i;return null!==(i=this.drawOptions[e])&&void 0!==i?i:t}getOptions(){return this.drawOptions}animate(e){this.timeline.bSequenceStarted()&&(this.animation_id=requestAnimationFrame(this.animate),this.timeline.tick(e)&&this.draw())}startAnimation(){this.stopAnimation(),this.timeline.start(),this.animation_id=requestAnimationFrame(this.animate)}stopAnimation(){this.timeline.stop(),this.animation_id&&cancelAnimationFrame(this.animation_id)}pauseAnimation(){this.timeline.pause(),this.animation_id&&cancelAnimationFrame(this.animation_id)}playAnimation(){this.timeline.start(),requestAnimationFrame(this.animate)}draw(){var e,t;let i=0;const s=Object.assign({},this.drawOptions);s.ghost_index=void 0;const n=this.drawOptions.clearCanvas||this.timeline.getCurrentFrame()<=0;s.clearCanvas=this.drawOptions.clearCanvas||this.timeline.getCurrentFrame()<=0,s.time=this.timeline.getTime();const r=this.timeline.getFrameAtTime(s.time);if(this.dispatch("drawer-canvas:before_draw",{current_frame:r,current_time:s.time}),this.bBuffering&&this.buffer.exist(r))null===(e=this.context)||void 0===e||e.putImageData(this.buffer.get(r),0,0);else{if(s.ghosts){const e=Object.assign({},s),r=this.timeline.getTime(),a=this.timeline.getSequenceEndTime();for(let o=1;o<=e.ghosts;o++){const h=r-(s.ghost_skip_function?s.ghost_skip_function(o):o*(null!==(t=s.ghost_skip_time)&&void 0!==t?t:30));e.clearCanvas=n&&1===o,e.ghost_index=o,e.time=h<0?h+a:h>a?h%a:h,i+=c.draw(this.scene,this.context,e,this.resolution)}s.clearCanvas=!1}i+=c.draw(this.scene,this.context,s,this.resolution),this.bBuffering&&this.context&&(this.buffer.push(r,this.context),this.buffer.count()>=this.timeline.getFramesCount()&&this.dispatch("drawer-canvas:buffer_loaded"))}return i}redraw(){this.timeline.bSequenceStarted()?this.drawOptions.clearCanvas||null!=typeof this.drawOptions.ghosts&&0!=this.drawOptions.ghosts||(this.stopAnimation(),this.redraw_id&&cancelAnimationFrame(this.redraw_id),this.redraw_id=requestAnimationFrame(this.startAnimation)):(this.draw_id&&cancelAnimationFrame(this.draw_id),!this.drawOptions.clearCanvas&&(null==typeof this.drawOptions.ghosts||0==this.drawOptions.ghosts)&&this.timeline.stop(),this.draw_id=requestAnimationFrame(this.draw))}static draw(e,t,i,s){var n,r,a,o;const c=(0,h.zO)();if(t){const h=null!==(n=i.scale)&&void 0!==n?n:1,c=null!==(r=i.translate)&&void 0!==r?r:[0,0],u=null!==(a=i.time)&&void 0!==a?a:0,p=null!==(o=i.simmetricLine)&&void 0!==o?o:0,d=i.fixedLineWidth,f=i.clearCanvas,g=i.noBackground,m=i.backgroundImage,_=void 0!==i.ghosts&&i.ghosts>0&&void 0!==i.ghost_index&&i.ghost_index>0,b=_?1-i.ghost_index/(i.ghosts+.5):1,v=e.width,y=e.height,x=[v/((s=s||v)/(v>y?1:y/v))*h,y/(s/(v>y?v/y:1))*h],w=[v/2-(h>1?c[0]*v/(1/((h-1)/2)):0),y/2-(h>1?c[1]*y/(1/((h-1)/2)):0)];if(e.current_time=u,e.getChildren().forEach((e=>{e.data&&!1===e.data.visible&&_&&!0===e.data.disableGhost||e.generate(u,!0)})),f&&(g?t.clearRect(0,0,v,y):(t.fillStyle=e.background,t.fillRect(0,0,v,y),m&&t.drawImage(m,0,0,v,y))),p>0){const i=Math.PI/p,s=Math.max(v,y)/2,n=l.al(s/2,s/2);for(let r=0;r<p;r++){const a=l.al(-s,-s),o=l.al(2*s,2*s),h=r*i+Math.PI/4;l.U1(a,a,n,h),l.U1(o,o,n,h),t.beginPath(),t.strokeStyle=e.mainColor,t.lineWidth=1,t.moveTo((a[0]-s/2)*x[0]+w[0],(a[1]-s/2)*x[1]+w[1]),t.lineTo((o[0]-s/2)*x[0]+w[0],(o[1]-s/2)*x[1]+w[1]),t.stroke()}}let S=!1,M=!1;e.stream((({lineWidth:i,strokeColor:s,fillColor:n,shape:r,buffer:a,frame_length:o,frame_buffer_index:l})=>{if(!r.data||!(!1===r.data.visible||_&&!0===r.data.disableGhost)){t.beginPath(),t.moveTo((a[l]-v/2)*x[0]+w[0],(a[l+1]-y/2)*x[1]+w[1]);for(let e=2;e<o;e+=2)t.lineTo((a[l+e]-v/2)*x[0]+w[0],(a[l+e+1]-y/2)*x[1]+w[1]);if(r&&r.isClosed()&&t.closePath(),r&&r.data&&r.data.highlighted)return t.lineWidth=3*(i||1)*h,t.strokeStyle=e.mainColor,void t.stroke();if(n){if(_){const e=/\((.+),(.+),(.+),(.+)?\)/g.exec(n);if(e){let[,t,i,s,r]=e;const a=r?parseFloat(r):1,o=a<=0?0:a*b;n=n.indexOf("rgb")>=0?`rgba(${t},${i},${s},${o})`:`hsla(${t},${i},${s},${o})`}else S||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost fill color '${n}', \n\t\t\t\t\t\t\tplease enter a rgba or hsla color`),S=!0)}t.fillStyle=n,t.fill()}if(s&&i){if(_){const e=/\((.+),(.+),(.+),(.+)?\)/g.exec(s);if(e){let[,t,i,n,r]=e;const a=r?parseFloat(r):1,o=a<=0?0:a*b;s=s.indexOf("rgb")>=0?`rgba(${t},${i},${n},${o})`:`hsla(${t},${i},${n},${o})`}else M||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost stroke color '${n}', \n\t\t\t\t\t\t\tplease enter a rgba or hsla color`),M=!0);i*=b}t.lineWidth=d?i:i*h,t.strokeStyle=s,t.stroke()}}}))}return(0,h.zO)()-c}}const u=c},7131:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=class{constructor(){this.callbacks={}}attach(e,t){e in this.callbacks||(this.callbacks[e]=[]),this.callbacks[e].push(t)}detach(e,t){if(e in this.callbacks){const i=this.callbacks[e].indexOf(t);i>=0&&this.callbacks[e].splice(i,1)}}dispatch(e,t){if(e in this.callbacks)for(let i=0,s=this.callbacks[e].length;i<s&&!1!==this.callbacks[e][i](t);i++);}}},7216:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(1590),n=i(6669);const r={repetitions:{animable:!0,name:"repetitions",label:"Repetitions",type:"range",min:1,max:100,step:1,default:1,default_animate:20,canBArray:!0,transformation:"none",type_value:"int"},distance:{animable:!0,name:"distance",label:"Distance",type:"range",min:-200,max:200,step:1,default:0,canBArray:!0,default_animate:50,transformation:"resolution-based"},displace:{animable:!0,name:"displace",label:"Displace",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},squeezeX:{animable:!0,name:"squeezeX",label:"SqueezeX",type:"range",min:-.2,max:.2,step:.001,default:0,default_animate:.01,transformation:"resolution-scaled-based"},squeezeY:{animable:!0,name:"squeezeY",label:"SqueezeY",type:"range",min:-.2,max:.2,step:.001,default:0,default_animate:.01,transformation:"resolution-scaled-based"},rotateX:{animable:!0,name:"rotateX",label:"RotateX",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},rotateY:{animable:!0,name:"rotateY",label:"RotateY",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},rotateZ:{animable:!0,name:"rotateZ",label:"RotateZ",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},skewX:{animable:!0,name:"skewX",label:"SkewX",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle"},skewY:{animable:!0,name:"skewY",label:"SkewY",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle"},translate:{animable:!0,name:"translate",label:"Translate",type:"multiple-range",min:-200,max:200,step:1,default:[0,0],default_animate:0,transformation:"resolution-based"},scale:{animable:!0,name:"scale",label:"Scale",type:"multiple-range",min:-5,max:5,step:.01,default:[1,1],default_animate:3,transformation:"none"},fillColor:{animable:!0,name:"fillColor",label:"Fill",type:"color",default:"#000",default_animate:"#fff",transformation:"none"},strokeColor:{animable:!0,name:"strokeColor",label:"Stroke",type:"color",default:"#fff",default_animate:"#000",transformation:"none"},lineWidth:{animable:!0,name:"lineWidth",label:"Stroke weight",type:"slider",min:0,max:30,step:.1,default:1,default_animate:3,transformation:"none"},bCloseShape:{name:"bCloseShape",label:"Closed",type:"checkbox",default:void 0,transformation:"none"},bUseParent:{name:"bbUseParent",label:"Use parent repetition",type:"checkbox",default:!1,transformation:"none"},adaptMode:{name:"adaptMode",label:"Adapt",type:"radio",options:[{key:"None",value:n._.None},{key:"Scale",value:n._.Scale},{key:"Center",value:n._.Center},{key:"Fill",value:n._.Fill}],default:void 0,transformation:"none"},sideLength:{animable:!0,name:"sideLength",label:"Side Length",type:"multiple-range",min:.1,max:100,step:.1,default:[10,10],default_animate:20,transformation:"resolution-based"},sideNumber:{animable:!0,name:"sideNumber",label:"Side Number",type:"range",min:1,max:20,step:1,default:5,default_animate:2,transformation:"none"},n:{animable:!0,name:"n",label:"n",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none"},d:{animable:!0,name:"d",label:"d",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none"},wx:{animable:!0,name:"wx",label:"wx",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none"},wy:{animable:!0,name:"wy",label:"wy",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none"},wz:{animable:!0,name:"wz",label:"wz",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},twists:{animable:!0,name:"twists",label:"Twists",type:"range",min:1,max:60,step:.1,default:1,default_animate:3,transformation:"none"},twists_start:{animable:!0,name:"twists_start",label:"Twists start",type:"range",min:1,max:60,step:.1,default:0,default_animate:1,transformation:"none"},spiral:{name:"spiral",label:"Spiral type",type:"select",options:[{key:"ARCHIMEDE",value:s.Z.types.ARCHIMEDE},{key:"FERMAT",value:s.Z.types.FERMAT},{key:"HYPERBOLIC",value:s.Z.types.HYPERBOLIC},{key:"LITUUS",value:s.Z.types.LITUUS},{key:"LOGARITHMIC",value:s.Z.types.LOGARITHMIC}],default:s.Z.types.ARCHIMEDE,transformation:"none"},"loop.start":{name:"loop.start",label:"start",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none"},"loop.end":{name:"loop.end",label:"end",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none"},"loop.inc":{name:"loop.inc",label:"inc",type:"range",default:void 0,min:.01,max:100,step:.01,transformation:"none"}}},1485:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(9277),n=i(7216);class r{static bValueLoop(e){return"object"==typeof e&&"start"in e&&"end"in e&&"inc"in e&&"vertex"in e&&e.vertex.raw&&e.vertex.raw.length>0}static bValueVertexCallback(e){return e&&e.raw&&e.raw.length>0}static composeVertexCallback(e){if(e&&e.raw)return new Function("vertex",r.RAW_ARGUMENTS,"vertex_index","vertex_lenght","return "+e.raw)}static composeLoop(e){const t=e.vertex.raw?new Function("index",r.RAW_ARGUMENTS,"return "+e.vertex.raw):void 0;return{start:e.start,end:e.end,inc:e.inc,vertex:t}}static bValueAnimation(e){return e&&"object"==typeof e&&e.type&&("simple"===e.type||"raw"===e.type)}static bValueDrawer(e){return e&&"object"==typeof e&&e.type&&"drawer-transformation"===e.type}static bPropTransformable(e,t){const i=n.Z[e];return i&&"none"!==i.transformation&&void 0!==t&&"function"!=typeof t&&!r.bValueAnimation(t)}static getValueDrawerTransformationType(e){const t=n.Z[e];return t&&"none"!==t.transformation?t.transformation:null}static getTransformedValue(e,t,i){const a=n.Z[t];if(r.bPropTransformable(t,i)){let t;switch(a.transformation){case"angle":t=s.Yr;break;case"resolution-based":t=e.getValueFromResolution.bind(e);break;case"resolution-scaled-based":t=e.getValueFromResolutionScaled.bind(e)}return t?Array.isArray(i)?[t(i[0]),t(i[1])]:t(i):i}return i}static getTransformedValueInverse(e,t,i){const a=n.Z[t];if(r.bPropTransformable(t,i)){let t;switch(a.transformation){case"angle":t=s.Ux;break;case"resolution-based":t=e.getValueFromResolutionScaled.bind(e);break;case"resolution-scaled-based":t=e.getValueFromResolution.bind(e)}if(t)return Array.isArray(i)?[t(i[0]),t(i[1])]:t(i)}return i}}r.RAW_ARGUMENTS="{ context, repetition, time, shape, shape_loop, data }",r.RAW_ARGUMENTS_WITH_PARENT="{ context, repetition, parent, time, shape, shape_loop, data }";const a=r},4559:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var s=i(3639),n=i(9213),r=i(1010),a=i(4068),o=i(178),h=i(7490),l=i(9668),c=i(5589),u=i(1590),p=i(6863),d=i(8227),f=i(6591),g=i(1315),m=i(3969),_=i(817),b=i(5631),v=i(5282),y=i(7216),x=i(1485),w=i(6958);const S=new class{constructor(){this.registeredSceneChilds={},this.registeredSceneChilds={},this.registeredSceneChilds={Line:r.Z,Triangle:a.Z,Rect:o.Z,RegularPolygon:h.Z,Circle:l.Z,Rose:c.Z,Spiral:u.Z,Lissajous:p.Z,Group:b.Z,Shape:d.Z,ShapeLoop:g.Z,ShapeBuffer:m.Z}}getRegistered(){return Object.keys(this.registeredSceneChilds)}register(e,t){e in this.registeredSceneChilds?console.warn(`SceneUtilities: SceneChild "${e}" is already registered`):this.registeredSceneChilds[e]=t}unregister(e){e in this.registeredSceneChilds?delete this.registeredSceneChilds[e]:console.warn(`SceneUtilities: SceneChild "${e}" is not registered`)}create(e,t,i,r){var a;if(i=i||("string"!=typeof e?e.scene:void 0),e instanceof n.Z)return this.getChildren(e).forEach((e=>this.create(e,void 0,i,r))),e;if(e in this.registeredSceneChilds){t||(t={}),t.id=t.id||(0,s.Z)(),!t.name&&i&&(t.name=e+"_"+(this.getCountSceneChildOfType(i,e)+1)),t.data||(t.data={}),"props"in t.data||(t.data.props={}),"visible"in t.data||(t.data.visible=!0),"highlighted"in t.data||(t.data.highlighted=!1),"disableGhost"in t.data||(t.data.disableGhost=!1),"ShapeLoop"===e&&("loop"in t||(t.loop={start:0,end:2*Math.PI,inc:2*Math.PI/20}));const n=new this.registeredSceneChilds[e](t);if(n&&r&&this.isAPrimitive(n)){const e=null===(a=y.Z.sideLength)||void 0===a?void 0:a.default;n.setProp("sideLength",x.Z.getTransformedValue(r,"sideLength",e)),n.data.props.sideLength=e}return this.getChildren(n).forEach((e=>this.create(e))),n}return console.warn(`SceneUtilities: Creation failed. SceneChild "${e}" is not registered`),null}getCountSceneChildOfType(e,t){let i=0;return _.Z.walk((e=>{i+=e.type==t?1:0}),e),i}copy(e,t,i,s=!1){const n=e.getProps();e instanceof v.Z&&(n.bUseParent=e.bUseParent),e instanceof m.Z&&(n.shape=e.shape),e instanceof f.Z&&(n.bCloseShape=e.bCloseShape,n.adaptMode=e.adaptMode,n.vertexCallback=e.vertexCallback),e instanceof g.Z&&(n.shapeLoopPropsDependencies=e.shapeLoopPropsDependencies),e instanceof g.Z&&(n.shapeLoopPropsDependencies=e.shapeLoopPropsDependencies),s&&(n.id=e.id,n.name=e.name,n.order=e.order,n.data=JSON.parse(JSON.stringify(e.data||{})));const r=this.create(e.type,n,t,i);if(r){if(e instanceof b.Z)e.getChildren().forEach((e=>{const s=this.copy(e,t,i);s&&r.add(s)}));else if(e instanceof d.Z&&e.shape){const s=e.shape instanceof Float32Array?e.shape:this.copy(e.shape,t,i);s&&(r.shape=s)}else e instanceof m.Z&&e.shape&&r.setShape(new Float32Array(e.shape));return r}return console.warn("SceneUtilities: Copy failed.",e),null}add(e,t,i,s){let n=null;if(e instanceof b.Z||e instanceof _.Z)n=this.create(t,i,s),n&&e.add(n);else if(e instanceof d.Z)if(null==e.shape)n=this.create(t,i,s),n&&e.setShape(n);else if(e.shape instanceof v.Z){if(n=this.create(t,i,s),n){const t=this.create("Group",void 0,s),i=e.shape;this.remove(e,i),e.setShape(t),t.add(i),t.add(n)}}else e.shape instanceof b.Z&&this.add(e.shape,t,void 0,s);return n}remove(e,t){if(t)e instanceof b.Z?e.removeFromId(t.id):e instanceof d.Z&&e.setShape(void 0);else if(e.scene){const t=this.getParent(e);t?this.remove(t,e):e.scene.removeFromId(e.id)}else console.warn("SceneUtilities: Remove failed. SceneChild is not added into scene",e)}getRootParent(e){const t=this.getParents(e);return t.length>0?t[0]:null}getParent(e){const t=this.getParents(e);return t.length>0?t[t.length-1]:null}getParents(e){return e&&e.scene?e.scene.getParentsOfSceneChild(e):[]}getChildren(e){return e instanceof b.Z?e.getChildren():e instanceof d.Z&&e.shape?[e.shape]:[]}getChildrenPrimitives(e){let t=[];const i=this.getChildren(e);for(let e=0,s=i.length;e<s;e++)i[e]instanceof f.Z?t.push(i[e]):t=t.concat(...this.getChildrenPrimitives(i[e]));return t}getNeighbors(e){if(e.scene){const t=this.getParent(e);return null==t?e.scene.getChildren():this.getChildren(t)}return[]}getCountOfSceneChildType(e,t){let i=0;return _.Z.walk((e=>{i+=e.type==t?1:0}),e),i}walk(e,t){t(e),this.getChildren(e).forEach((e=>t(e)))}isGroup(e){return e instanceof b.Z}hasShapeChild(e){return e instanceof d.Z&&void 0!==e.shape}hasShapeBuffer(e){return e instanceof m.Z}isAPrimitive(e){return e instanceof f.Z}hasLoop(e){return e instanceof g.Z}setProp(e,t,i,s){if(x.Z.bValueAnimation(i))return e.data.props[t]=i,void e.setProp(t,w.Z.composeAnimation(s,t,i));if("loop"!==t)if("vertexCallback"!==t)if(x.Z.bPropTransformable(t,i))x.Z.bValueDrawer(i)?(e.data.props[t]=i,e.setProp(t,x.Z.getTransformedValue(s,t,i.value))):e.setProp(t,i);else switch(t in y.Z&&"none"!==y.Z[t].transformation&&(e.data.props[t]=i),t){case"bUseParent":e instanceof v.Z&&(e.bUseParent=i);break;case"bCloseShape":e.setClosed(i);break;case"bAdaptBuffer":e.adapt(i);break;default:if(t.indexOf(".")>0){const s=t.split(".");e.setProp({[s[0]]:{[s[1]]:i}})}else e.setProp(t,i)}else e instanceof v.Z&&x.Z.bValueVertexCallback(i)&&(e.data.props.vertexCallback=i,e.vertexCallback=x.Z.composeVertexCallback(i),e.bUseParent=!0,e.clearBuffer(!0,!0));else if(e instanceof g.Z&&x.Z.bValueLoop(i)){e.data.props.loop=i,e.setProp("loop",x.Z.composeLoop(i));const t=i.dynamyc;if(t!==e.shapeLoopPropsDependencies.indexOf("prop_argumens")>=0){const i=[...e.shapeLoopPropsDependencies];t?!(i.indexOf("prop_argumens")>=0)&&i.push("prop_arguments"):i.indexOf("prop_argumens")>=0&&i.splice(i.indexOf("prop_arguments",1)),e.shapeLoopPropsDependencies=i}e.clearBuffer(!0,!0)}}}},6090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static rgbToHex(e){return`#${i.toHex(e.r)}${i.toHex(e.g)}${i.toHex(e.b)}`}static toHex(e){const t=e.toString(16);return 2==t.length?t:"0"+t}static hexToRgb(e){return e="string"==typeof e?e.match(/[a-zA-Z0-9]{2}/gi):e,{r:i.hexToDec(e[0]),g:i.hexToDec(e[1]),b:i.hexToDec(e[2])}}static hexToDec(e){return parseInt(i.fill2(e),16)}static fill2(e){return 1==e.length?e+e:e}static rgbToHsl(e){let t=e.r/255,i=e.g/255,s=e.b/255;const n=Math.max(t,i,s),r=Math.min(t,i,s);let a,o,h=(n+r)/2;if(n==r)a=o=0;else{const e=n-r;switch(o=h>.5?e/(2-n-r):e/(n+r),n){case t:a=(i-s)/e+(i<s?6:0);break;case i:a=(s-t)/e+2;break;case s:a=(t-i)/e+4}a/=6}return{h:a,s:o,l:h}}static hslToRgb(e){let t,i,s,n=e.h,r=e.s,a=e.l;if(0==r)t=i=s=a;else{const e=(e,t,i)=>(i+=i<0?1:i>1?-1:0)<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e,o=a<.5?a*(1+r):a+r-a*r,h=2*a-o;t=e(h,o,n+1/3),i=e(h,o,n),s=e(h,o,n-1/3)}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*s)}}static rgbToHsv(e){let t=e.r/255,i=e.g/255,s=e.b/255;const n=Math.max(t,i,s),r=Math.min(t,i,s);let a,o,h=n;const l=n-r;if(o=0==n?0:l/n,n==r)a=0;else{switch(n){case t:a=(i-s)/l+(i<s?6:0);break;case i:a=(s-t)/l+2;break;case s:a=(t-i)/l+4}a/=6}return{h:a,s:o,v:h}}static hsvToRgb(e){let t,i,s,n=e.h,r=e.s,a=e.v;const o=Math.floor(6*n),h=6*n-o,l=a*(1-r),c=a*(1-h*r),u=a*(1-(1-h)*r);switch(o%6){case 0:t=a,i=u,s=l;break;case 1:t=c,i=a,s=l;break;case 2:t=l,i=a,s=u;break;case 3:t=l,i=c,s=a;break;case 4:t=u,i=l,s=a;break;case 5:t=a,i=l,s=c}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*s)}}static rgbToCmyk(e){let t=e.r/255,i=e.g/255,s=e.b/255,n={k:null,c:null,m:null,y:null};return n.k=+(1-Math.max.call(null,t,i,s)),n.c=+(1-t-n.k)/(1-n.k),n.m=+(1-i-n.k)/(1-n.k),n.y=+(1-s-n.k)/(1-n.k),n}static cmykToRgb(e){return{r:255*(1-e.c)*(1-e.k),g:255*(1-e.m)*(1-e.k),b:255*(1-e.y)*(1-e.k)}}}t.default=i},9145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e,t){super(`Il colore '${e}' non  valido.\nI formati supportati sono: ${t.map((e=>e.type)).join(", ")}`)}}t.ColorNotValidException=i;class s extends Error{constructor(e){super(`Impossibile convertire il colore '${e}'`)}}t.ColorParsingException=s},4598:(e,t,i)=>{"use strict";const s=i(100),n=i(1631),r=i(3493),a=i(6090);t.Z=class{constructor(e){const t=r.default.parse(e);this.rgb=this.getRgbFromMath(t),this.hsl=a.default.rgbToHsl(this.rgb),this.hsv=a.default.rgbToHsv(this.rgb),this.hex=a.default.rgbToHex(this.rgb),this.cmyk=a.default.rgbToCmyk(this.rgb),this.setAlpha(["rgba","hsla","hsva"].indexOf(t.type)>=0&&t.value.length>=3?t.value[3]:1)}setAlpha(e){this.alpha=e,this.alpha=this.alpha>1?this.alpha/255:this.alpha}getAlpha(){return this.alpha}getRgbFromMath(e){switch(e.type){case"rgb":case"rgba":const t=n.toFloat(e.value);return{r:t[0],g:t[1],b:t[2]};case"hsl":case"hsla":const i=n.toFloat(e.value);return a.default.hslToRgb({h:i[0],s:i[1],l:i[2]});case"hsv":case"hsva":const s=n.toFloat(e.value);return a.default.hsvToRgb({h:s[0],s:s[1],v:s[2]});case"cmyk":const r=n.toFloat(e.value);return a.default.cmykToRgb({c:r[0],m:r[1],y:r[2],k:r[3]});case"hex3":case"hex4":case"hex6":case"hex8":return a.default.hexToRgb(e.value)}}getRgb(){return Object.assign({},this.rgb)}getHsl(){return Object.assign({},this.hsl)}getHsv(){return Object.assign({},this.hsv)}getCmyk(){return Object.assign({},this.cmyk)}toString(e,t,i,s,n=!1,r=!1){const a=r?"%":"";return`${e+(n?"a":"")}(${Math.round(t)}, ${Math.round(i)+a}, ${Math.round(s)+a}${n?", "+this.alpha:""})`}toRGB(e=!1){return this.toString("rgb",this.rgb.r,this.rgb.g,this.rgb.b,e,!1)}toHSL(e=!1){return this.toString.call(this,"hsl",s.relativeClamp(this.hsl.h,0,1,0,360),100*this.hsl.s,100*this.hsl.l,e,!0)}toHSV(e=!1){return this.toString.call(this,"hsv",s.relativeClamp(this.hsv.h,0,1,0,360),100*this.hsv.s,100*this.hsv.v,e,!0)}toCMYK(){return`cmyk(${s.fix(100*this.cmyk.c,2)}%, ${s.fix(100*this.cmyk.m,2)}%, ${s.fix(100*this.cmyk.y,2)}%, ${s.fix(100*this.cmyk.k,2)}%)`}toHEX(){return this.hex}toRGBA(){return this.toRGB(!0)}toHSLA(){return this.toHSL(!0)}toHSVA(){return this.toHSV(!0)}}},3493:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(9145),n=i(1631),r=i(100);class a{static parse(e){return"string"==typeof e?a.fromString(e):a.fromObject(e)}static fromString(e){let t,i=null;for(let s=a.MATCHES.length-1;s>=0;s--)(t=a.MATCHES[s].regexp.exec(e))&&(i={type:a.MATCHES[s].type,value:t.slice(1)});if(!i)throw new s.ColorNotValidException(e,a.MATCHES);if(-1!=i.type.indexOf("hex"))return i;i.value=n.toFloat(i.value);const r="string"==typeof a.MATCH_VALUES[i.type]?a.MATCH_VALUES[a.MATCH_VALUES[i.type]]:a.MATCH_VALUES[i.type];for(let e in r.possibilities)if(a.isFromZeroTo(i.value,r.possibilities[e]))return r.possibilities[e]!=r.want&&(i.value=a.scaleToFromZeroTo(i.value,r.possibilities[e],r.want)),i;throw new s.ColorParsingException(e)}static fromObject(e){if("r"in e)return{type:"rgba",value:[e.r,e.g,e.b,e.a]};if("l"in e)return{type:"hsla",value:[e.h,e.s,e.l,e.a]};if("v"in e)return{type:"hsva",value:[e.h,e.s,e.v,e.a]};if("c"in e)return{type:"cmyk",value:[e.c,e.m,e.y,e.k]};throw new s.ColorParsingException(JSON.stringify(e))}static isFromZeroToOne(e){for(let t in e)if(e[t]>1)return!1;return!0}static isFromZeroTo(e,t){if((Array.isArray(t)&&t!=a.ZERO_TO_ONE||!Array.isArray(t)&&1==t)&&a.isFromZeroToOne(e))return!1;for(let i in e)if(e[i]>(Array.isArray(t)?t[i]:t))return!1;return!0}static scaleToFromZeroToOne(e,t){if(a.isFromZeroToOne(e))return e;const i=[];for(let s in e)i.push(r.clamp01(e[s]/(Array.isArray(t)?t[s]:t)));return i}static scaleToFromZeroTo(e,t,i){const s=[];for(let n in e)s.push(r.clamp(0,Array.isArray(i)?i[n]:i,e[n]/(Array.isArray(t)?t[n]:t)*(Array.isArray(i)?i[n]:i)));return s}}a.CSS_INTEGER="[-\\+]?\\d+%?",a.CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",a.CSS_UNIT="(?:"+a.CSS_NUMBER+")|(?:"+a.CSS_INTEGER+")",a.PERMISSIVE_MATCH3="[\\s|\\(]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")\\s*\\)?",a.PERMISSIVE_MATCH4="[\\s|\\(]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")\\s*\\)?",a.ZERO_TO_ONE=[1,1,1,1],a.ZERO_TO_255=[255,255,255,1],a.MATCH_VALUES={rgb:{possibilities:[a.ZERO_TO_ONE,a.ZERO_TO_255],want:a.ZERO_TO_255},rgba:"rgb",cmyk:{possibilities:[[100,100,100,100],a.ZERO_TO_ONE],want:a.ZERO_TO_ONE},hsl:{possibilities:[[360,100,100,1],a.ZERO_TO_ONE],want:a.ZERO_TO_ONE},hsla:"hsl",hsv:"hsl",hsva:"hsl"},a.MATCHES=[{type:"rgb",regexp:new RegExp("rgb"+a.PERMISSIVE_MATCH3)},{type:"rgba",regexp:new RegExp("rgba"+a.PERMISSIVE_MATCH4)},{type:"hsl",regexp:new RegExp("hsl"+a.PERMISSIVE_MATCH3)},{type:"hsla",regexp:new RegExp("hsla"+a.PERMISSIVE_MATCH4)},{type:"hsv",regexp:new RegExp("hsv"+a.PERMISSIVE_MATCH3)},{type:"hsva",regexp:new RegExp("hsva"+a.PERMISSIVE_MATCH4)},{type:"cmyk",regexp:new RegExp("cmyk"+a.PERMISSIVE_MATCH4)},{type:"hex3",regexp:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/},{type:"hex6",regexp:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},{type:"hex4",regexp:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/},{type:"hex8",regexp:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}],t.default=a},1631:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4943),n=i(100);t.toInt=e=>e.map((e=>parseInt(e))),t.toFloat=e=>e.map((e=>parseFloat(e))),t.hasObjectProperty=(e,i,s)=>t.indexOfObjectProperty(e,i,s)>=0,t.indexOfObjectProperty=(e,t,i)=>{for(let n=e.length-1;n>=0;n--)if("function"==typeof i?i(s.getProperty(e[n],t,"Nil"),e[n]):s.getProperty(e[n],t)===i)return n;return-1},t.intersect=(e,t)=>{var i=0,s=0;const n=new Array;for(;i<e.length&&s<t.length;)e[i]<t[s]?i++:(e[i]>t[s]||(n.push(e[i]),i++),s++);return n},t.nextElement=(e,t)=>e[n.nextNumber(t,e.length)],t.prevElement=(e,t)=>e[n.prevNumber(t,e.length)],t.randomElement=e=>e[n.randomInt(0,e.length-1)]},100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=0;t.newId=(e=0)=>++i+e,t.twoDigits=e=>(e<=9?"0":"")+e,t.clamp01=e=>t.clamp(0,1,e),t.clamp=(e,t,i)=>i<=e?e:i>=t?t:i,t.relativeClamp=(e,i,s,n,r)=>t.clamp(n,r,(e-i)/(s-i)*(r-n)+n),t.fix=(e,t=20)=>+parseFloat(e).toFixed(t),t.nextNumber=(e,t,i=1)=>(e+i)%t,t.prevNumber=(e,t,i=1)=>((e-=i)<0?e+t:e)%t,t.randomFloat=(e,t)=>Math.random()*(t-e)+e,t.randomInt=(e,t)=>Math.trunc(Math.random()*(t-e+1))+e,t.lerp=(e,i,s)=>e+(i-e)*t.clamp01(s),t.round=e=>~~(e+.5)},4943:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDef=e=>void 0!==e,t.isUndef=e=>!t.isDef(e),t.isEqual=(e,i)=>{if("object"!=typeof e||null===e||null===i)return e===i;{const s=Object.keys(e);for(let n=0,r=s.length;n<r;n++)if(void 0===i[s[n]]||!t.isEqual(e[s[n]],i[s[n]]))return!1}return!0},t.map=(e,t)=>(Object.keys(e).forEach(((i,s)=>{e[i]=t(e[i],i,s)})),e),t.each=(e,t)=>{Object.keys(e).forEach(((i,s)=>{t(e[i],i,s)}))},t.hasProperty=(e,t)=>void 0!==this.getProperty(e,t,void 0),t.getProperty=(e,t,i=null)=>{const s=t.split("."),n=s.length;for(let t=0;t<n;t++){const n=s[t],r=parseInt(n);if("*"==n&&Array.isArray(e))return e.map((e=>this.getProperty(e,s.slice(t+1).join("."),i)));if(!isNaN(r)&&Array.isArray(e))return this.getProperty(e[t],s.slice(t+1).join("."),i);if(!e.hasOwnProperty(n))return i;if(void 0===(e=e[n]))return i}return e},t.setProperties=(e,t,i)=>{t.forEach(((t,s)=>{let n=e;const r=t.split("."),a=r.pop();r.forEach((e=>{n=n[e]||{}})),n[a]=Array.isArray(i)?i[s]:"function"==typeof i?i(n[a]):i}))}},9685:(e,t,i)=>{"use strict";i.d(t,{WT:()=>s,ZR:()=>n});var s="undefined"!=typeof Float32Array?Float32Array:Array;function n(e){s=e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},1437:(e,t,i)=>{"use strict";i.d(t,{al:()=>r,TE:()=>a,U1:()=>o});var s,n=i(9685);function r(e,t){var i=new n.WT(2);return i[0]=e,i[1]=t,i}function a(e,t){var i=t[0]-e[0],s=t[1]-e[1];return Math.hypot(i,s)}function o(e,t,i,s){var n=t[0]-i[0],r=t[1]-i[1],a=Math.sin(s),o=Math.cos(s);return e[0]=n*o-r*a+i[0],e[1]=n*a+r*o+i[1],e}s=new n.WT(2),n.WT!=Float32Array&&(s[0]=0,s[1]=0)},21:(e,t,i)=>{var s;!function(){"use strict";var n=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,a=1/6,o=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function l(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,i=0,s=1,n=u();e=n(" "),t=n(" "),i=n(" ");for(var r=0;r<arguments.length;r++)(e-=n(arguments[r]))<0&&(e+=1),(t-=n(arguments[r]))<0&&(t+=1),(i-=n(arguments[r]))<0&&(i+=1);return n=null,function(){var n=2091639*e+2.3283064365386963e-10*s;return e=t,t=i,i=n-(s=0|n)}}(e):Math.random,this.p=c(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var i=0;i<512;i++)this.perm[i]=this.p[255&i],this.permMod12[i]=this.perm[i]%12}function c(e){var t,i=new Uint8Array(256);for(t=0;t<256;t++)i[t]=t;for(t=0;t<255;t++){var s=t+~~(e()*(256-t)),n=i[t];i[t]=i[s],i[s]=n}return i}function u(){var e=4022871197;return function(t){t=t.toString();for(var i=0;i<t.length;i++){var s=.02519603282416938*(e+=t.charCodeAt(i));s-=e=s>>>0,e=(s*=e)>>>0,e+=4294967296*(s-=e)}return 2.3283064365386963e-10*(e>>>0)}}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var i,s,a=this.permMod12,o=this.perm,h=this.grad3,l=0,c=0,u=0,p=(e+t)*n,d=Math.floor(e+p),f=Math.floor(t+p),g=(d+f)*r,m=e-(d-g),_=t-(f-g);m>_?(i=1,s=0):(i=0,s=1);var b=m-i+r,v=_-s+r,y=m-1+2*r,x=_-1+2*r,w=255&d,S=255&f,M=.5-m*m-_*_;if(M>=0){var P=3*a[w+o[S]];l=(M*=M)*M*(h[P]*m+h[P+1]*_)}var C=.5-b*b-v*v;if(C>=0){var A=3*a[w+i+o[S+s]];c=(C*=C)*C*(h[A]*b+h[A+1]*v)}var E=.5-y*y-x*x;if(E>=0){var k=3*a[w+1+o[S+1]];u=(E*=E)*E*(h[k]*y+h[k+1]*x)}return 70*(l+c+u)},noise3D:function(e,t,i){var s,n,r,o,h,l,c,u,p,d,f=this.permMod12,g=this.perm,m=this.grad3,_=.3333333333333333*(e+t+i),b=Math.floor(e+_),v=Math.floor(t+_),y=Math.floor(i+_),x=(b+v+y)*a,w=e-(b-x),S=t-(v-x),M=i-(y-x);w>=S?S>=M?(h=1,l=0,c=0,u=1,p=1,d=0):w>=M?(h=1,l=0,c=0,u=1,p=0,d=1):(h=0,l=0,c=1,u=1,p=0,d=1):S<M?(h=0,l=0,c=1,u=0,p=1,d=1):w<M?(h=0,l=1,c=0,u=0,p=1,d=1):(h=0,l=1,c=0,u=1,p=1,d=0);var P=w-h+a,C=S-l+a,A=M-c+a,E=w-u+2*a,k=S-p+2*a,T=M-d+2*a,Z=w-1+.5,O=S-1+.5,I=M-1+.5,L=255&b,R=255&v,q=255&y,F=.6-w*w-S*S-M*M;if(F<0)s=0;else{var B=3*f[L+g[R+g[q]]];s=(F*=F)*F*(m[B]*w+m[B+1]*S+m[B+2]*M)}var U=.6-P*P-C*C-A*A;if(U<0)n=0;else{var N=3*f[L+h+g[R+l+g[q+c]]];n=(U*=U)*U*(m[N]*P+m[N+1]*C+m[N+2]*A)}var D=.6-E*E-k*k-T*T;if(D<0)r=0;else{var V=3*f[L+u+g[R+p+g[q+d]]];r=(D*=D)*D*(m[V]*E+m[V+1]*k+m[V+2]*T)}var H=.6-Z*Z-O*O-I*I;if(H<0)o=0;else{var j=3*f[L+1+g[R+1+g[q+1]]];o=(H*=H)*H*(m[j]*Z+m[j+1]*O+m[j+2]*I)}return 32*(s+n+r+o)},noise4D:function(e,t,i,s){var n,r,a,l,c,u,p,d,f,g,m,_,b,v,y,x,w,S=this.perm,M=this.grad4,P=(e+t+i+s)*o,C=Math.floor(e+P),A=Math.floor(t+P),E=Math.floor(i+P),k=Math.floor(s+P),T=(C+A+E+k)*h,Z=e-(C-T),O=t-(A-T),I=i-(E-T),L=s-(k-T),R=0,q=0,F=0,B=0;Z>O?R++:q++,Z>I?R++:F++,Z>L?R++:B++,O>I?q++:F++,O>L?q++:B++,I>L?F++:B++;var U=Z-(u=R>=3?1:0)+h,N=O-(p=q>=3?1:0)+h,D=I-(d=F>=3?1:0)+h,V=L-(f=B>=3?1:0)+h,H=Z-(g=R>=2?1:0)+2*h,j=O-(m=q>=2?1:0)+2*h,$=I-(_=F>=2?1:0)+2*h,Y=L-(b=B>=2?1:0)+2*h,z=Z-(v=R>=1?1:0)+3*h,X=O-(y=q>=1?1:0)+3*h,W=I-(x=F>=1?1:0)+3*h,G=L-(w=B>=1?1:0)+3*h,K=Z-1+4*h,J=O-1+4*h,Q=I-1+4*h,ee=L-1+4*h,te=255&C,ie=255&A,se=255&E,ne=255&k,re=.6-Z*Z-O*O-I*I-L*L;if(re<0)n=0;else{var ae=S[te+S[ie+S[se+S[ne]]]]%32*4;n=(re*=re)*re*(M[ae]*Z+M[ae+1]*O+M[ae+2]*I+M[ae+3]*L)}var oe=.6-U*U-N*N-D*D-V*V;if(oe<0)r=0;else{var he=S[te+u+S[ie+p+S[se+d+S[ne+f]]]]%32*4;r=(oe*=oe)*oe*(M[he]*U+M[he+1]*N+M[he+2]*D+M[he+3]*V)}var le=.6-H*H-j*j-$*$-Y*Y;if(le<0)a=0;else{var ce=S[te+g+S[ie+m+S[se+_+S[ne+b]]]]%32*4;a=(le*=le)*le*(M[ce]*H+M[ce+1]*j+M[ce+2]*$+M[ce+3]*Y)}var ue=.6-z*z-X*X-W*W-G*G;if(ue<0)l=0;else{var pe=S[te+v+S[ie+y+S[se+x+S[ne+w]]]]%32*4;l=(ue*=ue)*ue*(M[pe]*z+M[pe+1]*X+M[pe+2]*W+M[pe+3]*G)}var de=.6-K*K-J*J-Q*Q-ee*ee;if(de<0)c=0;else{var fe=S[te+1+S[ie+1+S[se+1+S[ne+1]]]]%32*4;c=(de*=de)*de*(M[fe]*K+M[fe+1]*J+M[fe+2]*Q+M[fe+3]*ee)}return 27*(n+r+a+l+c)}},l._buildPermutationTable=c,void 0===(s=function(){return l}.call(t,i,t,e))||(e.exports=s),t.SimplexNoise=l,e.exports=l}()},3639:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function r(){if(!s)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&a.test(e)};for(var h=[],l=0;l<256;++l)h.push((l+256).toString(16).substr(1));var c,u,p=0,d=0;const f=function(e,t,i){var s=t&&i||0,n=t||new Array(16),a=(e=e||{}).node||c,l=void 0!==e.clockseq?e.clockseq:u;if(null==a||null==l){var f=e.random||(e.rng||r)();null==a&&(a=c=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=u=16383&(f[6]<<8|f[7]))}var g=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:d+1,_=g-p+(m-d)/1e4;if(_<0&&void 0===e.clockseq&&(l=l+1&16383),(_<0||g>p)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=g,d=m,u=l;var b=(1e4*(268435455&(g+=122192928e5))+m)%4294967296;n[s++]=b>>>24&255,n[s++]=b>>>16&255,n[s++]=b>>>8&255,n[s++]=255&b;var v=g/4294967296*1e4&268435455;n[s++]=v>>>8&255,n[s++]=255&v,n[s++]=v>>>24&15|16,n[s++]=v>>>16&255,n[s++]=l>>>8|128,n[s++]=255&l;for(var y=0;y<6;++y)n[s+y]=a[y];return t||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase();if(!o(i))throw TypeError("Stringified UUID is invalid");return i}(n)}}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}return __webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__(522)})()}));
//# sourceMappingURL=urpflanze-light.min.js.map