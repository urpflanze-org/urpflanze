/*! For license information please see urpflanze-light.min.js.LICENSE.txt */
var t={2894:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UncontrolledLoop=e.Static=e.Loop=e.Compose=e.Simple=e.resolveSimpleAnimation=void 0;const r=n(4825),i=n(2765);function a(t){const e=i.createAnimation(t);if(e)return t=>{var n;const r="number"==typeof t?t:(null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0;return e.update(r),e.value}}e.resolveSimpleAnimation=a,e.Simple=a,e.Compose=function(t){const e=r.composeAnimations(t);if(e)return t=>{var n;const r="number"==typeof t?t:(null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0;return e(r)}},e.Loop=function(t){const e=t;return void 0===e.interpolator&&(e.interpolator="wave"),e.interpolator&&("string"==typeof e.interpolator?"wave"!==e.interpolator&&(e.direction="alternate"):"object"==typeof e.interpolator&&"wave"!==e.interpolator.type&&(e.direction="alternate")),e.loop=!0,a(e)},e.Static=function(t){const e=t;return e.direction="normal",e.loop=!1,a(e)},e.UncontrolledLoop=function(t){const e=t;return e.direction="normal",e.loop=!0,a(e)}},9727:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=void 0,e.Easings={linear:(t,e,n,r=1)=>n*t/r+e,quadraticIn:(t,e,n,r=1)=>n*(t/=r)*t+e,quadraticOut:(t,e,n,r=1)=>-n*(t/=r)*(t-2)+e,quadraticInOut:(t,e,n,r=1)=>(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,cubicIn:(t,e,n,r=1)=>n*(t/=r)*t*t+e,cubicOut:(t,e,n,r=1)=>(t/=r,n*(--t*t*t+1)+e),cubicInOut:(t,e,n,r=1)=>(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e,quarticIn:(t,e,n,r=1)=>n*(t/=r)*t*t*t+e,quarticOut:(t,e,n,r=1)=>(t/=r,-n*(--t*t*t*t-1)+e),quarticInOut:(t,e,n,r=1)=>(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e,quinticIn:(t,e,n,r=1)=>n*(t/=r)*t*t*t*t+e,quinticOut:(t,e,n,r=1)=>(t/=r,n*(--t*t*t*t*t+1)+e),quinticInOut:(t,e,n,r=1)=>(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,sinusoidalIn:(t,e,n,r=1)=>-n*Math.cos(t/r*(Math.PI/2))+n+e,sinusoidalOut:(t,e,n,r=1)=>n*Math.sin(t/r*(Math.PI/2))+e,sinusoidalInOut:(t,e,n,r=1)=>-n/2*(Math.cos(Math.PI*t/r)-1)+e,exponentialIn:(t,e,n,r=1)=>n*Math.pow(2,10*(t/r-1))+e,exponentialOut:(t,e,n,r=1)=>n*(1-Math.pow(2,-10*t/r))+e,exponentialInOut:(t,e,n,r=1)=>(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e),circularIn:(t,e,n,r=1)=>(t/=r,-n*(Math.sqrt(1-t*t)-1)+e),circularOut:(t,e,n,r=1)=>(t/=r,t--,n*Math.sqrt(1-t*t)+e),circularInOut:(t,e,n,r=1)=>(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,n/2*(Math.sqrt(1-t*t)+1)+e),elasticIn:(t,e,n,r=1,i=1,a=.5)=>{if(0===t)return e;if(1==(t/=r))return e+n;a*=r;let o=0;return i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)+e},elasticOut:(t,e,n,r=1,i=1,a=.5)=>{if(0===t)return e;if(1==(t/=r))return e+n;a*=r;let o=0;return i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+n+e},elasticInOut:(t,e,n,r=1,i=1,a=.5)=>{if(0===t)return e;if(2==(t/=r/2))return e+n;a*=r;let o=0;return i<Math.abs(n)?(i=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+n+e},backIn:(t,e,n,r=1,i=1.70158)=>n*(t/=r)*t*((i+1)*t-i)+e,backOut:(t,e,n,r=1,i=1.70158)=>n*((t=t/r-1)*t*((i+1)*t+i)+1)+e,backInOut:(t,e,n,r=1,i=1.70158)=>(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e,bounceIn:(t,n,r,i=1)=>r-e.Easings.bounceOut(i-t,0,r,i)+n,bounceOut:(t,e,n,r=1)=>(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,bounceInOut:(t,n,r,i=1)=>t<i/2?.5*e.Easings.bounceIn(2*t,0,r,i)+n:.5*e.Easings.bounceOut(2*t-i,0,r,i)+.5*r+n}},4825:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.composeAnimations=void 0;const r=n(7358),i=n(2765),a=n(8782);function o(t,e,n=.5){const i=Array.isArray(t)?t:[t],o=Array.isArray(e)?e:[e],s=[];for(let t=0,e=i.length;t<e;t++){if(typeof i[t]!=typeof o[t])return void console.error("[@urpflanze/animation]: cannot interpolate");if("string"!=typeof i[t]){const e=i[t],r=o[t];s.push(e+n*(r-e))}else{const e=i[t],h=o[t],c=r.parseColorAndConvert(e),u=r.parseColorAndConvert(h);void 0!==c&&void 0!==u&&s.push(a.interpolateColorRGB(c,u,n))}}return 1===s.length?s[0]:s}e.composeAnimations=function(t){const e=t.map(i.createAnimation).filter((t=>void 0!==t)),n=e.length;if(n>0)return t=>{let r;for(let i=0;i<n;i++){const n=e[i];n.update(t),r=void 0===r?n.value:o(r,n.value)}return r}}},2765:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=void 0;const r=n(9298);e.createAnimation=function(t){const e=r.createInterpolationCallback(t);if(void 0===e)return;const n=t.delay||0,i=t.afterDelay||0,a=t.direction||"normal",o=t.duration||1e3,s="normal"===a||"reverse"===a?o+n:2*o+n+i,h={delay:n,afterDelay:i,direction:a,duration:o,totalDuration:s,loop:"number"==typeof t.loop?t.loop:!!t.loop},c=r.createInterpolator(t.interpolator),u={loop:0,offset:0,loopDuration:s,direction:"alternate"===a?"normal":a,started:!1,ended:!1,value:void 0};return u.update=function(t,e,n,r){const{loop:i,totalDuration:a,delay:o,afterDelay:s,direction:h,duration:c}=e;return u=>{if("number"==typeof i&&u>=a*i||!1===i&&u>=e.totalDuration)return t.started=!1,t.ended=!0,t.offset=n("normal"===h?c:0,c),void(t.value=r(t.offset));if(t.loop=Math.ceil(u/a),u%=a,(u-=o)<=0)return t.started=!1,t.offset=n(0,c),void(t.value=r(t.offset));if(t.started=!0,"alternate"===h)u<=c?(t.direction="normal",t.offset=n(u,c)):(t.direction="reverse",u-=c,(u-=s)>=0?t.offset=1-n(u>=c?c:u,c):t.offset=1);else{const e=n(u>=c?c:u,c);t.offset="normal"===h?e:1-e}t.value=r(t.offset)}}(u,h,c,e),u}},9298:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createInterpolator=e.createInterpolationCallback=void 0;const r=n(7358),i=n(3431),a=n(9727),o=n(8782);e.createInterpolationCallback=function(t){const e=Array.isArray(t.from)?t.from:[t.from],n=Array.isArray(t.to)?t.to:[t.to],i=t.round,a="hue"===t.colorTransitionMode?o.interpolateColorHSL:o.interpolateColorRGB;if(e.length!==n.length)return;const s=[];for(let t=0,o=e.length;t<o;t++){if(typeof e[t]!=typeof n[t])return void console.warn("[@urpflanze/animation]: `from` and `to` values mismatch");if("string"!=typeof e[t]){const r=e[t],a=n[t];s.push(void 0!==i?t=>1===t?a:0===t?r:Math.round((r+t*(a-r))*i)/i:t=>1===t?a:0===t?r:r+t*(a-r))}else{const i=e[t],o=n[t],h=r.parseColorAndConvert(i),c=r.parseColorAndConvert(o);void 0!==h&&void 0!==c&&s.push((t=>1===t?o:0===t?i:a(h,c,t)))}}return t=>{const e=s.map((e=>e(t)));return 1===e.length?e[0]:e}},e.createInterpolator=function(t){var e,n;switch(typeof t){case"function":return(e,n)=>t(e/n,e);case"string":switch(t){case"wave":return(t,e)=>.5+.5*Math.sin(t*Math.PI*2/e+1.5*Math.PI);default:if(t in a.Easings){const e=a.Easings[t];return(t,n)=>e(t,0,1,n)}return(t,e)=>a.Easings.linear(t,0,1,e)}case"object":switch(t.type){case"wave":{const n=1.5*Math.PI+((null===(e=t.params)||void 0===e?void 0:e.phase)||0);return(t,e)=>.5+.5*Math.sin(t*Math.PI*2/e+n)}case"elasticIn":case"elasticOut":case"elasticInOut":{const e=a.Easings[t.type],{amplitude:n,period:r}=t.params||{};return(t,i)=>e(t,0,1,i,n,r)}case"backIn":case"backOut":case"backInOut":{const e=a.Easings[t.type],r=(null===(n=t.params)||void 0===n?void 0:n.overshoot)||void 0;return(t,n)=>e(t,0,1,n,r)}case"cubicBezier":{const e=i.default(t.params[0],t.params[1],t.params[2],t.params[3]);return(t,n)=>e(t/n)}}}return(t,e)=>a.Easings.linear(t,0,1,e)}},7518:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5240),e),i(n(8782),e),i(n(2765),e),i(n(9298),e),i(n(9727),e),i(n(2894),e)},5240:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},8782:(t,e)=>{function n(t,e,n=!0,r="alternate",i=0,a=0){const o="normal"===r||"reverse"===r?e+i:2*e+i+a;return"number"==typeof n&&t>=o*n||!1===n&&t>=o?"normal"===r?e:0:(t%=o,(t-=i)<=0?0:"alternate"===r?t<=e?t:(t-=e,(t-=a)>=0?e-(t>=e?e:t):e):t>=e?e:t)}Object.defineProperty(e,"__esModule",{value:!0}),e.interpolateColorHSL=e.interpolateColorRGB=e.cosp=e.sinp=e.clockOffset=e.clock=void 0,e.clock=n,e.clockOffset=function(t,e,r=!0,i="alternate",a=0,o=0){return n(t,e,r,i,a,o)/e};const r=2*Math.PI;e.sinp=function(t,e,n=0,i=!1){const a=Math.sin(t*r/e+n);return i?.5+.5*a:a},e.cosp=function(t,e,n=0,i=!1){const a=Math.cos(t*r/e+n);return i?.5+.5*a:a},e.interpolateColorRGB=function(t,e,n){const r=t.r+n*(e.r-t.r),i=t.g+n*(e.g-t.g),a=t.b+n*(e.b-t.b),o=t.alpha+n*(e.alpha-t.alpha);return`rgba(${Math.floor(r)},${Math.floor(i)},${Math.floor(a)},${o})`},e.interpolateColorHSL=function(t,e,n){return`hsla(${t.h+n*(e.h-t.h)},${t.s+n*(e.s-t.s)}%,${t.l+n*(e.l-t.l)}%,${t.alpha+n*(e.alpha-t.alpha)})`}},814:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rgbToHsl=e.hslToRgb=e.rgbToHex=void 0,e.rgbToHex=function(t,e,n){return`#${((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)}`},e.hslToRgb=function(t,e,n){let r,i,a;if(t/=360,n/=100,0==(e/=100))r=i=a=n;else{const o=(t,e,n)=>(n+=n<0?1:n>1?-1:0)<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t,s=n<.5?n*(1+e):n+e-n*e,h=2*n-s;r=o(h,s,t+1/3),i=o(h,s,t),a=o(h,s,t-1/3)}return[.5+255*r<<0,.5+255*i<<0,.5+255*a<<0]},e.rgbToHsl=function(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),i=Math.min(t,e,n),a=(r+i)/2;let o,s;if(r===i)o=s=0;else{const h=r-i;switch(s=a>.5?h/(2-r-i):h/(r+i),r){case t:o=(e-n)/h+(e<n?6:0);break;case e:o=(n-t)/h+2;break;case n:o=(t-e)/h+4}o/=6}return[.5+360*o<<0,.5+100*s<<0,.5+100*a<<0]}},4947:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},7358:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(6097),e),i(n(814),e),i(n(5576),e)},5576:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseColor=e.parseColorAndConvert=void 0;const r=n(4947),i=n(814);function a(t){if("number"==typeof t)return t>16777215?{type:"rgb",a:t>>24&255,b:t>>16&255,c:t>>8&255,alpha:(255&t)/255}:{type:"rgb",a:t>>16&255,b:t>>8&255,c:255&t,alpha:1};t=t.replace(/\s/g,""),r.default[t]&&(t=r.default[t]);let e=/^#([0-9a-f]{3,8})$/i.exec(t);if(e){const t=e[1];return 3===t.length?{type:"rgb",a:parseInt(t[0]+t[0],16),b:parseInt(t[1]+t[1],16),c:parseInt(t[2]+t[2],16),alpha:1}:{type:"rgb",a:parseInt(t[0]+t[1],16),b:parseInt(t[2]+t[3],16),c:parseInt(t[4]+t[5],16),alpha:t.length>6?parseInt(t.substring(6),16)/255:1}}if(e=/^((hsl|rgb)a?)\((\d+),(\d+)%?,(\d+)%?,?(.+)?\)$/i.exec(t),e){const[,,t,n,r,i,a]=e;return{type:t,a:+n,b:+r,c:+i,alpha:a?+a:1}}}e.parseColorAndConvert=function(t){const e=a(t);if(e){if("hsl"===e.type){const[t,n,r]=i.hslToRgb(e.a,e.b,e.c);return{r:t,g:n,b:r,h:e.a,s:e.b,l:e.c,alpha:e.alpha}}{const[t,n,r]=i.rgbToHsl(e.a,e.b,e.c);return{h:t,s:n,l:r,r:e.a,g:e.b,b:e.c,alpha:e.alpha}}}},e.parseColor=a},6097:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},2513:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const r=n(1378),i=n(541),a=n(2648),o=n(5511);class s extends i.SceneChild{constructor(t={}){t.type="Group",super(t),this.children=[],["id","name","data","order","type"].forEach((e=>{e in t&&delete t[e]})),this.props=t}isStatic(){const t=this.children;for(let e=0,n=t.length;e<n;e++)if(!t[e].isStatic())return!1;return!0}isStaticIndexed(){const t=this.children;for(let e=0,n=t.length;e<n;e++)if(!t[e].isStaticIndexed())return!1;return!0}add(...t){for(let e=0,n=t.length;e<n;e++){const n=t[e],i=n.getProps();Object.keys(this.props).forEach((t=>{void 0===i[t]&&n.setProp(t,this.props[t])})),n.order=void 0!==n.order?n.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,this.scene&&r.Scene.propagateToChilden(n,this.scene),this.children.push(n)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t))),this.clearBuffer(!0)}getChildren(){return this.children}find(t){if(this.id===t||this.name===t)return this;const e=this.getChildren();for(let n=0,r=e.length;n<r;n++){const r=e[n].find(t);if(null!==r)return r}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){if(t>=0&&t<this.children.length){const e=this.children.splice(t,1);return this.clearBuffer(!0),e}return!1}removeFromId(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id==t)return this.children.splice(e,1),this.clearBuffer(!0)}generate(t,e=!1,n){this.generateId=t,this.children.forEach((r=>r.generate(t,e,n)))}getBounding(){const t=[],e=o.Bounding.empty();if(this.children.length>0){this.children.forEach((e=>t.push(e.getBounding())));for(let n=0,r=this.children.length;n<r;n++)e.x=e.x>t[n].x?t[n].x:e.x,e.y=e.y>t[n].y?t[n].y:e.y,e.width=e.width<t[n].width?t[n].width:e.width,e.height=e.height<t[n].height?t[n].height:e.height;e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}return e}clearBuffer(t=!1,e=!0){if(this.children.forEach((e=>e.clearBuffer(t,!1))),this.scene&&e){const n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}}setProp(t,e){"object"==typeof t?Object.keys(t).forEach((e=>this.props[e]=t[e])):this.props[t]=e,this.children.forEach((n=>n.setProp(t,e)))}setPropUnsafe(t,e){super.setPropUnsafe(t,e),this.children.forEach((n=>n.setPropUnsafe(t,e)))}getBufferLength(t){return this.children.map((e=>e.getBufferLength(t))).reduce(((t,e)=>t+e),0)}getBuffer(){const t=this.children.map((t=>t.getBuffer())).filter((t=>void 0!==t)),e=t.reduce(((t,e)=>t+e.length),0);if(e>0){const n=new Float32Array(e);n.set(t[0],0);for(let e=1,r=0,i=t.length;e<i;e++)r+=t[e-1].length,n.set(t[e],r);return n}return a.ShapeBase.EMPTY_BUFFER}getIndexedBuffer(){const t=this.children.map((t=>t.getIndexedBuffer())).filter((t=>void 0!==t));return[].concat.apply([],t)}stream(t){this.children.forEach((e=>e.stream(t)))}}e.Group=s},1378:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;const r=n(541),i=n(2513),a=n(6448),o=n(313);class s{constructor(t={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.color="hsla(0, 0%, 100%, 1)",this.currentTime=0,void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.background&&(this.background=t.background),void 0!==t.color&&(this.color=t.color),this.children=[],this.center=[this.width/2,this.height/2],this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?(.5+.5*o.clamp(-1,1,t.anchor[0]))*this.width:"left"===t.anchor[0]?0:"right"===t.anchor[0]?this.width:this.center[0],"number"==typeof t.anchor[1]?(.5+.5*o.clamp(-1,1,t.anchor[1]))*this.height:"top"===t.anchor[1]?0:"bottom"===t.anchor[1]?this.height:this.center[1]]:[this.center[0],this.center[1]]}getWidth(t=100){return this.width*t/100}getHeight(t=100){return this.height*t/100}resize(t,e=t){this.width=t,this.height=e,this.center=[this.width/2,this.height/2];const n=[this.width/this.anchor[0],this.height/this.anchor[1]];this.anchor=[this.width/n[0],this.height/n[1]],this.children.forEach((t=>t.clearBuffer(!0,!1)))}update(t=0){this.currentTime=t;for(let t=0,e=this.children.length;t<e;t++)this.children[t].generate(this.currentTime,!0)}stream(t){this.children.forEach((e=>e.stream(t)))}getChildren(){return this.children}add(...t){const e="number"==typeof t[t.length-1]?t[t.length-1]:void 0,n=t.length-(void 0===e?0:1);for(let r=0;r<n;r++){const n=t[r];n.order=void 0!==e?e+r:void 0!==n.order?n.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,s.propagateToChilden(n,this),this.children.push(n),n.clearBuffer(!0,!1),n.generate(0,!0)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t)))}find(t){const e=this.getChildren();for(let n=0,r=e.length;n<r;n++){const r=e[n].find(t);if(null!==r)return r}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){t>=0&&t<this.children.length&&this.children.splice(t,1)}removeChildren(){this.children=[]}removeFromId(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t||this.children[e].name===t)return void this.children.splice(e,1)}isFirstLevelChild(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t.id)return!0;const e=this.getParentsOfSceneChild(t);return 1===e.length&&e[0]instanceof i.Group}getParentsOfSceneChild(t){const e=s.getParentsOfSceneChild(this,t);return e?(e.splice(0,1),e):[]}static getParentsOfSceneChild(t,e,n=[]){let o;if(t instanceof r.SceneChild){if(t.id==e.id)return n;if(t instanceof a.Shape&&t.shape){const r=n.slice();if(r.push(t),o=s.getParentsOfSceneChild(t.shape,e,r))return o}}if(t instanceof s||t instanceof i.Group){const r=t.getChildren();n.push(t);for(let t=0,i=r.length;t<i;t++){const i=r[t];if(o=s.getParentsOfSceneChild(i,e,n))return o}n.pop()}return null}static walk(t,e){if(e instanceof r.SceneChild){if(!1===t(e))return!1;if(e instanceof a.Shape&&e.shape&&!1===s.walk(t,e.shape))return!1}if(e instanceof s||e instanceof i.Group){const n=e.getChildren();for(let e=0,r=n.length;e<r;e++){const r=n[e];if(!1===s.walk(t,r))return!1}}}static propagateToChilden(t,e){t.scene=e,t instanceof i.Group?t.getChildren().forEach((t=>{s.propagateToChilden(t,e)})):t instanceof a.Shape&&t.shape&&(t.shape.scene=e,s.propagateToChilden(t.shape,e))}}e.Scene=s},541:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneChild=void 0;let n=0;e.SceneChild=class{constructor(t){var e;this.generateId=-1,this.id=null!==(e=t.id)&&void 0!==e?e:++n,this.type=t.type||"SceneChild",this.name=t.name||this.type+"_"+this.id,this.data=t.data||{},this.props={}}find(t){return this.id===t||this.name===t?this:null}getProps(){return this.props}getProp(t,e,n){var r;return null!==(r=this.props[t])&&void 0!==r?r:n}hasProp(t){return void 0!==this.props[t]}setPropUnsafe(t,e){"string"==typeof t?this.props[t]=e:Object.keys(t).forEach((e=>this.props[e]=t[e]))}}},313:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.prepareBufferForInterpolation=e.distributePointsInBuffer=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.relativeClamp=e.clamp=e.lerp=e.toRadians=e.toDegrees=e.now=void 0;const r=n(21),i=n(2769),a=n(795),o="undefined"!=typeof performance?performance:Date;function s(t,e,n){return n<=t?t:n>=e?e:n}e.now=function(){return o.now()},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.lerp=function(t,e,n){return(1-n)*t+n*e},e.clamp=s,e.relativeClamp=function(t,e,n,r,i){return s(r,i,(n-t)/(e-t)*(i-r)+r)};const h={random:new r(Math.random)};e.noise=function(t="random",e=0,n=0,i=0){return void 0===h[t]&&(h[t]=new r(t)),h[t].noise3D(e,n,i)};const c={};function u(t,e){const n=t.length,r=n/2,i=2*(r+e),a=r-1;if(a>1){const r=n-2,o=Math.floor(e/a);let s=(i-(n+o*r))/2;const h=Math.round(a/s),c=new Float32Array(i);for(let e=0,n=0,i=0;e<r;e+=2,n++,i+=2){const a=t[e],u=t[e+1],l=t[e+2],f=t[e+3];c[i]=a,c[i+1]=u;const d=s>0&&(n%h==0||e===r-2),p=o+(d?1:0),g=1/(p+1);for(let t=0;t<p;t++,i+=2){const e=g*(t+1);c[i+2]=(1-e)*a+e*l,c[i+3]=(1-e)*u+e*f}d&&s--}return c[i-2]=t[n-2],c[i-1]=t[n-1],c}const o=new Float32Array(i);for(let e=0;e<i;e+=2)o[e]=t[e%n],o[e+1]=t[(e+1)%n];return o}function l(t,e){const n=t.length,r=e.length;if(n===r)return[t,e];const i=Math.abs(n-r),a=n<r?e:t,o=u(n<r?t:e,Math.floor(i/2));return n>r?[a,o]:[o,a]}e.random=function(t,e=0,n=1,r){const i=t+"";if(void 0===c[i]){const t=function(t){let e=0,n=1779033703^t.length;for(;e<t.length;e++)n=Math.imul(n^t.charCodeAt(e),3432918353),n=n<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}}(i);c[i]=(a=t(),o=t(),s=t(),h=t(),function(){let t=(a>>>=0)+(o>>>=0)|0;return a=o^o>>>9,o=(s>>>=0)+(s<<3)|0,t=t+(h=1+(h>>>=0)|0)|0,s=(s=s<<21|s>>>11)+t|0,(t>>>0)/4294967296})}var a,o,s,h;const u=e+c[i]()*(n-e);return void 0!==r?Math.round(u*10**r)/10**r:u},e.angleFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[(t.col.count-1)/2,(t.row.count-1)/2];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=t.col.index-1-n[0],i=t.row.index-1-n[1];return 0===r?0:Math.atan(i/r)}return(t.angle-Math.PI)/2},e.angle2FromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[(t.col.count-1)/2,(t.row.count-1)/2];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=t.col.index-1-n[0],i=t.row.index-1-n[1];return 0===r?0:Math.atan2(i,r)}return t.angle-Math.PI},e.distanceFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[.5,.5];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=[t.col.offset,t.row.offset];return a.default.distance(r,n)}return 1},e.distributePointsInBuffer=u,e.prepareBufferForInterpolation=l,e.interpolate=function(t,e,n=.5){const[r,i]=l(t,e),a=Math.max(r.length,i.length),o="number"==typeof n?[n]:n,s=a/2;if(o.length!==s){const t=o.length;for(let e=0;e<s;e++)o[e]=o[e%t]}const h=new Float32Array(a);for(let t=0,e=0;t<a;t+=2,e++)h[t]=(1-o[e])*r[t]+o[e]*i[t],h[t+1]=(1-o[e])*r[t+1]+o[e]*i[t+1];return h}},795:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=new Array(4),r={from:(t=0,e)=>{const n=new Array(2);return"number"==typeof t?(n[0]=t,n[1]=null!=e?e:t):(n[0]=t[0],n[1]=t[1]),n},normalize:t=>{const e=r.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:(t,e)=>t[0]*e[0]+t[1]*e[1],length:t=>Math.hypot(t[0],t[1]),angle:(t,e)=>(t=r.normalize(t),e=r.normalize(e),Math.acos(r.dot(t,e))),skewX:(t,e)=>{t[0]+=Math.tan(e)*t[1]},skewY:(t,e)=>{t[1]+=Math.tan(e)*t[0]},squeezeX:(t,e)=>{t[1]+=t[1]*(t[0]*-e)},squeezeY:(t,e)=>{t[0]+=t[0]*(t[1]*e)},rotate:(t,e,n)=>{const r=t[0]-n[0],i=t[1]-n[1];t[0]=r*e[0]+i*e[1]+n[0],t[1]=r*e[2]+i*e[3]+n[1]},rotateX:(t,e,i)=>{n[0]=1,n[1]=0,n[2]=0,n[3]=Math.cos(i),r.rotate(t,n,e)},rotateY:(t,e,i)=>{n[0]=Math.cos(i),n[1]=0,n[2]=0,n[3]=1,r.rotate(t,n,e)},rotateZ:(t,e,i)=>{n[0]=Math.cos(i),n[1]=-Math.sin(i),n[2]=Math.sin(i),n[3]=Math.cos(i),r.rotate(t,n,e)},translate:(t,e)=>{t[0]+=e[0],t[1]+=e[1]},scale:(t,e)=>{t[0]*=e[0],t[1]*=e[1]},divide:(t,e)=>{t[0]/=e[0],t[1]/=e[1]},toString:t=>`x: ${t[0]}, y: ${t[1]}`,ZERO:Array.from([0,0]),ONE:Array.from([1,1])};e.default=r},8721:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toVec3=e.toVec2=e.fromSkew=e.VEC2_ONE=e.VEC2_ZERO=e.VEC3_ONE=e.VEC3_ZERO=void 0;const r=n(887);e.VEC3_ZERO=[0,0,0],e.VEC3_ONE=[1,1,1],e.VEC2_ZERO=[0,0],e.VEC2_ONE=[1,1],r.glMatrix.setMatrixArrayType(Array),e.fromSkew=function(t,e){return t[0]=1,t[1]=Math.tan(e[1]),t[2]=0,t[3]=0,t[4]=Math.tan(e[0]),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.toVec2=function(t){return Array.isArray(t)?[t[0],t[1]]:[t,t]},e.toVec3=function(t,e=0){return Array.isArray(t)?[t[0],t[1],e]:[t,t,e]}},3792:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.PHI=e.PI2=e.log=void 0,e.log=(t,e)=>Math.log(t)/Math.log(e),e.PI2=2*Math.PI,e.PHI=(1+Math.sqrt(5))/2,e.mod=(t,e)=>{const n=t%e;return n<0?n+e:n}},5511:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Adapt=e.Bounding=e.EAdaptMode=void 0;const r=n(9958);var i;!function(t){t[t.None=0]="None",t[t.Scale=2]="Scale",t[t.Center=4]="Center",t[t.Fill=8]="Fill"}(i=e.EAdaptMode||(e.EAdaptMode={})),e.Bounding={empty:()=>({cx:0,cy:0,x:-1,y:-1,width:2,height:2}),clear:t=>{t[0]=void 0,t[1]=void 0,t[2]=void 0,t[3]=void 0},add:(t,e,n)=>{(void 0===t[0]||e<t[0])&&(t[0]=e),(void 0===t[2]||e>t[2])&&(t[2]=e),(void 0===t[1]||n<t[1])&&(t[1]=n),(void 0===t[3]||n>t[3])&&(t[3]=n)},sum:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]<e[0]&&(t[0]=e[0]),t[2]>e[2]&&(t[2]=e[2]),t[1]<e[1]&&(t[1]=e[1]),t[3]>e[3]&&(t[3]=e[3])):console.warn("[Urplfanze:Bounding] cannot sum bounding")},bind:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?(t.x=e[0],t.y=e[1],t.width=e[2]-e[0],t.height=e[3]-e[1],t.cx=t.x+t.width/2,t.cy=t.y+t.height/2):console.warn("[Urplfanze:Bounding] cannot bind bounding")}};class a extends r.Modifier{constructor(t){super(),this.mode=t.mode||i.Fill,this.rect=t.rect}apply(t,e){return a.adapt(t,this.mode,this.rect)}static adapt(t,e,n){if(e===i.None)return Float32Array.from(t);const r=new Float32Array(t.length);n||(n=a.getBounding(t));const o=n.width>=2||n.height>=2||e>=i.Fill&&(n.width<2||n.height<2)?2/Math.max(n.width,n.height):1,s=e>=i.Center?n.cx:0,h=e>=i.Center?n.cy:0;for(let e=0,n=t.length;e<n;e+=2)r[e]=(t[e]-s)*o,r[e+1]=(t[e+1]-h)*o;return r}static getBounding(t,n){void 0===n&&(n=e.Bounding.empty());const r=[void 0,void 0,void 0,void 0];for(let n=0,i=t.length;n<i;n+=2)e.Bounding.add(r,t[n],t[n+1]);return e.Bounding.bind(n,r),n}}e.Adapt=a,a.MODES=i},8301:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Close=void 0;const r=n(9958);class i extends r.Modifier{constructor(){super()}apply(t,e,n){return i.call(t)}static call(t){const e=t.length;if(i.isClosed(t))return t;const n=new Float32Array(e+2);return n.set(t,0),n[e]=n[0],n[e+1]=n[1],n}static isClosed(t){const e=t.length;return t[0]===t[e-2]&&t[1]===t[e-1]}}e.Close=i},1740:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mirror=void 0;const r=n(9958);class i extends r.Modifier{constructor(t={x:!0,y:!0}){super(),this.x=!0===t.x,this.y=!0===t.y}apply(t,e){const n=t.length,r=new Float32Array(n*(this.x?2:1)*(this.y?2:1));if(this.x&&this.y){const e=n+n,i=e+n;for(let a=0;a<n;a+=2)r[a]=t[a]-1,r[a+1]=t[a+1]-1,r[n+a]=-1*t[n-2-a]+1,r[n+a+1]=t[n-2-a+1]-1,r[e+a]=-1*t[a]+1,r[e+a+1]=-1*t[a+1]+1,r[i+a]=t[n-2-a]-1,r[i+a+1]=-1*t[n-2-a+1]+1}else if(this.x)for(let e=0;e<n;e+=2)r[e]=t[e]-1,r[e+1]=t[e+1],r[n+e]=-1*t[n-2-e]+1,r[n+e+1]=t[n-2-e+1];else{if(!this.y)return t;for(let e=0;e<n;e+=2)r[e]=t[e],r[e+1]=t[e+1]-1,r[n+e]=t[n-2-e],r[n+e+1]=-1*t[n-2-e+1]+1}return r}}e.Mirror=i},9958:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0,e.Modifier=class{}},3315:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Offset=void 0;const r=n(9958);class i extends r.Modifier{constructor(t={from:0,to:void 0}){super(),this.from=t.from,this.to=t.to}apply(t,e){return t.subarray(this.from,this.to?this.to<0?t.length+this.to:this.to:void 0)}}e.Offset=i},4660:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;const r=n(313),i=n(8301),a=n(9958);class o extends a.Modifier{constructor(t={}){super(),this.level=t.level||1;const e=Array.isArray(t.tension)?t.tension:[t.tension];this.tension=new Array(this.level).fill(.5).map(((t,n)=>r.clamp(0,1,e[n]||t))),this.level=this.level<1?1:this.level,this.closed=!0===t.closed}apply(t,e){if(e&&!i.Close.isClosed(t)){const e=t.length,n=new Float32Array(e+2);n.set(t,0),n[e]=t[0],n[e+1]=t[1],t=n}let n=t;for(let t=0,r=this.level;t<r;t++)n=o.smooth(n,this.tension[t],e||this.closed);return n}static smooth(t,e=.5,n=!1){const r=t.length,i=new Float32Array(2*(t.length-(n?1:0)));n||(i[0]=t[0],i[1]=t[1]);const a=.05+.4*e,o=1-a;let s=n?0:2;for(let e=0,n=r-2;e<n;e+=2,s+=4)i[s]=o*t[e]+a*t[e+2],i[s+1]=o*t[e+1]+a*t[e+3],i[s+2]=a*t[e]+o*t[e+2],i[s+3]=a*t[e+1]+o*t[e+3];return n?(i[s]=i[0],i[s+1]=i[1]):(i[s]=t[r-2],i[s+1]=t[r-1]),i}}e.Smooth=o},5838:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Solidify=void 0;const r=n(9958);class i extends r.Modifier{constructor(t={}){super(),this.closed=!0===t.closed,this.thickness=t.thickness||.2,this.error=t.error}apply(t,e){return i.solidify(t,this.thickness,this.closed,this.error)}static solidify(t,e,n=!1,r){const a=[],o=(e="number"==typeof e?[e]:e).length;let s,h,c=[[0,0],[0,0]],u=[[0,0],[0,0]];for(let n=0,l=0,f=t.length-2;n<f;n+=2,l++){s=0===n,h=n===f-2;const d={index:n+1,offset:n/f,count:f},p={index:n+2,offset:(n+1)/f,count:f},g="function"==typeof e?e(d):e[l%o],m="function"==typeof e?e(p):e[(l+1)%o],v=i.getOffsets(t[n],t[n+1],t[n+2],t[n+3],g),M=i.getOffsets(t[n],t[n+1],t[n+2],t[n+3],m),b=[t[n]+v[0],t[n+1]+v[1]],y=[t[n+2]+M[0],t[n+3]+M[1]],x=[t[n]-v[0],t[n+1]-v[1]],w=[t[n+2]-M[0],t[n+3]-M[1]];if(!s){const t=i.getIntersection(c[0],c[1],b,y,r);t&&(a.unshift(t[1]),a.unshift(t[0]));const e=i.getIntersection(u[0],u[1],x,w,r);e&&(a.push(e[0]),a.push(e[1]))}s&&(a.unshift(b[1]),a.unshift(b[0]),a.push(x[0]),a.push(x[1])),h&&(a.unshift(y[1]),a.unshift(y[0]),a.push(w[0]),a.push(w[1])),h||(c=[b,y],u=[x,w])}if(n){const e=t.length-2,n=a.length-2,r=.5*a[0]+.5*a[e],i=.5*a[1]+.5*a[e+1],o=.5*a[e+2]+.5*a[n],s=.5*a[e+3]+.5*a[n+1];a[0]=r,a[1]=i,a[e]=r,a[e+1]=i,a[e+2]=o,a[e+3]=s,a[n]=o,a[n+1]=s}return Float32Array.from(a)}static getOffsets(t,e,n,r,i){const a=n-t,o=r-e,s=i/(2*Math.sqrt(a*a+o*o));return[-s*o,s*a]}static getIntersection(t,e,n,r,i=1e-5){const a=(e[1]-t[1])/(e[0]-t[0]),o=(r[1]-n[1])/(r[0]-n[0]);if(Math.abs(a-o)<i)return;const s=t[1]-a*t[0],h=(s-(n[1]-o*n[0]))/(o-a);return[h,a*h+s]}}e.Solidify=i},5588:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Subdivide=void 0;const r=n(9958);class i extends r.Modifier{constructor(t={}){super(),this.level=t.level||1,this.level=this.level<1?1:this.level}apply(t,e){const n=this.level;let r=t;if(r&&r.length>0)for(let t=0;t<n;t++)r=i.subdivide(r,e);return r}static subdivide(t,e=!1){const n=t.length,r=new Float32Array(2*n-(e?0:2));for(let e=0;e<n;e+=2)if(0===e)r[0]=t[0],r[1]=t[1];else{const n=t[e-2],i=t[e-1],a=t[e],o=t[e+1],s=(a+n)/2,h=(o+i)/2;r[2*(e-1)]=s,r[2*(e-1)+1]=h,r[2*e]=a,r[2*e+1]=o}return e&&(r[2*(n-1)]=(t[0]+t[n-2])/2,r[2*(n-1)+1]=(t[1]+t[n-1])/2),r}}e.Subdivide=i},9514:(t,e,n)=>{e.q=void 0;const r=n(5511),i=n(1740),a=n(4660),o=n(5838),s=n(5588),h=n(8301),c=n(3315),u={Adapt:r.Adapt,Mirror:i.Mirror,Smooth:a.Smooth,Solidify:o.Solidify,Subdivide:s.Subdivide,Close:h.Close,Offset:c.Offset};e.q=u},6448:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;const r=n(1378),i=n(541),a=n(2648);class o extends a.ShapeBase{constructor(t){t.type=t.type||"Shape",super(t),t.shape instanceof i.SceneChild?this.shape=t.shape:console.warn("[Urpflanze:Shape] requires the 'shape' property to be instance of SceneChild,\nYou passed:",t.shape),this.shapeUseParent=!!t.shapeUseParent,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(t){return this.id===t||this.name===t?this:this.shape?this.shape.find(t):null}getBufferLength(t){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(t):0)*this.getRepetitionCount()}generateBuffer(t,e){return this.shape?((this.shapeUseParent||this.shape.generateId!==t)&&(this.shapeUseParent&&this.shape.clearBuffer(!0,!1),this.shape.generate(t,!1,e)),this.shape.getBuffer()):o.EMPTY_BUFFER}getShapeBounding(){return this.shape?this.shape.getBounding():this.bounding}addIndex(t,e,n){if(this.shape){const r=this.shape.getIndexedBuffer()||[],i={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};for(let t=0,e=r.length;t<e;t++){const e={...r[t]},n=e.parent?o.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:n})}}}static setIndexedParent(t,e){const n={...t};return n.parent=t.parent?o.setIndexedParent(t.parent,e):e,n}setShape(t){void 0===t?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&r.Scene.propagateToChilden(t,this.scene),this.shape=t,this.shape.clearBuffer(!0,!0))}}e.Shape=o},2648:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBase=void 0;const r=n(887),i=n(3757),a=n(8721),o=n(795),s=n(3792),h=n(5511),c=n(313),u=n(541),l=r.mat4.create(),f=r.mat4.create(),d=r.mat4.create(),p=r.mat4.create();class g extends u.SceneChild{constructor(t={}){super(t),this.bIndexed=!1,this.indexedBuffer=[],this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:t.distance,repetitions:t.repetitions,rotateX:t.rotateX,rotateY:t.rotateY,rotateZ:t.rotateZ,skewX:t.skewX,skewY:t.skewY,squeezeX:t.squeezeX,squeezeY:t.squeezeY,displace:t.displace,translate:t.translate,scale:t.scale,transformOrigin:t.transformOrigin,perspective:t.perspective,perspectiveOrigin:t.perspectiveOrigin},this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?-1*c.clamp(-1,1,t.anchor[0]):"left"===t.anchor[0]?1:"right"===t.anchor[0]?-1:0,"number"==typeof t.anchor[1]?-1*c.clamp(-1,1,t.anchor[1]):"top"===t.anchor[1]?1:"bottom"===t.anchor[1]?-1:0]:[0,0],this.boundingType="string"==typeof t.boundingType?"relative"===t.boundingType?i.EBoundingType.Relative:i.EBoundingType.Fixed:t.boundingType||i.EBoundingType.Fixed,this.vertexCallback=t.vertexCallback}isStatic(){const t=this.props;return"function"!=typeof t.repetitions&&"function"!=typeof t.distance&&"function"!=typeof t.displace&&"function"!=typeof t.scale&&"function"!=typeof t.translate&&"function"!=typeof t.skewX&&"function"!=typeof t.skewY&&"function"!=typeof t.squeezeX&&"function"!=typeof t.squeezeY&&"function"!=typeof t.rotateX&&"function"!=typeof t.rotateY&&"function"!=typeof t.rotateZ&&"function"!=typeof t.transformOrigin&&"function"!=typeof t.perspective&&"function"!=typeof t.perspectiveOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(t,e,n){let r=this.props[t];return"function"==typeof r&&(r=r(e)),void 0===r||Number.isNaN(r)?n:r}setProp(t,e,n=!1){"string"==typeof t?(n=n||"repetitions"==t,this.props[t]=e):(n=n||"repetitions"in t,Object.keys(t).forEach((e=>this.props[e]=t[e]))),this.clearBuffer(n,!0)}clearBuffer(t=!1,e=!0){if(this.buffer=void 0,t&&(this.bIndexed=!1,this.indexedBuffer=[]),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),e&&this.scene&&!this.scene.isFirstLevelChild(this)){const n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}}generate(t=0,e=!1,n){var u,m;if(this.buffer&&this.bStatic)return;this.generateId=t,this.bStaticIndexed&&this.bIndexed||(this.indexedBuffer=[]);const v=g.getEmptyPropArguments(this,n),M=v.repetition,b=this.getProp("repetitions",v,1),y=Array.isArray(b)?i.ERepetitionType.Matrix:i.ERepetitionType.Ring,x=Array.isArray(b)?b[0]*(null!==(u=b[1])&&void 0!==u?u:b[0]):b,w=Array.isArray(b)?b[0]:x,S=Array.isArray(b)?null!==(m=b[1])&&void 0!==m?m:b[0]:1,P=M.row;P.count=w;const I=M.col;I.count=S,M.count=x,M.col.count=S,M.row.count=w,M.type=y;let _=0;const B=[];let O=0;const A=r.vec2.fromValues((S-1)/2,(w-1)/2),C=this.scene?[this.scene.anchor[0],this.scene.anchor[1],0]:[0,0,0],q=[void 0,void 0,void 0,void 0],E=[void 0,void 0,void 0,void 0];for(let n=0;n<w;n++)for(let u=0;u<S;u++,O++){M.index=O+1,M.offset=x>1?O/(x-1):1,M.angle=y===i.ERepetitionType.Ring?s.PI2/x*O:0,I.index=u+1,I.offset=S>1?u/(S-1):1,P.index=n+1,P.offset=w>1?n/(w-1):1;const g=this.generateBuffer(t,v),m=g.length,b=this.getShapeBounding();B[O]=new Float32Array(m),_+=m;{const t=a.toVec2(this.getProp("distance",v,a.VEC2_ZERO)),s=this.getProp("displace",v,0),x=a.toVec3(this.getProp("scale",v,a.VEC2_ONE),1),w=a.toVec3(this.getProp("translate",v,a.VEC2_ZERO),0),S=this.getProp("skewX",v,0),P=this.getProp("skewY",v,0),I=this.getProp("squeezeX",v,0),_=this.getProp("squeezeY",v,0),k=this.getProp("rotateX",v,0),R=this.getProp("rotateY",v,0),F=this.getProp("rotateZ",v,0),L=c.clamp(0,1,this.getProp("perspective",v,0)),T=a.toVec3(this.getProp("perspectiveOrigin",v,a.VEC2_ZERO),0),D=a.toVec3(this.getProp("transformOrigin",v,a.VEC2_ZERO),0);let j;switch(y){case i.ERepetitionType.Ring:j=r.vec3.fromValues(t[0],0,0),r.vec3.rotateZ(j,j,a.VEC3_ZERO,M.angle+s);break;case i.ERepetitionType.Matrix:j=r.vec3.fromValues(t[1]*(u-A[0]),t[0]*(n-A[1]),0)}const z=L>0?Math.max(b.width,b.height)/2:1,U=L>0?z+10*z*(1-L):0,V=this.boundingType!==i.EBoundingType.Relative||0!==b.cx||0!==b.cy||0!==L||0!==D[0]||0!==D[1],Y=0!==T[0]||0!==T[1];V&&(this.boundingType===i.EBoundingType.Relative?(D[0]=D[0]*(b.width/2)+b.cx,D[1]=D[1]*(b.height/2)+b.cy):(D[0]*=b.width/2,D[1]*=b.height/2),D[2]=U);{r.mat4.identity(f),V&&r.mat4.translate(f,f,D),0===w[0]&&0===w[1]||r.mat4.translate(f,f,w),0===S&&0===P||(a.fromSkew(l,[S,P]),r.mat4.multiply(f,f,l)),0!==k&&r.mat4.rotateX(f,f,k),0!==R&&r.mat4.rotateY(f,f,R),0!==F&&r.mat4.rotateZ(f,f,F),1===x[0]&&1===x[1]||r.mat4.scale(f,f,x),V&&r.mat4.translate(f,f,r.vec3.scale(D,D,-1)),U>0&&(Y&&(this.boundingType===i.EBoundingType.Relative?(T[0]=T[0]*(b.width/2)+b.cx,T[1]=T[1]*(b.height/2)+b.cy):(T[0]*=b.width/2,T[1]*=b.height/2),T[2]=0),r.mat4.perspective(d,-Math.PI/2,1,0,1/0)),r.mat4.identity(p),r.mat4.translate(p,p,j),e&&r.mat4.translate(p,p,C);const t=[this.anchor[0]*(b.width/2),this.anchor[1]*(b.height/2),0];r.mat4.translate(p,p,t),y===i.ERepetitionType.Ring&&r.mat4.rotateZ(p,p,M.angle+s)}h.Bounding.clear(E);for(let t=0;t<m;t+=2){const e=[g[t],g[t+1],U];if(0!==I&&o.default.squeezeX(e,I),0!==_&&o.default.squeezeY(e,_),r.vec3.transformMat4(e,e,f),U>0&&(Y&&r.vec3.add(e,e,T),r.vec3.transformMat4(e,e,d),r.vec3.scale(e,e,U),Y&&r.vec3.sub(e,e,T)),r.vec3.transformMat4(e,e,p),void 0!==this.vertexCallback){const n=t/2,r=m/2,i={index:n+1,count:r,offset:r>1?n/(r-1):1};this.vertexCallback(e,i,v)}B[O][t]=e[0],B[O][t+1]=e[1],h.Bounding.add(E,e[0],e[1]),h.Bounding.add(q,e[0],e[1])}}const k={cx:0,cy:0,x:-1,y:-1,width:2,height:2};h.Bounding.bind(k,E),this.bStaticIndexed&&this.bIndexed||this.addIndex(m,M,k)}h.Bounding.bind(this.bounding,q),this.buffer=new Float32Array(_);for(let t=0,e=0,n=B.length;t<n;e+=B[t].length,t++)this.buffer.set(B[t],e);this.bIndexed=!0}getBounding(){return this.bounding}getRepetitionCount(){var t;const e=this.getProp("repetitions",void 0,1);return Array.isArray(e)?e[0]*(null!==(t=e[1])&&void 0!==t?t:e[0]):e}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexedBuffer}static getIndexParentLevel(t){if(void 0===t.parent)return 0;let e=t.parent,n=1;for(;void 0!==e.parent;)n++,e=e.parent;return n}stream(t){if(this.buffer&&this.indexedBuffer)for(let e=0,n=0,r=this.indexedBuffer.length;e<r;e++){const i=this.indexedBuffer[e];t({buffer:this.buffer,frameLength:i.frameLength,frameBufferIndex:n,currentIndexing:i,currentShapeIndex:e,totalShapes:r}),n+=i.frameLength}}static getEmptyPropArguments(t,e){return{repetition:{type:i.ERepetitionType.Ring,angle:0,index:1,offset:1,count:1,row:{index:1,offset:1,count:1},col:{index:1,offset:1,count:1}},shape:t,parent:e}}}e.ShapeBase=g,g.EMPTY_BUFFER=new Float32Array(0),g.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),g.getEmptyRepetition=()=>({type:i.ERepetitionType.Ring,angle:0,...g.getEmptySimpleRepetition(),row:g.getEmptySimpleRepetition(),col:g.getEmptySimpleRepetition()})},7439:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBuffer=void 0;const r=n(5511),i=n(3674);class a extends i.ShapePrimitive{constructor(t={}){var e,n;t.type=t.type||"ShapeBuffer",t.adaptMode=null!==(e=t.adaptMode)&&void 0!==e?e:r.EAdaptMode.Scale,super(t),this.adaptMode=null!==(n=t.adaptMode)&&void 0!==n?n:r.EAdaptMode.Fill,void 0===t.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=a.EMPTY_BUFFER):this.shape="function"!=typeof t.shape?r.Adapt.adapt(t.shape,this.adaptMode):t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return"function"!=typeof this.shape&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.shape&&super.isStaticIndexed()}clearBuffer(t=!1,e=!0){super.clearBuffer(t,e),this.shapeBuffer=void 0}bindBuffer(t){const e=this.getRepetitionSideLength(t),n=this.applyModifiers(Float32Array.from("function"==typeof this.shape?this.shape(t):this.shape),t),i=[void 0,void 0,void 0,void 0];for(let t=0,a=n.length;t<a;t+=2)n[t]=n[t]*e[0],n[t+1]=n[t+1]*e[1],r.Bounding.add(i,n[t],n[t+1]);r.Bounding.bind(this.currentGenerationPrimitiveBounding,i),this.shapeBuffer=n}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape.length*this.getRepetitionCount()}generateBuffer(t,e){return void 0!==this.shapeBuffer&&"function"!=typeof this.props.sideLength&&"function"!=typeof this.shape||this.bindBuffer(e),this.shapeBuffer}setShape(t){this.shape=r.Adapt.adapt(t,this.adaptMode),this.clearBuffer(!0)}getAdaptMode(){return this.adaptMode}static getBuffer(t={}){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeBuffer=a},5382:(t,e,n)=>{e.S=void 0;const r=n(6448);class i extends r.Shape{constructor(t){t.type=t.type||"ShapeFollow",super(t),this.follow=t.follow||t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseFollow=!!t.shapeUseFollow}clearBuffer(t=!1,e=!0){t&&(this.shapeFollowBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return(!this.follow||this.follow.isStatic())&&super.isStatic()}isStaticIndexed(){return(!this.follow||this.follow.isStaticIndexed())&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape&&this.follow?((void 0===this.shapeFollowBuffer||this.shapeUseParent||this.shape.generateId!==t||this.follow.generateId!==t)&&this.bindBuffer(t,e),this.shapeFollowBuffer):r.Shape.EMPTY_BUFFER}bindBuffer(t,e){const n=this.follow;n.generate(t,!1,e);const r=n.getBuffer(),i={...e,follow:{index:1,offset:1,count:1}},a=this.shape;a.generate(t,!1,i);let o=a.getBuffer();const s=o.length,h=new Float32Array(s*(r.length/2)),c=r.length/2;for(let e=0;e<c;e++){const n={index:e+1,offset:c>1?e/(c-1):1,count:c};this.shapeUseFollow&&(i.follow=n,a.generate(t,!1,i),o=a.getBuffer());const u=e*s,l=2*e,f=r[l],d=r[l+1];for(let t=0,e=o.length;t<e;t+=2)h[u+t]=f+o[t],h[u+t+1]=d+o[t+1]}this.shapeFollowBuffer=h}addIndex(t,e,n){if(this.shape){const i={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},follow:{index:1,offset:1,count:1}},a=this.shape.getIndexedBuffer()||[];for(let t=0,e=a.length;t<e;t++)for(let t=0,e=this.follow.getBuffer().length/2;t<e;t++){const n=e>1?t/(e-1):1;for(let o=0,s=a.length;o<s;o++){const s={...a[o]},h={...i,follow:{index:t+1,offset:n,count:e}},c=s.parent?r.Shape.setIndexedParent(s.parent,h):h;this.indexedBuffer.push({...s,parent:c})}}}}static summmation(t,e){if(1===t)return 1;let n=1;for(let r=1;r<t;r++)n+=e**r;return n}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.S=i},6951:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeLoop=void 0;const r=n(3792),i=n(5511),a=n(3674),o=n(2648);class s extends a.ShapePrimitive{constructor(t={},e=!1){t.type=t.type||"ShapeLoop",super(t),this.loopDependencies=(t.loopDependencies||[]).concat("sideLength"),this.props.loop=t.loop,e||(this.loop={start:0,end:r.PI2,inc:r.PI2/10,vertex:()=>[0,0]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed())}isStaticLoop(){if(this.loopDependencies.includes("propArguments"))return!1;for(let t=0,e=this.loopDependencies.length;t<e;t++)if("function"==typeof this.props[this.loopDependencies[t]])return!1;return!0}isStatic(){return this.bStaticLoop&&super.isStatic()}isStaticIndexed(){return super.isStaticIndexed()&&(void 0===this.props.loop||"function"!=typeof this.props.loop.start&&"function"!=typeof this.props.loop.end&&"function"!=typeof this.props.loop.inc)}clearBuffer(t=!1,e=!0){this.bStaticLoop=this.isStaticLoop(),t&&(this.currentOrSingleLoopBuffer=void 0),super.clearBuffer(t,e)}setProp(t,e){let n=!1;const r="string"==typeof t?{[t]:e}:t;for(let t=this.loopDependencies.length-1;t>=0;t--)if(this.loopDependencies[t]in r){n=!0;break}"loop"in r&&(r.loop={...this.props.loop,...r.loop},n=!0),super.setProp(r,e,n)}getBufferLength(t){if(this.bStatic&&void 0!==this.buffer)return this.buffer.length;if(this.bStaticLoop&&void 0!==this.currentOrSingleLoopBuffer)return this.currentOrSingleLoopBuffer.length*this.getRepetitionCount();const{count:e}=this.getLoop(t||o.ShapeBase.getEmptyPropArguments(this));return this.getRepetitionCount()*e*2}generateBuffer(t,e){return this.bStaticLoop?("function"!=typeof this.props.sideLength&&void 0!==this.currentOrSingleLoopBuffer||(this.currentOrSingleLoopBuffer=this.generateLoopBuffer(e)),this.currentOrSingleLoopBuffer):this.generateLoopBuffer(e)}generateLoopBuffer(t){const{start:e,inc:n,count:r}=this.getLoop(t),a=this.getRepetitionSideLength(t),o=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,s={index:0,offset:0,current:0,count:r},h=s.count,c=new Float32Array(2*h);for(let r=0,i=0;r<h;r++,i+=2){const a=e+n*r,h=s.count>1?r/(s.count-1):1;s.current=a,s.index=r+1,s.offset=h;const u=o(s,t);c[i]=u[0],c[i+1]=u[1]}const u=[void 0,void 0,void 0,void 0],l=this.applyModifiers(c,t);for(let t=0,e=l.length;t<e;t+=2)l[t]=l[t]*a[0],l[t+1]=l[t+1]*a[1],i.Bounding.add(u,l[t],l[t+1]);return i.Bounding.bind(this.currentGenerationPrimitiveBounding,u),l}getLoop(t){var e,n,r,i,a,o;let s=null!==(n=null===(e=this.props.loop)||void 0===e?void 0:e.start)&&void 0!==n?n:this.loop.start,h=null!==(i=null===(r=this.props.loop)||void 0===r?void 0:r.end)&&void 0!==i?i:this.loop.end,c=null!==(o=null===(a=this.props.loop)||void 0===a?void 0:a.inc)&&void 0!==o?o:this.loop.inc;s="function"==typeof s?s(t):s,h="function"==typeof h?h(t):h,c="function"==typeof c?c(t):c;const u=Math.ceil((h-s)/c);return{start:s,end:h,inc:c,count:u<=0?0:u}}setShape(t){this.setProp("loop",t)}static getBuffer(t){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeLoop=s,s.PId2=Math.PI/2},3674:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapePrimitive=void 0;const r=n(8721),i=n(2648),a=n(9958),o=n(5511);class s extends i.ShapeBase{constructor(t={}){var e;super(t),this.currentGenerationPrimitiveBounding=o.Bounding.empty(),this.props.sideLength=void 0===t.sideLength?void 0:"function"==typeof t.sideLength?t.sideLength:r.toVec2(t.sideLength),this.drawer=t.drawer||{},this.modifiers=t.modifiers,this.bClosed=null===(e=t.bClosed)||void 0===e||e}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getRepetitionSideLength(t){return this.bStatic?(void 0===this.props.sideLength?this.props.sideLength=[50,50]:"number"==typeof this.props.sideLength&&(this.props.sideLength=[this.props.sideLength,this.props.sideLength]),this.props.sideLength):r.toVec2(this.getProp("sideLength",t,[50,50]))}applyModifiers(t,e){if(void 0===this.modifiers)return t;let n=t;const r=Array.isArray(this.modifiers)?this.modifiers:[this.modifiers];for(let t=0,i=r.length;t<i;t++)n=(r[t]instanceof a.Modifier?r[t]:r[t](e)).apply(n,this.bClosed,this);return n}getShapeBounding(){return this.currentGenerationPrimitiveBounding}addIndex(t,e,n){const r={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};this.indexedBuffer.push(r)}isClosed(){return this.bClosed}setClosed(t){this.bClosed=t}}e.ShapePrimitive=s},8563:(t,e,n)=>{e.v=void 0;const r=n(6448);class i extends r.Shape{constructor(t){t.type=t.type||"ShapeRecursive",super(t),this.props.recursions=t.recursions||1,this.props.recursionScale=t.recursionScale||2,this.props.recursionVertex=t.recursionVertex||0,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseRecursion=!!t.shapeUseRecursion}clearBuffer(t=!1,e=!0){t&&(this.shapeRecursiveBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionScale&&"function"!=typeof this.props.recursionVertex&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionVertex&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape?((void 0===this.shapeRecursiveBuffer||this.shapeUseParent||this.shape.generateId!==t)&&this.bindBuffer(t,e),this.shapeRecursiveBuffer):r.Shape.EMPTY_BUFFER}bindBuffer(t,e){const n=Math.floor(this.getProp("recursions",e,1)),r=Math.floor(this.getProp("recursionVertex",e,0)),a=this.getProp("recursionScale",e,2),o=this.shape;let s={index:1,offset:1,count:1,level:{index:1,offset:n>1?0:1,count:1}};const h={...e,recursion:s};o.generate(t,!1,h);const c=o.getBuffer();if(n<=1)return void(this.shapeRecursiveBuffer=c);let u=c;const l=[s];let f=0,d=1;const p=u.length,g=p/2,m=r<=0?g:Math.min(r,g),v=0===r?1:g/Math.min(r,g),M=new Float32Array(i.summmation(n,m)*p);for(let t=0;t<p;t+=2)M[t]=u[t],M[t+1]=u[t+1];for(let e=1;e<n;e++){const r=n>1?e/(n-1):1,c=i.summmation(e,m)*p,g=e-1,b=0===g?0:i.summmation(g,m)*p;for(let i=0,g=m**e;i<g;i++,d++){s={index:i+1,offset:g>1?i/(g-1):1,count:g,level:{index:e+1,offset:r,count:n},parent:l[f]},l.push(s),this.shapeUseRecursion&&(h.recursion=s,o.generate(t,!1,h),u=o.getBuffer());const y=c+i*p,x=Math.floor(b+2*i*v),w=M[x],S=M[x+1],P=a**e;for(let t=0,e=p;t<e;t+=2){const e=u[t]/P,n=u[t+1]/P;M[y+t]=w+e,M[y+t+1]=S+n}d%m==0&&(f+=1)}}this.shapeRecursiveBuffer=M}addIndex(t,e,n){if(this.shape){const i={repetition:e,shape:this},a=Math.floor(this.getProp("recursions",i,1)),o=Math.floor(this.getProp("recursionVertex",i,0)),s={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},recursion:{index:1,offset:1,count:1,level:{index:1,offset:a>1?0:1,count:a}}},h=this.shape.getIndexedBuffer()||[];for(let t=0,e=h.length;t<e;t++){const e={...h[t]},n={index:1,offset:1,count:1,level:{index:1,offset:a>1?0:1,count:a}},i={...s,recursion:n},o=e.parent?r.Shape.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:o})}if(a>1){const t=this.shape.getBufferLength({...i,parent:{...s}})/2,e=o<=0?t:Math.min(o,t),n=this.indexedBuffer.map((t=>[t.parent.recursion]));let c=0,u=1;for(let t=1;t<a;t++){const i=a>1?t/(a-1):1;for(let o=0,l=e**t;o<l;o++,u++){const f=l>1?o/(l-1):1;for(let d=0,p=h.length;d<p;d++){const p={...h[d]},g={index:o+1,offset:f,count:l,level:{index:t+1,offset:i,count:a},parent:n[d][c]},m={...s,recursion:g},v=p.parent?r.Shape.setIndexedParent(p.parent,m):m;this.indexedBuffer.push({...p,parent:v}),n[d].push(g),u%e==0&&(c+=1)}}}}}}static summmation(t,e){if(1===t)return 1;let n=1;for(let r=1;r<t;r++)n+=e**r;return n}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.v=i},7520:(t,e,n)=>{e.C=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){t.type="Circle",super(t,!0),this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return 1/Math.pow(e[0]*e[1],.25)*i.ShapeLoop.PId2},vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.C=a},6329:(t,e,n)=>{e.x=void 0;const r=n(5511),i=n(7439);class a extends i.ShapeBuffer{constructor(t={}){t.type="Line",t.shape=a.buffer,t.adaptMode=r.EAdaptMode.None,t.bClosed=!1,super(t)}static toPolygon(t,e){const n=[];if(!Array.isArray(e)){const n=e,r=t.length/2;e=new Array(r);for(let t=0;t<r;t++)e[t]=n}function r(t,e,n,r,i){const a=n-t,o=r-e,s=i/(2*Math.sqrt(a*a+o*o));return[-s*o,s*a]}function i(t,e,n,r){const i=(e[1]-t[1])/(e[0]-t[0]),a=(r[1]-n[1])/(r[0]-n[0]);if(Math.abs(i-a)<1e-5)return;const o=t[1]-i*t[0],s=(o-(n[1]-a*n[0]))/(a-i);return[s,i*s+o]}let a,o,s=[[0,0],[0,0]],h=[[0,0],[0,0]];for(let c=0,u=t.length-2;c<u;c+=2){a=0===c,o=c===u-2;const l=r(t[c],t[c+1],t[c+2],t[c+3],e[c]),f=[t[c]+l[0],t[c+1]+l[1]],d=[t[c+2]+l[0],t[c+3]+l[1]],p=[t[c]-l[0],t[c+1]-l[1]],g=[t[c+2]-l[0],t[c+3]-l[1]];if(!a){const t=i(s[0],s[1],f,d);t&&(n.unshift(t[1]),n.unshift(t[0]));const e=i(h[0],h[1],p,g);e&&(n.push(e[0]),n.push(e[1]))}a&&(n.unshift(f[1]),n.unshift(f[0]),n.push(p[0]),n.push(p[1])),o&&(n.unshift(d[1]),n.unshift(d[0]),n.push(g[0]),n.push(g[1])),o||(s=[f,d],h=[p,g])}return Float32Array.from(n)}}e.x=a,a.buffer=[-1,0,1,0]},1451:(t,e,n)=>{e.O=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){t.type="Lissajous",t.loopDependencies=(t.loopDependencies||[]).concat(["wx","wy","wz"]),super(t,!0),this.props.wx=t.wx||1,this.props.wy=t.wy||2,this.props.wz=t.wz||0,this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getProp("wx",t),n=this.getProp("wy",t),r=e==n?i.ShapeLoop.PId2:.5-.01*Math.min(49,e+n),a=this.getRepetitionSideLength(t);return 1/Math.pow(a[0]*a[1],.25)*r},vertex:t=>this.wx===this.wy?[Math.cos(t.current+this.wz),Math.sin(t.current)]:[Math.cos(this.wx*t.current+this.wz),Math.sin(this.wy*t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.wx=this.getProp("wx",t,1),this.wy=this.getProp("wy",t,2),this.wz=this.getProp("wz",t,2),super.generateLoopBuffer(t)}}e.O=a},2982:(t,e,n)=>{e.m=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["sideNumber"]),super(t,!0),this.props.sideNumber=t.sideNumber,this.loop={start:0,end:r.PI2,inc:t=>r.PI2/this.getProp("sideNumber",t,5),vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.m=a},5510:(t,e,n)=>{e.U=void 0;const r=n(5511),i=n(7439);class a extends i.ShapeBuffer{constructor(t={}){t.type="Rect",t.shape=a.buffer,t.adaptMode=r.EAdaptMode.None,super(t)}}e.U=a,a.buffer=[1,1,-1,1,-1,-1,1,-1]},894:(t,e,n)=>{e.h=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){var e,n;t.type="Rose",t.loopDependencies=(t.loopDependencies||[]).concat(["n","d"]),super(t,!0),this.props.n=null!==(e=t.n)&&void 0!==e?e:1,this.props.d=null!==(n=t.d)&&void 0!==n?n:2,this.loop={start:0,end:t=>a.getFinalAngleFromK(this.getProp("n",t),this.getProp("d",t)),inc:t=>{const e=this.getProp("n",t),n=this.getProp("d",t),i=this.getRepetitionSideLength(t),a=Math.pow(i[0]*i[1],.45),o=n<e?e/n:1.5;return r.PI2/(a*o)},vertex:t=>{const e=Math.cos(this.k*t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.k=this.getProp("n",t)/this.getProp("d",t),super.generateLoopBuffer(t)}static getFinalAngleFromK(t,e){if(t==e)return r.PI2;const n=t/e,i=t*e;return Number.isInteger(n)||n%.5!=0?Math.PI*e*(i%2==0?2:1):4*Math.PI}}e.h=a},5719:(t,e,n)=>{e.r=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){var e,n,i;t.type="Spiral",t.bClosed=!1,t.loopDependencies=(t.loopDependencies||[]).concat(["twists","twistsStart","spiral"]),super(t,!0),this.props.spiral=null!==(e=t.spiral)&&void 0!==e?e:a.types.ARCHIMEDE,this.props.twists=null!==(n=t.twists)&&void 0!==n?n:2,this.props.twistsStart=null!==(i=t.twistsStart)&&void 0!==i?i:0,this.loop={start:t=>r.PI2*this.getProp("twistsStart",t),end:t=>r.PI2*(this.getProp("twistsStart",t)+this.getProp("twists",t)),inc:t=>{const e=this.getProp("twists",t),n=r.PI2*e,i=this.getRepetitionSideLength(t);return n/((4+Math.sqrt(i[0]*i[1]))*e)},vertex:t=>{const e=this.r(t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spiral=this.getProp("spiral",t),this.r=a.getRFromTSpiralType(this.spiral),super.generateLoopBuffer(t)}static getRFromTSpiralType(t){switch(t){case a.types.ARCHIMEDE:return t=>t/10;case a.types.HYPERBOLIC:return t=>1/t*3;case a.types.FERMAT:return t=>t**.5/3;case a.types.LITUUS:return t=>t**-.5;case a.types.LOGARITHMIC:return t=>Math.E**(.2*t)/10}return t=>t}}e.r=a,a.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"}},9667:(t,e,n)=>{e.U=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["spikes","innerRadius"]),super(t,!0),this.props.spikes=t.spikes,this.props.innerRadius=t.innerRadius,this.loop={start:0,end:r.PI2,inc:t=>this.inc,vertex:t=>{const e=Math.PI/this.spikes*t.index,n=t.index%2==0?1:this.innerRadius;return[Math.cos(e)*n,Math.sin(e)*n]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spikes=this.getProp("spikes",t,5),this.innerRadius=this.getProp("innerRadius",t,.5),this.inc=Math.PI/this.spikes,super.generateLoopBuffer(t)}}e.U=a},3977:(t,e,n)=>{e.y=void 0;const r=n(3792),i=n(6951);class a extends i.ShapeLoop{constructor(t={}){var e,n,i,a,o,s;t.type="SuperShape",t.loopDependencies=(t.loopDependencies||[]).concat(["a","b","m","n1","n2","n3"]),super(t,!0),this.props.a=null!==(e=t.a)&&void 0!==e?e:1,this.props.b=null!==(n=t.b)&&void 0!==n?n:1,this.props.m=null!==(i=t.m)&&void 0!==i?i:6,this.props.n1=null!==(a=t.n1)&&void 0!==a?a:1,this.props.n2=null!==(o=t.n2)&&void 0!==o?o:1,this.props.n3=null!==(s=t.n3)&&void 0!==s?s:1,this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return Math.PI/Math.pow(e[0]*e[1],.5)},vertex:t=>{const e=t.current,n=this.m*e/4,r=(Math.abs(Math.cos(n)/this.a)**this.n2+Math.abs(Math.sin(n)/this.b)**this.n3)**(1/this.n1),i=0===r?1:1/r;return[i*Math.cos(e),i*Math.sin(e)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.a=this.getProp("a",t),this.b=this.getProp("b",t),this.m=this.getProp("m",t),this.n1=this.getProp("n1",t),this.n2=this.getProp("n2",t),this.n3=this.getProp("n3",t),super.generateLoopBuffer(t)}}e.y=a},4233:(t,e,n)=>{e.C=void 0;const r=n(5511),i=n(7439);class a extends i.ShapeBuffer{constructor(t={}){t.type="Triangle",t.shape=a.buffer,t.adaptMode=r.EAdaptMode.None,super(t)}}e.C=a,a.buffer=[1,0,-1,1,-1,-1]},3757:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(7678),e),i(n(7066),e),i(n(2769),e),i(n(7266),e),i(n(3647),e),i(n(4526),e),i(n(1618),e),i(n(6787),e)},7678:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},7066:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},2769:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ERepetitionType=void 0,(n=e.ERepetitionType||(e.ERepetitionType={}))[n.Ring=1]="Ring",n[n.Matrix=2]="Matrix"},7266:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},3647:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},4526:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EBoundingType=void 0,(n=e.EBoundingType||(e.EBoundingType={}))[n.Relative=1]="Relative",n[n.Fixed=2]="Fixed"},1618:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6787:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},9962:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DrawerCanvas=void 0;const r=n(7358),i=n(313),a=n(3792),o=n(795),s=n(292),h=n(1189),c=n(8909),u=n(9724),l=u.bBrowser&&"undefined"!=typeof HTMLCanvasElement&&void 0!==HTMLCanvasElement.prototype.transferControlToOffscreen;class f extends h.Emitter{constructor(t,e,n,r=6e4,i=60){var a,o,s,h,f;super(),this.drawerOptions={width:(null==n?void 0:n.width)||(null==t?void 0:t.width)||400,height:(null==n?void 0:n.height)||(null==t?void 0:t.height)||400,clear:null===(a=null==n?void 0:n.clear)||void 0===a||a,time:null!==(o=null==n?void 0:n.time)&&void 0!==o?o:0,simmetricLines:null!==(s=null==n?void 0:n.simmetricLines)&&void 0!==s?s:0,noBackground:null!==(h=null==n?void 0:n.noBackground)&&void 0!==h&&h,ghosts:(null==n?void 0:n.ghosts)||0,ghostAlpha:!1!==(null==n?void 0:n.ghostAlpha),ghostSkipTime:null!==(f=null==n?void 0:n.ghostSkipTime)&&void 0!==f?f:30,ghostSkipFunction:null==n?void 0:n.ghostSkipFunction,sceneFit:(null==n?void 0:n.sceneFit)||"contain",backgroundImage:null==n?void 0:n.backgroundImage,backgroundImageFit:(null==n?void 0:n.backgroundImageFit)||"cover"},this.timeline=new c.Timeline(r,i),this.timeline.setTime(this.drawerOptions.time),this.draw_id=null,this.redraw_id=null,this.animation_id=null,t&&this.setScene(t),(!u.bWorker||u.bWorker&&l&&e instanceof OffscreenCanvas)&&this.setCanvas(e)}getOption(t,e){var n;return null!==(n=this.drawerOptions[t])&&void 0!==n?n:e}setCanvas(t){if(u.bWorker)l&&t instanceof OffscreenCanvas?this.canvas=t:console.error("Cannot set cavas");else if(u.bBrowser){const e=s.createCanvas(this.drawerOptions.width,this.drawerOptions.height);if(t instanceof HTMLElement&&!(t instanceof HTMLCanvasElement||l&&t instanceof OffscreenCanvas)){for(this.canvas=e;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else this.canvas=void 0===t?e:t}else this.canvas=s.createCanvas(this.drawerOptions.width,this.drawerOptions.height);this.canvas&&(this.canvas.width=this.drawerOptions.width,this.canvas.height=this.drawerOptions.height,this.context=this.canvas.getContext("2d",{alpha:!0}))}getCanvas(){return this.canvas}setScene(t){this.scene=t}draw(){if(null===this.context||void 0===this.scene)return 0;const t=i.now(),e=this.timeline,n=e.getTime(),r={...this.drawerOptions,ghostIndex:void 0,clear:this.drawerOptions.clear||e.getCurrentFrame()<=1,time:n},o=e.getFrameAtTime(n);if(this.dispatch("drawer-canvas:before_draw",{currentFrame:o,currentTime:n}),r.simmetricLines>0&&(r.clear&&f.clear(this.context,r.width,r.height,!r.noBackground&&this.scene.background,r.backgroundImage,r.backgroundImageFit),f.drawSimmetricLines(this.context,r.simmetricLines,r.width,r.height,this.scene.color),r.clear=!1),r.ghosts){const t={...r},n=e.getTime(),i=e.getDuration(),o={offset:0,index:0,count:r.ghosts};for(let e=1;e<=r.ghosts;e++){o.index=e,o.offset=o.index/o.count;const s=n-(r.ghostSkipFunction?r.ghostSkipFunction(o,n):e*r.ghostSkipTime);t.ghostIndex=e,t.time=a.mod(s,i),t.clear=r.clear&&1===t.ghostIndex,this.realDraw(t)}r.clear=!1}return this.realDraw(r),i.now()-t}realDraw(t){var e;const n=this.drawerOptions.width,r=this.drawerOptions.height,i=this.context,a=this.scene,o=null!==(e=t.time)&&void 0!==e?e:0,s=void 0!==t.ghosts&&t.ghosts>0&&void 0!==t.ghostIndex&&t.ghostIndex>0,h=s?1-t.ghostIndex/(t.ghosts+.5):0,c=!0===t.ghostAlpha,l=u.fit(a.width,a.height,n,r,this.drawerOptions.sceneFit),d=l.x,p=l.y;t.clear&&f.clear(i,n,r,!t.noBackground&&a.background,t.backgroundImage,t.backgroundImageFit);let g=!1,m=!1;a.currentTime=o;const v=a.getChildren();for(let t=0,e=v.length;t<e;t++){const e=v[t];if(!e.data||!1!==e.data.visible&&(!s||!0!==e.data.disableGhost)){v[t].generate(o,!0);const e=v[t].getIndexedBuffer()||[],n=v[t].getBuffer()||[];let r=0;for(let t=0,o=e.length;t<o;t++){const o=e[t],u=o.shape,v={canvasContext:i,...o},M=f.getStreamDrawerProp(u,"composite",v,"source-over");i.globalCompositeOperation=M,i.beginPath(),i.moveTo(n[r]*l.scale+d,n[r+1]*l.scale+p),r+=2;for(let t=r+o.frameLength-2;r<t;r+=2)i.lineTo(n[r]*l.scale+d,n[r+1]*l.scale+p);u.isClosed()&&i.closePath();const b=f.getStreamDrawerProp(u,"opacity",v,1);i.globalAlpha=b;const y=f.getStreamDrawerProp(u,"shadowColor",v),x=f.getStreamDrawerProp(u,"shadowBlur",v),w=f.getStreamDrawerProp(u,"shadowOffsetX",v),S=f.getStreamDrawerProp(u,"shadowOffsetY",v);i.shadowColor=y,i.shadowBlur=x,w&&(i.shadowOffsetX=w),S&&(i.shadowOffsetY=S);let P=f.getStreamDrawerProp(u,"fill",v);if(void 0!==P){if(s&&c){const t=f.ghostifyColor(P,h);t?P=t:g||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost fill color '${P}',\n\t\t\t\t\t\t\t\tplease enter a rgba or hsla color`),g=!0)}i.fillStyle=P,i.fill()}let I=f.getStreamDrawerProp(u,"stroke",v,void 0===P?a.color:void 0),_=f.getStreamDrawerProp(u,"lineWidth",v,1);if(I){if(s&&c){const t=f.ghostifyColor(I,h);t?I=t:m||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost stroke color '${I}',\n\t\t\t\t\t\t\t\tplease enter a rgba or hsla color`),m=!0),_*=h}const t=f.getStreamDrawerProp(u,"lineJoin",v),e=f.getStreamDrawerProp(u,"lineCap",v),n=f.getStreamDrawerProp(u,"lineDash",v),r=f.getStreamDrawerProp(u,"lineDashOffset",v),a=f.getStreamDrawerProp(u,"miterLimit",v);i.setLineDash.call(i,n||[]),i.lineJoin=t,i.lineCap=e,i.lineDashOffset=r,i.miterLimit=a,i.lineWidth=_*l.scale,i.strokeStyle=I,i.stroke()}}i.restore()}}}static getStreamDrawerProp(t,e,n,r){let i=t.drawer[e];return"function"==typeof i&&(i=i(n)),null!=i?i:r}static ghostifyColor(t,e){if("string"==typeof t||"number"==typeof t){const n=r.parseColor(t);if(n){const t=n.alpha*e;return"rgb"===n.type?`rgba(${n.a},${n.b},${n.c},${t})`:`hsla(${n.a},${n.b}%,${n.c}%,${t})`}}return t}static clear(t,e,n,r,i,a){if("boolean"==typeof r&&!1===r)t.clearRect(0,0,e,n);else if(t.globalCompositeOperation="source-over",t.fillStyle=r,t.fillRect(0,0,e,n),i){const r=i instanceof SVGImageElement?i.width.baseVal.value:i.width,o=i instanceof SVGImageElement?i.height.baseVal.value:i.height,s=u.fit(r,o,e,n,a);t.drawImage(i,s.x,s.y,s.width,s.height)}}static drawSimmetricLines(t,e,n,r,i){const a=Math.PI/e,s=Math.max(n,r),h=Math.min(n,r),c=n<r?1:0,u=[s/2,s/2],l=[h/2,h/2];for(let n=0;n<e;n++){const e=[-s,-s],r=[2*s,2*s],h=n*a+Math.PI/4;o.default.rotateZ(e,n%2===c?u:l,h),o.default.rotateZ(r,n%2===c?u:l,h),t.beginPath(),t.strokeStyle=i,t.lineWidth=1,t.moveTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.stroke()}}}e.DrawerCanvas=f},1189:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0,e.Emitter=class{constructor(){this.callbacks={}}attach(t,e){t in this.callbacks||(this.callbacks[t]=[]),this.callbacks[t].push(e)}detach(t,e){if(t in this.callbacks){const n=this.callbacks[t].indexOf(e);n>=0&&this.callbacks[t].splice(n,1)}}dispatch(t,e){if(t in this.callbacks&&this.callbacks[t].length>0)for(let n=0,r=this.callbacks[t].length;n<r&&!1!==this.callbacks[t][n](e);n++);}}},8909:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=void 0;const r=n(313),i=n(3792),a=n(1189);class o extends a.Emitter{constructor(t=6e4,e=30){super(),this.fps_samples_size=30,this.fps_samples=[],this.fps_samples_index=0,this.paused_time=0,this.sequence={duration:t,framerate:e,frames:Math.round(t/1e3*e)},this.tick_time=1e3/this.sequence.framerate,this.fps=this.sequence.framerate,this.b_sequence_started=!1,this.currentFrame=0,this.currentTime=0,this.last_tick=0,this.start_time=0}getSequence(){return{...this.sequence}}setSequence(t,e,n){this.sequence.duration=t,this.sequence.framerate=e,this.tick_time=1e3/this.sequence.framerate,this.sequence.frames=Math.round(this.sequence.duration/1e3*this.sequence.framerate),void 0!==n?this.setTime(n):this.dispatch("timeline:update_sequence",this.getSequence())}setDuration(t){this.setSequence(t,this.sequence.framerate)}getDuration(){return this.sequence.duration}getFramerate(){return this.sequence.framerate}setFramerate(t){this.setSequence(this.sequence.duration,t)}getFramesCount(){return this.sequence.frames}bSequenceStarted(){return this.b_sequence_started}start(){this.b_sequence_started||(this.b_sequence_started=!0,this.start_time=this.paused_time,this.dispatch("timeline:change_status",o.START))}pause(){this.b_sequence_started&&(this.paused_time=r.now(),this.b_sequence_started=!1,this.dispatch("timeline:change_status",o.PAUSE))}stop(){this.b_sequence_started&&(this.b_sequence_started=!1,this.currentTime=0,this.currentFrame=0,this.start_time=0,this.paused_time=0,this.dispatch("timeline:change_status",o.STOP))}tick(t){if(this.b_sequence_started){this.start_time||(this.start_time=t,this.last_tick=-this.tick_time);const e=t-this.start_time,n=e-this.last_tick;if(n>=this.tick_time)return this.calculateFPS(1/(n/1e3)),this.last_tick=e,this.currentTime=(e-n%this.tick_time)%this.sequence.duration,this.currentFrame=this.getFrameAtTime(this.currentTime),this.dispatch("timeline:progress",{currentFrame:this.currentFrame,currentTime:this.currentTime,fps:this.fps}),!0}return!1}calculateFPS(t){const e=this.fps_samples.length;if(e>0){let t=0;for(let n=0;n<e;n++)t+=this.fps_samples[n];this.fps=Math.round(t/e)}this.fps_samples[this.fps_samples_index]=Math.round(t),this.fps_samples_index=(this.fps_samples_index+1)%this.fps_samples_size}getCurrentFrame(){return this.currentFrame}getFrameTime(t){return(t=i.mod(t,this.sequence.frames))*this.tick_time%this.sequence.duration}getFrameAtTime(t){return Math.round(t%this.sequence.duration/this.tick_time)}setFrame(t){this.currentFrame=i.mod(t,this.sequence.frames),this.currentTime=this.getFrameTime(this.currentFrame),this.dispatch("timeline:progress",{currentFrame:this.currentFrame,currentTime:this.currentTime,fps:this.fps})}getTickTime(){return this.tick_time}getTime(){return this.currentTime}setTime(t){t=i.mod(t,this.sequence.duration),this.currentTime=t,this.currentFrame=this.getFrameAtTime(t),this.dispatch("timeline:progress",{currentFrame:this.currentFrame,currentTime:this.currentTime,fps:this.fps})}}e.Timeline=o,o.START="start",o.PAUSE="pause",o.STOP="stop"},2251:(t,e,n)=>{e.T=void 0;const r=n(9962),i=n(9724);class a extends r.DrawerCanvas{constructor(t,e,n,r=6e4,i=60){super(t,e,n,r,i),this.dpi=1,this.dpi=(null==n?void 0:n.dpi)||1,this.draw_id=null,this.redraw_id=null,this.animation_id=null,this.draw=this.draw.bind(this),this.animate=this.animate.bind(this),this.startAnimation=this.startAnimation.bind(this),this.resize(this.drawerOptions.width,this.drawerOptions.height)}resize(t,e,n,r=this.dpi){this.drawerOptions.width=t*r,this.drawerOptions.height=e*r,this.canvas&&(this.canvas.width=t*r,this.canvas.height=e*r,i.bBrowser&&this.canvas instanceof HTMLCanvasElement&&(this.canvas.style.width=t+"px",this.canvas.style.height=e+"px")),void 0!==n&&(this.drawerOptions.sceneFit=n),this.dispatch("drawer-canvas:resize")}animate(t){this.timeline.bSequenceStarted()&&(this.animation_id=requestAnimationFrame(this.animate),this.timeline.tick(t)&&this.draw())}startAnimation(){this.stopAnimation(),this.timeline.start(),this.animation_id=requestAnimationFrame(this.animate)}stopAnimation(){this.timeline.stop(),this.animation_id&&cancelAnimationFrame(this.animation_id)}pauseAnimation(){this.timeline.pause(),this.animation_id&&cancelAnimationFrame(this.animation_id)}playAnimation(){this.timeline.start(),requestAnimationFrame(this.animate)}redraw(){this.timeline.bSequenceStarted()?void 0!==typeof this.drawerOptions.ghosts&&0!==this.drawerOptions.ghosts||(this.stopAnimation(),this.redraw_id&&cancelAnimationFrame(this.redraw_id),this.redraw_id=requestAnimationFrame(this.startAnimation)):(this.draw_id&&cancelAnimationFrame(this.draw_id),void 0!==typeof this.drawerOptions.ghosts&&0!==this.drawerOptions.ghosts||this.timeline.stop(),this.draw_id=requestAnimationFrame(this.draw))}}e.T=a},9724:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fit=e.bWorker=e.bBrowser=e.bNode=void 0,e.bNode="undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node,e.bBrowser="undefined"!=typeof window&&void 0!==window.document,e.bWorker="object"==typeof self&&["ServiceWorkerGlobalScope","DedicatedWorkerGlobalScope"].includes(self.constructor.name),e.fit=function(t,e,n,r,i="none"){let a=0,o=0,s=1,h=t,c=e;const u=n/r,l=t/e;return"contain"===i?(h=u>l?t*r/e:n,c=u>l?r:e*n/t,s=Math.max(h,c)/Math.max(t,e)):"cover"===i&&(h=u<l?t*r/e:n,c=u<l?r:e*n/t,s=Math.max(h,c)/Math.max(t,e)),a=(n-h)/2,o=(r-c)/2,{x:a,y:o,width:h,height:c,scale:s}}},3431:t=>{var e=.1,n="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,n){return((r(e,n)*t+i(e,n))*t+a(e))*t}function s(t,e,n){return 3*r(e,n)*t*t+2*i(e,n)*t+a(e)}function h(t){return t}t.exports=function(t,r,i,a){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&i===a)return h;for(var c=n?new Float32Array(11):new Array(11),u=0;u<11;++u)c[u]=o(u*e,t,i);return function(n){return 0===n?0:1===n?1:o(function(n){for(var r=0,a=1;10!==a&&c[a]<=n;++a)r+=e;--a;var h=r+(n-c[a])/(c[a+1]-c[a])*e,u=s(h,t,i);return u>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var a=s(e,n,r);if(0===a)return e;e-=(o(e,n,r)-t)/a}return e}(n,h,t,i):0===u?h:function(t,e,n,r,i){var a,s,h=0;do{(a=o(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++h<10);return s}(n,r,r+e,t,i)}(n),r,a)}}},292:(t,e,n)=>{const r=n(9850);e.parseFont=r,e.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})},e.createImageData=function(t,e,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,n)}},e.loadImage=function(t,e){return new Promise((function(n,r){const i=Object.assign(document.createElement("img"),e);function a(){i.onload=null,i.onerror=null}i.onload=function(){a(),n(i)},i.onerror=function(){a(),r(new Error('Failed to load the image "'+t+'"'))},i.src=t}))}},9850:t=>{const e="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",n=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),r=new RegExp("(italic|oblique) +","i"),i=new RegExp("(small-caps) +","i"),a=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),o=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+e+")( *, *(?:"+e+"))*)"),s={};t.exports=function(t){if(s[t])return s[t];const e=o.exec(t);if(!e)return;const h={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")};let c,u,l,f,d=t.substring(0,e.index);switch((c=n.exec(d))&&(h.weight=c[1]),(u=r.exec(d))&&(h.style=u[1]),(l=i.exec(d))&&(h.variant=l[1]),(f=a.exec(d))&&(h.stretch=f[1]),h.unit){case"pt":h.size/=.75;break;case"pc":h.size*=16;break;case"in":h.size*=96;break;case"cm":h.size*=96/2.54;break;case"mm":h.size*=96/25.4;break;case"%":break;case"em":case"rem":h.size*=16/.75;break;case"q":h.size*=96/25.4/4}return s[t]=h}},887:(t,e,n)=>{n.r(e),n.d(e,{glMatrix:()=>r,mat2:()=>i,mat2d:()=>a,mat3:()=>o,mat4:()=>s,quat:()=>u,quat2:()=>l,vec2:()=>f,vec3:()=>h,vec4:()=>c});var r={};n.r(r),n.d(r,{ARRAY_TYPE:()=>p,EPSILON:()=>d,RANDOM:()=>g,equals:()=>b,setMatrixArrayType:()=>m,toRadian:()=>M});var i={};n.r(i),n.d(i,{LDU:()=>T,add:()=>D,adjoint:()=>O,clone:()=>x,copy:()=>w,create:()=>y,determinant:()=>A,equals:()=>U,exactEquals:()=>z,frob:()=>L,fromRotation:()=>k,fromScaling:()=>R,fromValues:()=>P,identity:()=>S,invert:()=>B,mul:()=>X,multiply:()=>C,multiplyScalar:()=>V,multiplyScalarAndAdd:()=>Y,rotate:()=>q,scale:()=>E,set:()=>I,str:()=>F,sub:()=>Z,subtract:()=>j,transpose:()=>_});var a={};n.r(a),n.d(a,{add:()=>ct,clone:()=>H,copy:()=>N,create:()=>G,determinant:()=>K,equals:()=>pt,exactEquals:()=>dt,frob:()=>ht,fromRotation:()=>it,fromScaling:()=>at,fromTranslation:()=>ot,fromValues:()=>W,identity:()=>$,invert:()=>J,mul:()=>gt,multiply:()=>tt,multiplyScalar:()=>lt,multiplyScalarAndAdd:()=>ft,rotate:()=>et,scale:()=>nt,set:()=>Q,str:()=>st,sub:()=>mt,subtract:()=>ut,translate:()=>rt});var o={};n.r(o),n.d(o,{add:()=>Ut,adjoint:()=>_t,clone:()=>bt,copy:()=>yt,create:()=>vt,determinant:()=>Bt,equals:()=>Gt,exactEquals:()=>Zt,frob:()=>zt,fromMat2d:()=>Ft,fromMat4:()=>Mt,fromQuat:()=>Lt,fromRotation:()=>kt,fromScaling:()=>Rt,fromTranslation:()=>Et,fromValues:()=>xt,identity:()=>St,invert:()=>It,mul:()=>Ht,multiply:()=>Ot,multiplyScalar:()=>Yt,multiplyScalarAndAdd:()=>Xt,normalFromMat4:()=>Tt,projection:()=>Dt,rotate:()=>Ct,scale:()=>qt,set:()=>wt,str:()=>jt,sub:()=>Nt,subtract:()=>Vt,translate:()=>At,transpose:()=>Pt});var s={};n.r(s),n.d(s,{add:()=>Re,adjoint:()=>re,clone:()=>Wt,copy:()=>Qt,create:()=>$t,determinant:()=>ie,equals:()=>je,exactEquals:()=>De,frob:()=>ke,fromQuat:()=>Ie,fromQuat2:()=>be,fromRotation:()=>pe,fromRotationTranslation:()=>Me,fromRotationTranslationScale:()=>Se,fromRotationTranslationScaleOrigin:()=>Pe,fromScaling:()=>de,fromTranslation:()=>fe,fromValues:()=>Jt,fromXRotation:()=>ge,fromYRotation:()=>me,fromZRotation:()=>ve,frustum:()=>_e,getRotation:()=>we,getScaling:()=>xe,getTranslation:()=>ye,identity:()=>te,invert:()=>ne,lookAt:()=>Ce,mul:()=>ze,multiply:()=>ae,multiplyScalar:()=>Le,multiplyScalarAndAdd:()=>Te,ortho:()=>Ae,perspective:()=>Be,perspectiveFromFieldOfView:()=>Oe,rotate:()=>he,rotateX:()=>ce,rotateY:()=>ue,rotateZ:()=>le,scale:()=>se,set:()=>Kt,str:()=>Ee,sub:()=>Ue,subtract:()=>Fe,targetTo:()=>qe,translate:()=>oe,transpose:()=>ee});var h={};n.r(h),n.d(h,{add:()=>Ne,angle:()=>Pn,bezier:()=>mn,ceil:()=>Je,clone:()=>Ye,copy:()=>Ge,create:()=>Ve,cross:()=>dn,dist:()=>kn,distance:()=>on,div:()=>En,divide:()=>Qe,dot:()=>fn,equals:()=>On,exactEquals:()=>Bn,floor:()=>Ke,forEach:()=>Tn,fromValues:()=>Ze,hermite:()=>gn,inverse:()=>un,len:()=>Fn,length:()=>Xe,lerp:()=>pn,max:()=>en,min:()=>tn,mul:()=>qn,multiply:()=>We,negate:()=>cn,normalize:()=>ln,random:()=>vn,rotateX:()=>xn,rotateY:()=>wn,rotateZ:()=>Sn,round:()=>nn,scale:()=>rn,scaleAndAdd:()=>an,set:()=>He,sqrDist:()=>Rn,sqrLen:()=>Ln,squaredDistance:()=>sn,squaredLength:()=>hn,str:()=>_n,sub:()=>Cn,subtract:()=>$e,transformMat3:()=>bn,transformMat4:()=>Mn,transformQuat:()=>yn,zero:()=>In});var c={};n.r(c),n.d(c,{add:()=>Yn,ceil:()=>Hn,clone:()=>jn,copy:()=>Un,create:()=>Dn,cross:()=>hr,dist:()=>yr,distance:()=>tr,div:()=>br,divide:()=>Gn,dot:()=>sr,equals:()=>mr,exactEquals:()=>gr,floor:()=>Nn,forEach:()=>Pr,fromValues:()=>zn,inverse:()=>ar,len:()=>wr,length:()=>nr,lerp:()=>cr,max:()=>Wn,min:()=>$n,mul:()=>Mr,multiply:()=>Zn,negate:()=>ir,normalize:()=>or,random:()=>ur,round:()=>Qn,scale:()=>Jn,scaleAndAdd:()=>Kn,set:()=>Vn,sqrDist:()=>xr,sqrLen:()=>Sr,squaredDistance:()=>er,squaredLength:()=>rr,str:()=>pr,sub:()=>vr,subtract:()=>Xn,transformMat4:()=>lr,transformQuat:()=>fr,zero:()=>dr});var u={};n.r(u),n.d(u,{add:()=>ei,calculateW:()=>Rr,clone:()=>Qr,conjugate:()=>Ur,copy:()=>Kr,create:()=>Ir,dot:()=>ii,equals:()=>fi,exactEquals:()=>li,exp:()=>Fr,fromEuler:()=>Yr,fromMat3:()=>Vr,fromValues:()=>Jr,getAngle:()=>Ar,getAxisAngle:()=>Or,identity:()=>_r,invert:()=>zr,len:()=>si,length:()=>oi,lerp:()=>ai,ln:()=>Lr,mul:()=>ni,multiply:()=>Cr,normalize:()=>ui,pow:()=>Tr,random:()=>jr,rotateX:()=>qr,rotateY:()=>Er,rotateZ:()=>kr,rotationTo:()=>di,scale:()=>ri,set:()=>ti,setAxes:()=>gi,setAxisAngle:()=>Br,slerp:()=>Dr,sqlerp:()=>pi,sqrLen:()=>ci,squaredLength:()=>hi,str:()=>Xr});var l={};n.r(l),n.d(l,{add:()=>ji,clone:()=>vi,conjugate:()=>Gi,copy:()=>Pi,create:()=>mi,dot:()=>Yi,equals:()=>ta,exactEquals:()=>Ki,fromMat4:()=>Si,fromRotation:()=>wi,fromRotationTranslation:()=>yi,fromRotationTranslationValues:()=>bi,fromTranslation:()=>xi,fromValues:()=>Mi,getDual:()=>Oi,getReal:()=>Bi,getTranslation:()=>qi,identity:()=>Ii,invert:()=>Zi,len:()=>Ni,length:()=>Hi,lerp:()=>Xi,mul:()=>Ui,multiply:()=>zi,normalize:()=>Qi,rotateAroundAxis:()=>Di,rotateByQuatAppend:()=>Li,rotateByQuatPrepend:()=>Ti,rotateX:()=>ki,rotateY:()=>Ri,rotateZ:()=>Fi,scale:()=>Vi,set:()=>_i,setDual:()=>Ci,setReal:()=>Ai,sqrLen:()=>Wi,squaredLength:()=>$i,str:()=>Ji,translate:()=>Ei});var f={};n.r(f),n.d(f,{add:()=>oa,angle:()=>ka,ceil:()=>ua,clone:()=>na,copy:()=>ia,create:()=>ea,cross:()=>Ia,dist:()=>Va,distance:()=>va,div:()=>Ua,divide:()=>ca,dot:()=>Pa,equals:()=>Ta,exactEquals:()=>La,floor:()=>la,forEach:()=>Za,fromValues:()=>ra,inverse:()=>wa,len:()=>Da,length:()=>ba,lerp:()=>_a,max:()=>da,min:()=>fa,mul:()=>za,multiply:()=>ha,negate:()=>xa,normalize:()=>Sa,random:()=>Ba,rotate:()=>Ea,round:()=>pa,scale:()=>ga,scaleAndAdd:()=>ma,set:()=>aa,sqrDist:()=>Ya,sqrLen:()=>Xa,squaredDistance:()=>Ma,squaredLength:()=>ya,str:()=>Fa,sub:()=>ja,subtract:()=>sa,transformMat2:()=>Oa,transformMat2d:()=>Aa,transformMat3:()=>Ca,transformMat4:()=>qa,zero:()=>Ra});var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,g=Math.random;function m(t){p=t}var v=Math.PI/180;function M(t){return t*v}function b(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function y(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function x(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function S(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function P(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function I(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function _(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function B(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function O(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function A(t){return t[0]*t[3]-t[2]*t[1]}function C(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],h=n[1],c=n[2],u=n[3];return t[0]=r*s+a*h,t[1]=i*s+o*h,t[2]=r*c+a*u,t[3]=i*c+o*u,t}function q(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+a*s,t[1]=i*h+o*s,t[2]=r*-s+a*h,t[3]=i*-s+o*h,t}function E(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],h=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*h,t[3]=o*h,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function R(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function F(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t){return Math.hypot(t[0],t[1],t[2],t[3])}function T(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function D(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function j(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function z(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function U(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],h=e[2],c=e[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=d*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}function V(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var X=C,Z=j;function G(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function H(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function N(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function $(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function W(t,e,n,r,i,a){var o=new p(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function Q(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t}function J(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=n*a-r*i;return h?(h=1/h,t[0]=a*h,t[1]=-r*h,t[2]=-i*h,t[3]=n*h,t[4]=(i*s-a*o)*h,t[5]=(r*o-n*s)*h,t):null}function K(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=n[0],u=n[1],l=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*c+a*u,t[1]=i*c+o*u,t[2]=r*l+a*f,t[3]=i*l+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+h,t}function et(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*c,t[1]=i*u+o*c,t[2]=r*-c+a*u,t[3]=i*-c+o*u,t[4]=s,t[5]=h,t}function nt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=n[0],u=n[1];return t[0]=r*c,t[1]=i*c,t[2]=a*u,t[3]=o*u,t[4]=s,t[5]=h,t}function rt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=n[0],u=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*c+a*u+s,t[5]=i*c+o*u+h,t}function it(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ht(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function ut(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function ft(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=e[0],c=e[1],u=e[2],l=e[3],f=e[4],p=e[5];return Math.abs(n-h)<=d*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-f)<=d*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))}var gt=tt,mt=ut;function vt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function bt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function yt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function xt(t,e,n,r,i,a,o,s,h){var c=new p(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=h,c}function wt(t,e,n,r,i,a,o,s,h,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=h,t[8]=c,t}function St(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Pt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function It(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],c=e[7],u=e[8],l=u*o-s*c,f=-u*a+s*h,d=c*a-o*h,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-u*r+i*c)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(u*n-i*h)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-c*n+r*h)*p,t[8]=(o*n-r*a)*p,t):null}function _t(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],c=e[7],u=e[8];return t[0]=o*u-s*c,t[1]=i*c-r*u,t[2]=r*s-i*o,t[3]=s*h-a*u,t[4]=n*u-i*h,t[5]=i*a-n*s,t[6]=a*c-o*h,t[7]=r*h-n*c,t[8]=n*o-r*a,t}function Bt(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],h=t[7],c=t[8];return e*(c*a-o*h)+n*(-c*i+o*s)+r*(h*i-a*s)}function Ot(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],m=n[4],v=n[5],M=n[6],b=n[7],y=n[8];return t[0]=f*r+d*o+p*c,t[1]=f*i+d*s+p*u,t[2]=f*a+d*h+p*l,t[3]=g*r+m*o+v*c,t[4]=g*i+m*s+v*u,t[5]=g*a+m*h+v*l,t[6]=M*r+b*o+y*c,t[7]=M*i+b*s+y*u,t[8]=M*a+b*h+y*l,t}function At(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=h,t[6]=f*r+d*o+c,t[7]=f*i+d*s+u,t[8]=f*a+d*h+l,t}function Ct(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*h,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*h-f*a,t[6]=c,t[7]=u,t[8]=l,t}function qt(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Et(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function kt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Rt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Lt(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,h=i+i,c=n*o,u=r*o,l=r*s,f=i*o,d=i*s,p=i*h,g=a*o,m=a*s,v=a*h;return t[0]=1-l-p,t[3]=u-v,t[6]=f+m,t[1]=u+v,t[4]=1-c-p,t[7]=d-g,t[2]=f-m,t[5]=d+g,t[8]=1-c-l,t}function Tt(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],m=e[14],v=e[15],M=n*s-r*o,b=n*h-i*o,y=n*c-a*o,x=r*h-i*s,w=r*c-a*s,S=i*c-a*h,P=u*g-l*p,I=u*m-f*p,_=u*v-d*p,B=l*m-f*g,O=l*v-d*g,A=f*v-d*m,C=M*A-b*O+y*B+x*_-w*I+S*P;return C?(C=1/C,t[0]=(s*A-h*O+c*B)*C,t[1]=(h*_-o*A-c*I)*C,t[2]=(o*O-s*_+c*P)*C,t[3]=(i*O-r*A-a*B)*C,t[4]=(n*A-i*_+a*I)*C,t[5]=(r*_-n*O-a*P)*C,t[6]=(g*S-m*w+v*x)*C,t[7]=(m*y-p*S-v*b)*C,t[8]=(p*w-g*y+v*M)*C,t):null}function Dt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function jt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function zt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Vt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Yt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Xt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Zt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Gt(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=t[6],c=t[7],u=t[8],l=e[0],f=e[1],p=e[2],g=e[3],m=e[4],v=e[5],M=e[6],b=e[7],y=e[8];return Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-g)<=d*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-m)<=d*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-v)<=d*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(h-M)<=d*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(c-b)<=d*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(u-y)<=d*Math.max(1,Math.abs(u),Math.abs(y))}var Ht=Ot,Nt=Vt;function $t(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Wt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,n,r,i,a,o,s,h,c,u,l,f,d,g,m){var v=new p(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=a,v[6]=o,v[7]=s,v[8]=h,v[9]=c,v[10]=u,v[11]=l,v[12]=f,v[13]=d,v[14]=g,v[15]=m,v}function Kt(t,e,n,r,i,a,o,s,h,c,u,l,f,d,p,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=h,t[8]=c,t[9]=u,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=g,t[15]=m,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],m=e[14],v=e[15],M=n*s-r*o,b=n*h-i*o,y=n*c-a*o,x=r*h-i*s,w=r*c-a*s,S=i*c-a*h,P=u*g-l*p,I=u*m-f*p,_=u*v-d*p,B=l*m-f*g,O=l*v-d*g,A=f*v-d*m,C=M*A-b*O+y*B+x*_-w*I+S*P;return C?(C=1/C,t[0]=(s*A-h*O+c*B)*C,t[1]=(i*O-r*A-a*B)*C,t[2]=(g*S-m*w+v*x)*C,t[3]=(f*w-l*S-d*x)*C,t[4]=(h*_-o*A-c*I)*C,t[5]=(n*A-i*_+a*I)*C,t[6]=(m*y-p*S-v*b)*C,t[7]=(u*S-f*y+d*b)*C,t[8]=(o*O-s*_+c*P)*C,t[9]=(r*_-n*O-a*P)*C,t[10]=(p*w-g*y+v*M)*C,t[11]=(l*y-u*w-d*M)*C,t[12]=(s*I-o*B-h*P)*C,t[13]=(n*B-r*I+i*P)*C,t[14]=(g*b-p*x-m*M)*C,t[15]=(u*x-l*b+f*M)*C,t):null}function re(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(f*v-d*m)-l*(h*v-c*m)+g*(h*d-c*f),t[1]=-(r*(f*v-d*m)-l*(i*v-a*m)+g*(i*d-a*f)),t[2]=r*(h*v-c*m)-s*(i*v-a*m)+g*(i*c-a*h),t[3]=-(r*(h*d-c*f)-s*(i*d-a*f)+l*(i*c-a*h)),t[4]=-(o*(f*v-d*m)-u*(h*v-c*m)+p*(h*d-c*f)),t[5]=n*(f*v-d*m)-u*(i*v-a*m)+p*(i*d-a*f),t[6]=-(n*(h*v-c*m)-o*(i*v-a*m)+p*(i*c-a*h)),t[7]=n*(h*d-c*f)-o*(i*d-a*f)+u*(i*c-a*h),t[8]=o*(l*v-d*g)-u*(s*v-c*g)+p*(s*d-c*l),t[9]=-(n*(l*v-d*g)-u*(r*v-a*g)+p*(r*d-a*l)),t[10]=n*(s*v-c*g)-o*(r*v-a*g)+p*(r*c-a*s),t[11]=-(n*(s*d-c*l)-o*(r*d-a*l)+u*(r*c-a*s)),t[12]=-(o*(l*m-f*g)-u*(s*m-h*g)+p*(s*f-h*l)),t[13]=n*(l*m-f*g)-u*(r*m-i*g)+p*(r*f-i*l),t[14]=-(n*(s*m-h*g)-o*(r*m-i*g)+p*(r*h-i*s)),t[15]=n*(s*f-h*l)-o*(r*f-i*l)+u*(r*h-i*s),t}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],h=t[7],c=t[8],u=t[9],l=t[10],f=t[11],d=t[12],p=t[13],g=t[14],m=t[15];return(e*o-n*a)*(l*m-f*g)-(e*s-r*a)*(u*m-f*p)+(e*h-i*a)*(u*g-l*p)+(n*s-r*o)*(c*m-f*d)-(n*h-i*o)*(c*g-l*d)+(r*h-i*s)*(c*p-u*d)}function ae(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],g=e[12],m=e[13],v=e[14],M=e[15],b=n[0],y=n[1],x=n[2],w=n[3];return t[0]=b*r+y*s+x*l+w*g,t[1]=b*i+y*h+x*f+w*m,t[2]=b*a+y*c+x*d+w*v,t[3]=b*o+y*u+x*p+w*M,b=n[4],y=n[5],x=n[6],w=n[7],t[4]=b*r+y*s+x*l+w*g,t[5]=b*i+y*h+x*f+w*m,t[6]=b*a+y*c+x*d+w*v,t[7]=b*o+y*u+x*p+w*M,b=n[8],y=n[9],x=n[10],w=n[11],t[8]=b*r+y*s+x*l+w*g,t[9]=b*i+y*h+x*f+w*m,t[10]=b*a+y*c+x*d+w*v,t[11]=b*o+y*u+x*p+w*M,b=n[12],y=n[13],x=n[14],w=n[15],t[12]=b*r+y*s+x*l+w*g,t[13]=b*i+y*h+x*f+w*m,t[14]=b*a+y*c+x*d+w*v,t[15]=b*o+y*u+x*p+w*M,t}function oe(t,e,n){var r,i,a,o,s,h,c,u,l,f,d,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=h,t[6]=c,t[7]=u,t[8]=l,t[9]=f,t[10]=d,t[11]=p,t[12]=r*g+s*m+l*v+e[12],t[13]=i*g+h*m+f*v+e[13],t[14]=a*g+c*m+d*v+e[14],t[15]=o*g+u*m+p*v+e[15]),t}function se(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function he(t,e,n,r){var i,a,o,s,h,c,u,l,f,p,g,m,v,M,b,y,x,w,S,P,I,_,B,O,A=r[0],C=r[1],q=r[2],E=Math.hypot(A,C,q);return E<d?null:(A*=E=1/E,C*=E,q*=E,i=Math.sin(n),o=1-(a=Math.cos(n)),s=e[0],h=e[1],c=e[2],u=e[3],l=e[4],f=e[5],p=e[6],g=e[7],m=e[8],v=e[9],M=e[10],b=e[11],y=A*A*o+a,x=C*A*o+q*i,w=q*A*o-C*i,S=A*C*o-q*i,P=C*C*o+a,I=q*C*o+A*i,_=A*q*o+C*i,B=C*q*o-A*i,O=q*q*o+a,t[0]=s*y+l*x+m*w,t[1]=h*y+f*x+v*w,t[2]=c*y+p*x+M*w,t[3]=u*y+g*x+b*w,t[4]=s*S+l*P+m*I,t[5]=h*S+f*P+v*I,t[6]=c*S+p*P+M*I,t[7]=u*S+g*P+b*I,t[8]=s*_+l*B+m*O,t[9]=h*_+f*B+v*O,t[10]=c*_+p*B+M*O,t[11]=u*_+g*B+b*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],h=e[7],c=e[8],u=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+l*r,t[7]=h*i+f*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=l*i-s*r,t[11]=f*i-h*r,t}function ue(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],h=e[3],c=e[8],u=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-l*r,t[3]=h*i-f*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+l*i,t[11]=h*r+f*i,t}function le(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],h=e[3],c=e[4],u=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+l*r,t[3]=h*i+f*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=l*i-s*r,t[7]=f*i-h*r,t}function fe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,n){var r,i,a,o=n[0],s=n[1],h=n[2],c=Math.hypot(o,s,h);return c<d?null:(o*=c=1/c,s*=c,h*=c,r=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=s*o*a+h*r,t[2]=h*o*a-s*r,t[3]=0,t[4]=o*s*a-h*r,t[5]=s*s*a+i,t[6]=h*s*a+o*r,t[7]=0,t[8]=o*h*a+s*r,t[9]=s*h*a-o*r,t[10]=h*h*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ge(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Me(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,h=i+i,c=a+a,u=r*s,l=r*h,f=r*c,d=i*h,p=i*c,g=a*c,m=o*s,v=o*h,M=o*c;return t[0]=1-(d+g),t[1]=l+M,t[2]=f-v,t[3]=0,t[4]=l-M,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=f+v,t[9]=p-m,t[10]=1-(u+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function be(t,e){var n=new p(3),r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=r*r+i*i+a*a+o*o;return l>0?(n[0]=2*(s*o+u*r+h*a-c*i)/l,n[1]=2*(h*o+u*i+c*r-s*a)/l,n[2]=2*(c*o+u*a+s*i-h*r)/l):(n[0]=2*(s*o+u*r+h*a-c*i),n[1]=2*(h*o+u*i+c*r-s*a),n[2]=2*(c*o+u*a+s*i-h*r)),Me(t,e,n),t}function ye(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function xe(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],h=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(h,c,u),t}function we(t,e){var n=new p(3);xe(n,e);var r=1/n[0],i=1/n[1],a=1/n[2],o=e[0]*r,s=e[1]*i,h=e[2]*a,c=e[4]*r,u=e[5]*i,l=e[6]*a,f=e[8]*r,d=e[9]*i,g=e[10]*a,m=o+u+g,v=0;return m>0?(v=2*Math.sqrt(m+1),t[3]=.25*v,t[0]=(l-d)/v,t[1]=(f-h)/v,t[2]=(s-c)/v):o>u&&o>g?(v=2*Math.sqrt(1+o-u-g),t[3]=(l-d)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(f+h)/v):u>g?(v=2*Math.sqrt(1+u-o-g),t[3]=(f-h)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(l+d)/v):(v=2*Math.sqrt(1+g-o-u),t[3]=(s-c)/v,t[0]=(f+h)/v,t[1]=(l+d)/v,t[2]=.25*v),t}function Se(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],h=i+i,c=a+a,u=o+o,l=i*h,f=i*c,d=i*u,p=a*c,g=a*u,m=o*u,v=s*h,M=s*c,b=s*u,y=r[0],x=r[1],w=r[2];return t[0]=(1-(p+m))*y,t[1]=(f+b)*y,t[2]=(d-M)*y,t[3]=0,t[4]=(f-b)*x,t[5]=(1-(l+m))*x,t[6]=(g+v)*x,t[7]=0,t[8]=(d+M)*w,t[9]=(g-v)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Pe(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],h=e[3],c=a+a,u=o+o,l=s+s,f=a*c,d=a*u,p=a*l,g=o*u,m=o*l,v=s*l,M=h*c,b=h*u,y=h*l,x=r[0],w=r[1],S=r[2],P=i[0],I=i[1],_=i[2],B=(1-(g+v))*x,O=(d+y)*x,A=(p-b)*x,C=(d-y)*w,q=(1-(f+v))*w,E=(m+M)*w,k=(p+b)*S,R=(m-M)*S,F=(1-(f+g))*S;return t[0]=B,t[1]=O,t[2]=A,t[3]=0,t[4]=C,t[5]=q,t[6]=E,t[7]=0,t[8]=k,t[9]=R,t[10]=F,t[11]=0,t[12]=n[0]+P-(B*P+C*I+k*_),t[13]=n[1]+I-(O*P+q*I+R*_),t[14]=n[2]+_-(A*P+E*I+F*_),t[15]=1,t}function Ie(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,h=i+i,c=n*o,u=r*o,l=r*s,f=i*o,d=i*s,p=i*h,g=a*o,m=a*s,v=a*h;return t[0]=1-l-p,t[1]=u+v,t[2]=f-m,t[3]=0,t[4]=u-v,t[5]=1-c-p,t[6]=d+g,t[7]=0,t[8]=f+m,t[9]=d-g,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,n,r,i,a,o){var s=1/(n-e),h=1/(i-r),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*h,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*h,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function Be(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function Oe(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),h=2/(o+s),c=2/(i+a);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*h*.5,t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ae(t,e,n,r,i,a,o){var s=1/(e-n),h=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*h,t[14]=(o+a)*c,t[15]=1,t}function Ce(t,e,n,r){var i,a,o,s,h,c,u,l,f,p,g=e[0],m=e[1],v=e[2],M=r[0],b=r[1],y=r[2],x=n[0],w=n[1],S=n[2];return Math.abs(g-x)<d&&Math.abs(m-w)<d&&Math.abs(v-S)<d?te(t):(u=g-x,l=m-w,f=v-S,i=b*(f*=p=1/Math.hypot(u,l,f))-y*(l*=p),a=y*(u*=p)-M*f,o=M*l-b*u,(p=Math.hypot(i,a,o))?(i*=p=1/p,a*=p,o*=p):(i=0,a=0,o=0),s=l*o-f*a,h=f*i-u*o,c=u*a-l*i,(p=Math.hypot(s,h,c))?(s*=p=1/p,h*=p,c*=p):(s=0,h=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=h,t[6]=l,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*g+a*m+o*v),t[13]=-(s*g+h*m+c*v),t[14]=-(u*g+l*m+f*v),t[15]=1,t)}function qe(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],h=r[1],c=r[2],u=i-n[0],l=a-n[1],f=o-n[2],d=u*u+l*l+f*f;d>0&&(u*=d=1/Math.sqrt(d),l*=d,f*=d);var p=h*f-c*l,g=c*u-s*f,m=s*l-h*u;return(d=p*p+g*g+m*m)>0&&(p*=d=1/Math.sqrt(d),g*=d,m*=d),t[0]=p,t[1]=g,t[2]=m,t[3]=0,t[4]=l*m-f*g,t[5]=f*p-u*m,t[6]=u*g-l*p,t[7]=0,t[8]=u,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function Ee(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ke(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Re(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Fe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Le(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Te(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function De(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function je(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=t[6],c=t[7],u=t[8],l=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],M=t[15],b=e[0],y=e[1],x=e[2],w=e[3],S=e[4],P=e[5],I=e[6],_=e[7],B=e[8],O=e[9],A=e[10],C=e[11],q=e[12],E=e[13],k=e[14],R=e[15];return Math.abs(n-b)<=d*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-y)<=d*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-x)<=d*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-w)<=d*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-S)<=d*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-P)<=d*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(h-I)<=d*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(c-_)<=d*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-B)<=d*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(l-O)<=d*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(f-A)<=d*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-C)<=d*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(g-q)<=d*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(m-E)<=d*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(v-k)<=d*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(M-R)<=d*Math.max(1,Math.abs(M),Math.abs(R))}var ze=ae,Ue=Fe;function Ve(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ye(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xe(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Ze(t,e,n){var r=new p(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ge(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function He(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ne(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function $e(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function We(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Qe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ke(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function an(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function on(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function sn(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function hn(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function un(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ln(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],h=n[2];return t[0]=i*h-a*s,t[1]=a*o-r*h,t[2]=r*s-i*o,t}function pn(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function gn(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,h=o*(a-2)+a,c=o*(a-1),u=o*(3-2*a);return t[0]=e[0]*s+n[0]*h+r[0]*c+i[0]*u,t[1]=e[1]*s+n[1]*h+r[1]*c+i[1]*u,t[2]=e[2]*s+n[2]*h+r[2]*c+i[2]*u,t}function mn(t,e,n,r,i,a){var o=1-a,s=o*o,h=a*a,c=s*o,u=3*a*s,l=3*h*o,f=h*a;return t[0]=e[0]*c+n[0]*u+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*u+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*u+r[2]*l+i[2]*f,t}function vn(t,e){e=e||1;var n=2*g()*Math.PI,r=2*g()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Mn(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function bn(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function yn(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],h=e[1],c=e[2],u=i*c-a*h,l=a*s-r*c,f=r*h-i*s,d=i*f-a*l,p=a*u-r*f,g=r*l-i*u,m=2*o;return u*=m,l*=m,f*=m,d*=2,p*=2,g*=2,t[0]=s+u+d,t[1]=h+l+p,t[2]=c+f+g,t}function xn(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function wn(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Sn(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Pn(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],h=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(a*a+o*o+s*s),c=h&&fn(t,e)/h;return Math.acos(Math.min(Math.max(c,-1),1))}function In(t){return t[0]=0,t[1]=0,t[2]=0,t}function _n(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Bn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function On(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))}var An,Cn=$e,qn=We,En=Qe,kn=on,Rn=sn,Fn=Xe,Ln=hn,Tn=(An=Ve(),function(t,e,n,r,i,a){var o,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)An[0]=t[o],An[1]=t[o+1],An[2]=t[o+2],i(An,An,a),t[o]=An[0],t[o+1]=An[1],t[o+2]=An[2];return t});function Dn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function jn(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function zn(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Un(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Vn(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Yn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Xn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Zn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Gn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Hn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Nn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function $n(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Wn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Qn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Jn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Kn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tr(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(n,r,i,a)}function er(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function nr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function rr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function ir(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ar(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function or(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function sr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function hr(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],h=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],u=e[0],l=e[1],f=e[2],d=e[3];return t[0]=l*c-f*h+d*s,t[1]=-u*c+f*o-d*a,t[2]=u*h-l*o+d*i,t[3]=-u*s+l*a-f*i,t}function cr(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function ur(t,e){var n,r,i,a,o,s;e=e||1;do{o=(n=2*g()-1)*n+(r=2*g()-1)*r}while(o>=1);do{s=(i=2*g()-1)*i+(a=2*g()-1)*a}while(s>=1);var h=Math.sqrt((1-o)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*h,t[3]=e*a*h,t}function lr(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function fr(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],h=n[2],c=n[3],u=c*r+s*a-h*i,l=c*i+h*r-o*a,f=c*a+o*i-s*r,d=-o*r-s*i-h*a;return t[0]=u*c+d*-o+l*-h-f*-s,t[1]=l*c+d*-s+f*-o-u*-h,t[2]=f*c+d*-h+u*-s-l*-o,t[3]=e[3],t}function dr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function gr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function mr(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],h=e[2],c=e[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=d*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}var vr=Xn,Mr=Zn,br=Gn,yr=tr,xr=er,wr=nr,Sr=rr,Pr=function(){var t=Dn();return function(e,n,r,i,a,o){var s,h;for(n||(n=4),r||(r=0),h=i?Math.min(i*n+r,e.length):e.length,s=r;s<h;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Ir(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function _r(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Br(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Or(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>d?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ar(t,e){var n=ii(t,e);return Math.acos(2*n*n-1)}function Cr(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],h=n[1],c=n[2],u=n[3];return t[0]=r*u+o*s+i*c-a*h,t[1]=i*u+o*h+a*s-r*c,t[2]=a*u+o*c+r*h-i*s,t[3]=o*u-r*s-i*h-a*c,t}function qr(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+o*s,t[1]=i*h+a*s,t[2]=a*h-i*s,t[3]=o*h-r*s,t}function Er(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h-a*s,t[1]=i*h+o*s,t[2]=a*h+r*s,t[3]=o*h-i*s,t}function kr(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+i*s,t[1]=i*h-r*s,t[2]=a*h+o*s,t[3]=o*h-a*s,t}function Rr(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Fr(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=Math.exp(a),h=o>0?s*Math.sin(o)/o:0;return t[0]=n*h,t[1]=r*h,t[2]=i*h,t[3]=s*Math.cos(o),t}function Lr(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+a*a),t}function Tr(t,e,n){return Lr(t,e),ri(t,t,n),Fr(t,t),t}function Dr(t,e,n,r){var i,a,o,s,h,c=e[0],u=e[1],l=e[2],f=e[3],p=n[0],g=n[1],m=n[2],v=n[3];return(a=c*p+u*g+l*m+f*v)<0&&(a=-a,p=-p,g=-g,m=-m,v=-v),1-a>d?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,h=Math.sin(r*i)/o):(s=1-r,h=r),t[0]=s*c+h*p,t[1]=s*u+h*g,t[2]=s*l+h*m,t[3]=s*f+h*v,t}function jr(t){var e=g(),n=g(),r=g(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t}function zr(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function Ur(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Vr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}function Yr(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(n),h=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=a*h*u-o*s*c,t[1]=o*s*u+a*h*c,t[2]=o*h*c-a*s*u,t[3]=o*h*u+a*s*c,t}function Xr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Zr,Gr,Hr,Nr,$r,Wr,Qr=jn,Jr=zn,Kr=Un,ti=Vn,ei=Yn,ni=Cr,ri=Jn,ii=sr,ai=cr,oi=nr,si=oi,hi=rr,ci=hi,ui=or,li=gr,fi=mr,di=(Zr=Ve(),Gr=Ze(1,0,0),Hr=Ze(0,1,0),function(t,e,n){var r=fn(e,n);return r<-.999999?(dn(Zr,Gr,e),Fn(Zr)<1e-6&&dn(Zr,Hr,e),ln(Zr,Zr),Br(t,Zr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(dn(Zr,e,n),t[0]=Zr[0],t[1]=Zr[1],t[2]=Zr[2],t[3]=1+r,ui(t,t))}),pi=(Nr=Ir(),$r=Ir(),function(t,e,n,r,i,a){return Dr(Nr,e,i,a),Dr($r,n,r,a),Dr(t,Nr,$r,2*a*(1-a)),t}),gi=(Wr=vt(),function(t,e,n,r){return Wr[0]=n[0],Wr[3]=n[1],Wr[6]=n[2],Wr[1]=r[0],Wr[4]=r[1],Wr[7]=r[2],Wr[2]=-e[0],Wr[5]=-e[1],Wr[8]=-e[2],ui(t,Vr(t,Wr))});function mi(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function vi(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Mi(t,e,n,r,i,a,o,s){var h=new p(8);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=i,h[5]=a,h[6]=o,h[7]=s,h}function bi(t,e,n,r,i,a,o){var s=new p(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var h=.5*i,c=.5*a,u=.5*o;return s[4]=h*r+c*n-u*e,s[5]=c*r+u*t-h*n,s[6]=u*r+h*e-c*t,s[7]=-h*t-c*e-u*n,s}function yi(t,e,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],o=e[0],s=e[1],h=e[2],c=e[3];return t[0]=o,t[1]=s,t[2]=h,t[3]=c,t[4]=r*c+i*h-a*s,t[5]=i*c+a*o-r*h,t[6]=a*c+r*s-i*o,t[7]=-r*o-i*s-a*h,t}function xi(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function wi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Si(t,e){var n=Ir();we(n,e);var r=new p(3);return ye(r,e),yi(t,n,r),t}function Pi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ii(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function _i(t,e,n,r,i,a,o,s,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=h,t}var Bi=Kr;function Oi(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ai=Kr;function Ci(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function qi(t,e){var n=e[4],r=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],h=-e[2],c=e[3];return t[0]=2*(n*c+a*o+r*h-i*s),t[1]=2*(r*c+a*s+i*o-n*h),t[2]=2*(i*c+a*h+n*s-r*o),t}function Ei(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=.5*n[0],h=.5*n[1],c=.5*n[2],u=e[4],l=e[5],f=e[6],d=e[7];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*c-a*h+u,t[5]=o*h+a*s-r*c+l,t[6]=o*c+r*h-i*s+f,t[7]=-r*s-i*h-a*c+d,t}function ki(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=s*o+u*r+h*a-c*i,f=h*o+u*i+c*r-s*a,d=c*o+u*a+s*i-h*r,p=u*o-s*r-h*i-c*a;return qr(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+p*r+f*a-d*i,t[5]=f*o+p*i+d*r-l*a,t[6]=d*o+p*a+l*i-f*r,t[7]=p*o-l*r-f*i-d*a,t}function Ri(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=s*o+u*r+h*a-c*i,f=h*o+u*i+c*r-s*a,d=c*o+u*a+s*i-h*r,p=u*o-s*r-h*i-c*a;return Er(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+p*r+f*a-d*i,t[5]=f*o+p*i+d*r-l*a,t[6]=d*o+p*a+l*i-f*r,t[7]=p*o-l*r-f*i-d*a,t}function Fi(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],h=e[5],c=e[6],u=e[7],l=s*o+u*r+h*a-c*i,f=h*o+u*i+c*r-s*a,d=c*o+u*a+s*i-h*r,p=u*o-s*r-h*i-c*a;return kr(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+p*r+f*a-d*i,t[5]=f*o+p*i+d*r-l*a,t[6]=d*o+p*a+l*i-f*r,t[7]=p*o-l*r-f*i-d*a,t}function Li(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],h=e[1],c=e[2],u=e[3];return t[0]=s*o+u*r+h*a-c*i,t[1]=h*o+u*i+c*r-s*a,t[2]=c*o+u*a+s*i-h*r,t[3]=u*o-s*r-h*i-c*a,s=e[4],h=e[5],c=e[6],u=e[7],t[4]=s*o+u*r+h*a-c*i,t[5]=h*o+u*i+c*r-s*a,t[6]=c*o+u*a+s*i-h*r,t[7]=u*o-s*r-h*i-c*a,t}function Ti(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],h=n[1],c=n[2],u=n[3];return t[0]=r*u+o*s+i*c-a*h,t[1]=i*u+o*h+a*s-r*c,t[2]=a*u+o*c+r*h-i*s,t[3]=o*u-r*s-i*h-a*c,s=n[4],h=n[5],c=n[6],u=n[7],t[4]=r*u+o*s+i*c-a*h,t[5]=i*u+o*h+a*s-r*c,t[6]=a*u+o*c+r*h-i*s,t[7]=o*u-r*s-i*h-a*c,t}function Di(t,e,n,r){if(Math.abs(r)<d)return Pi(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),o=a*n[0]/i,s=a*n[1]/i,h=a*n[2]/i,c=Math.cos(r),u=e[0],l=e[1],f=e[2],p=e[3];t[0]=u*c+p*o+l*h-f*s,t[1]=l*c+p*s+f*o-u*h,t[2]=f*c+p*h+u*s-l*o,t[3]=p*c-u*o-l*s-f*h;var g=e[4],m=e[5],v=e[6],M=e[7];return t[4]=g*c+M*o+m*h-v*s,t[5]=m*c+M*s+v*o-g*h,t[6]=v*c+M*h+g*s-m*o,t[7]=M*c-g*o-m*s-v*h,t}function ji(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function zi(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[4],h=n[5],c=n[6],u=n[7],l=e[4],f=e[5],d=e[6],p=e[7],g=n[0],m=n[1],v=n[2],M=n[3];return t[0]=r*M+o*g+i*v-a*m,t[1]=i*M+o*m+a*g-r*v,t[2]=a*M+o*v+r*m-i*g,t[3]=o*M-r*g-i*m-a*v,t[4]=r*u+o*s+i*c-a*h+l*M+p*g+f*v-d*m,t[5]=i*u+o*h+a*s-r*c+f*M+p*m+d*g-l*v,t[6]=a*u+o*c+r*h-i*s+d*M+p*v+l*m-f*g,t[7]=o*u-r*s-i*h-a*c+p*M-l*g-f*m-d*v,t}var Ui=zi;function Vi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Yi=ii;function Xi(t,e,n,r){var i=1-r;return Yi(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function Zi(t,e){var n=$i(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Gi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Hi=oi,Ni=Hi,$i=hi,Wi=$i;function Qi(t,e){var n=$i(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,a=e[2]/n,o=e[3]/n,s=e[4],h=e[5],c=e[6],u=e[7],l=r*s+i*h+a*c+o*u;t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-r*l)/n,t[5]=(h-i*l)/n,t[6]=(c-a*l)/n,t[7]=(u-o*l)/n}return t}function Ji(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ki(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ta(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=t[6],c=t[7],u=e[0],l=e[1],f=e[2],p=e[3],g=e[4],m=e[5],v=e[6],M=e[7];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-g)<=d*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(h-v)<=d*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-M)<=d*Math.max(1,Math.abs(c),Math.abs(M))}function ea(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function na(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function ra(t,e){var n=new p(2);return n[0]=t,n[1]=e,n}function ia(t,e){return t[0]=e[0],t[1]=e[1],t}function aa(t,e,n){return t[0]=e,t[1]=n,t}function oa(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function sa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function ha(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function ca(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function ua(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function la(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function fa(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function da(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function pa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ga(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ma(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function va(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function Ma(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ba(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function ya(t){var e=t[0],n=t[1];return e*e+n*n}function xa(t,e){return t[0]=-e[0],t[1]=-e[1],t}function wa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Sa(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Pa(t,e){return t[0]*e[0]+t[1]*e[1]}function Ia(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function _a(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function Ba(t,e){e=e||1;var n=2*g()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Oa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Aa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Ca(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function qa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Ea(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t}function ka(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),s=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function Ra(t){return t[0]=0,t[1]=0,t}function Fa(t){return"vec2("+t[0]+", "+t[1]+")"}function La(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ta(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))}var Da=ba,ja=sa,za=ha,Ua=ca,Va=va,Ya=Ma,Xa=ya,Za=function(){var t=ea();return function(e,n,r,i,a,o){var s,h;for(n||(n=2),r||(r=0),h=i?Math.min(i*n+r,e.length):e.length,s=r;s<h;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},21:(t,e,n)=>{var r;!function(){var i=.5*(Math.sqrt(3)-1),a=(3-Math.sqrt(3))/6,o=1/6,s=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function c(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,r=1,i=l();t=i(" "),e=i(" "),n=i(" ");for(var a=0;a<arguments.length;a++)(t-=i(arguments[a]))<0&&(t+=1),(e-=i(arguments[a]))<0&&(e+=1),(n-=i(arguments[a]))<0&&(n+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*r;return t=e,e=n,n=i-(r=0|i)}}(t):Math.random,this.p=u(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function u(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var r=e+~~(t()*(256-e)),i=n[e];n[e]=n[r],n[r]=i}return n}function l(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}c.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,r,o=this.permMod12,s=this.perm,h=this.grad3,c=0,u=0,l=0,f=(t+e)*i,d=Math.floor(t+f),p=Math.floor(e+f),g=(d+p)*a,m=t-(d-g),v=e-(p-g);m>v?(n=1,r=0):(n=0,r=1);var M=m-n+a,b=v-r+a,y=m-1+2*a,x=v-1+2*a,w=255&d,S=255&p,P=.5-m*m-v*v;if(P>=0){var I=3*o[w+s[S]];c=(P*=P)*P*(h[I]*m+h[I+1]*v)}var _=.5-M*M-b*b;if(_>=0){var B=3*o[w+n+s[S+r]];u=(_*=_)*_*(h[B]*M+h[B+1]*b)}var O=.5-y*y-x*x;if(O>=0){var A=3*o[w+1+s[S+1]];l=(O*=O)*O*(h[A]*y+h[A+1]*x)}return 70*(c+u+l)},noise3D:function(t,e,n){var r,i,a,s,h,c,u,l,f,d,p=this.permMod12,g=this.perm,m=this.grad3,v=.3333333333333333*(t+e+n),M=Math.floor(t+v),b=Math.floor(e+v),y=Math.floor(n+v),x=(M+b+y)*o,w=t-(M-x),S=e-(b-x),P=n-(y-x);w>=S?S>=P?(h=1,c=0,u=0,l=1,f=1,d=0):w>=P?(h=1,c=0,u=0,l=1,f=0,d=1):(h=0,c=0,u=1,l=1,f=0,d=1):S<P?(h=0,c=0,u=1,l=0,f=1,d=1):w<P?(h=0,c=1,u=0,l=0,f=1,d=1):(h=0,c=1,u=0,l=1,f=1,d=0);var I=w-h+o,_=S-c+o,B=P-u+o,O=w-l+2*o,A=S-f+2*o,C=P-d+2*o,q=w-1+.5,E=S-1+.5,k=P-1+.5,R=255&M,F=255&b,L=255&y,T=.6-w*w-S*S-P*P;if(T<0)r=0;else{var D=3*p[R+g[F+g[L]]];r=(T*=T)*T*(m[D]*w+m[D+1]*S+m[D+2]*P)}var j=.6-I*I-_*_-B*B;if(j<0)i=0;else{var z=3*p[R+h+g[F+c+g[L+u]]];i=(j*=j)*j*(m[z]*I+m[z+1]*_+m[z+2]*B)}var U=.6-O*O-A*A-C*C;if(U<0)a=0;else{var V=3*p[R+l+g[F+f+g[L+d]]];a=(U*=U)*U*(m[V]*O+m[V+1]*A+m[V+2]*C)}var Y=.6-q*q-E*E-k*k;if(Y<0)s=0;else{var X=3*p[R+1+g[F+1+g[L+1]]];s=(Y*=Y)*Y*(m[X]*q+m[X+1]*E+m[X+2]*k)}return 32*(r+i+a+s)},noise4D:function(t,e,n,r){var i,a,o,c,u,l,f,d,p,g,m,v,M,b,y,x,w,S=this.perm,P=this.grad4,I=(t+e+n+r)*s,_=Math.floor(t+I),B=Math.floor(e+I),O=Math.floor(n+I),A=Math.floor(r+I),C=(_+B+O+A)*h,q=t-(_-C),E=e-(B-C),k=n-(O-C),R=r-(A-C),F=0,L=0,T=0,D=0;q>E?F++:L++,q>k?F++:T++,q>R?F++:D++,E>k?L++:T++,E>R?L++:D++,k>R?T++:D++;var j=q-(l=F>=3?1:0)+h,z=E-(f=L>=3?1:0)+h,U=k-(d=T>=3?1:0)+h,V=R-(p=D>=3?1:0)+h,Y=q-(g=F>=2?1:0)+2*h,X=E-(m=L>=2?1:0)+2*h,Z=k-(v=T>=2?1:0)+2*h,G=R-(M=D>=2?1:0)+2*h,H=q-(b=F>=1?1:0)+3*h,N=E-(y=L>=1?1:0)+3*h,$=k-(x=T>=1?1:0)+3*h,W=R-(w=D>=1?1:0)+3*h,Q=q-1+4*h,J=E-1+4*h,K=k-1+4*h,tt=R-1+4*h,et=255&_,nt=255&B,rt=255&O,it=255&A,at=.6-q*q-E*E-k*k-R*R;if(at<0)i=0;else{var ot=S[et+S[nt+S[rt+S[it]]]]%32*4;i=(at*=at)*at*(P[ot]*q+P[ot+1]*E+P[ot+2]*k+P[ot+3]*R)}var st=.6-j*j-z*z-U*U-V*V;if(st<0)a=0;else{var ht=S[et+l+S[nt+f+S[rt+d+S[it+p]]]]%32*4;a=(st*=st)*st*(P[ht]*j+P[ht+1]*z+P[ht+2]*U+P[ht+3]*V)}var ct=.6-Y*Y-X*X-Z*Z-G*G;if(ct<0)o=0;else{var ut=S[et+g+S[nt+m+S[rt+v+S[it+M]]]]%32*4;o=(ct*=ct)*ct*(P[ut]*Y+P[ut+1]*X+P[ut+2]*Z+P[ut+3]*G)}var lt=.6-H*H-N*N-$*$-W*W;if(lt<0)c=0;else{var ft=S[et+b+S[nt+y+S[rt+x+S[it+w]]]]%32*4;c=(lt*=lt)*lt*(P[ft]*H+P[ft+1]*N+P[ft+2]*$+P[ft+3]*W)}var dt=.6-Q*Q-J*J-K*K-tt*tt;if(dt<0)u=0;else{var pt=S[et+1+S[nt+1+S[rt+1+S[it+1]]]]%32*4;u=(dt*=dt)*dt*(P[pt]*Q+P[pt+1]*J+P[pt+2]*K+P[pt+3]*tt)}return 27*(i+a+o+c+u)}},c._buildPermutationTable=u,void 0===(r=function(){return c}.call(e,n,e,t))||(t.exports=r),e.SimplexNoise=c,t.exports=c}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{n.d(r,{fw:()=>B,Cd:()=>m.C,YG:()=>O.T,ZA:()=>i.Group,x1:()=>f.x,O7:()=>y.O,Dg:()=>w.Modifier,qn:()=>S.q,Q_:()=>_.PHI,yo:()=>_.PI2,mg:()=>g.m,UL:()=>p.U,he:()=>M.h,xs:()=>t.Scene,YM:()=>e.SceneChild,bn:()=>c.Shape,pK:()=>a.ShapeBase,rR:()=>h.ShapeBuffer,Sj:()=>l.S,Xc:()=>s.ShapeLoop,Gx:()=>o.ShapePrimitive,vI:()=>u.v,rU:()=>b.r,Ux:()=>v.U,yq:()=>x.y,CJ:()=>d.C,Sg:()=>I.default,X$:()=>t.__esModule,B7:()=>P.angle2FromRepetition,aT:()=>P.angleFromRepetition,uZ:()=>P.clamp,db:()=>P.distanceFromRepetition,NZ:()=>P.distributePointsInBuffer,sX:()=>P.interpolate,t7:()=>P.lerp,cM:()=>_.log,wQ:()=>_.mod,tF:()=>P.noise,zO:()=>P.now,tm:()=>P.prepareBufferForInterpolation,MX:()=>P.random,Sr:()=>P.relativeClamp,yx:()=>P.toDegrees,Yr:()=>P.toRadians});var t=n(1378),e=n(541),i=n(2513),a=n(2648),o=n(3674),s=n(6951),h=n(7439),c=n(6448),u=n(8563),l=n(5382),f=n(6329),d=n(4233),p=n(5510),g=n(2982),m=n(7520),v=n(9667),M=n(894),b=n(5719),y=n(1451),x=n(3977),w=n(9958),S=n(9514),P=n(313),I=n(795),_=n(3792),B=n(7518),O=n(2251)})();var i=r.fw,a=r.Cd,o=r.YG,s=r.ZA,h=r.x1,c=r.O7,u=r.Dg,l=r.qn,f=r.Q_,d=r.yo,p=r.mg,g=r.UL,m=r.he,v=r.xs,M=r.YM,b=r.bn,y=r.pK,x=r.rR,w=r.Sj,S=r.Xc,P=r.Gx,I=r.vI,_=r.rU,B=r.Ux,O=r.yq,A=r.CJ,C=r.Sg,q=r.X$,E=r.B7,k=r.aT,R=r.uZ,F=r.db,L=r.NZ,T=r.sX,D=r.t7,j=r.cM,z=r.wQ,U=r.tF,V=r.zO,Y=r.tm,X=r.MX,Z=r.Sr,G=r.yx,H=r.Yr;export{i as Animation,a as Circle,o as DrawerCanvas,s as Group,h as Line,c as Lissajous,u as Modifier,l as Modifiers,f as PHI,d as PI2,p as Polygon,g as Rect,m as Rose,v as Scene,M as SceneChild,b as Shape,y as ShapeBase,x as ShapeBuffer,w as ShapeFollow,S as ShapeLoop,P as ShapePrimitive,I as ShapeRecursive,_ as Spiral,B as Star,O as SuperShape,A as Triangle,C as Vec2,q as __esModule,E as angle2FromRepetition,k as angleFromRepetition,R as clamp,F as distanceFromRepetition,L as distributePointsInBuffer,T as interpolate,D as lerp,j as log,z as mod,U as noise,V as now,Y as prepareBufferForInterpolation,X as random,Z as relativeClamp,G as toDegrees,H as toRadians};